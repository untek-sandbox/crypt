<!doctype html>
<!--
  Curious about the inner workings?
  https://github.com/cryptii/cryptii
-->
<html lang="en">
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Modular conversion, encoding and encryption online â€” Cryptii</title>

    <!-- Icon -->
    <link rel="icon" sizes="16x16 32x32 48x48 64x64" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" sizes="32x32" type="image/png" href="/assets/icons/favicon-32.png">
    <link rel="apple-touch-icon-precomposed" href="/assets/icons/favicon-152.png">
    <link rel="icon" sizes="57x57" href="/assets/icons/favicon-57.png">
    <link rel="icon" sizes="76x76" href="/assets/icons/favicon-76.png">
    <link rel="icon" sizes="96x96" href="/assets/icons/favicon-96.png">
    <link rel="icon" sizes="120x120" href="/assets/icons/favicon-120.png">
    <link rel="icon" sizes="128x128" href="/assets/icons/favicon-128.png">
    <link rel="icon" sizes="167x167" href="/assets/icons/favicon-167.png">
    <link rel="icon" sizes="180x180" href="/assets/icons/favicon-180.png">
    <link rel="shortcut icon" sizes="196x196" href="/assets/icons/favicon-196.png">
    <link rel="icon" sizes="228x228" href="/assets/icons/favicon-228.png">
    <link rel="mask-icon" href="/assets/icons/favicon-mask.svg" color="#00b1d1">
    <meta name="msapplication-square70x70logo" content="/assets/icons/tile-70.png">
    <meta name="msapplication-square150x150logo" content="/assets/icons/tile-150.png">
    <meta name="msapplication-wide310x150logo" content="/assets/icons/tile-310x150.png">
    <meta name="msapplication-square310x310logo" content="/assets/icons/tile-310.png">
    <meta name="msapplication-starturl" content="/">

    <!-- Meta -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#00b1d1">

    <meta property="og:site_name" content="Cryptii">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Modular conversion, encoding and encryption online">

    
    <meta property="fb:app_id" content="127936877936238">
    
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@cryptii">
    
    
    
    <meta name="canonical" content="https://cryptii.com/">
    <meta property="og:url" content="https://cryptii.com/">
    
    <meta name="description" content="Web app offering modular conversion, encoding and encryption online. Translations are done in the browser without any server interaction. This is an Open Source project, code licensed MIT.">
    <meta property="og:description" content="Web app offering modular conversion, encoding and encryption online. Translations are done in the browser without any server interaction. This is an Open Source project, code licensed MIT.">
    <meta property="og:image"
          content="https://cryptii.com/assets/images/preview.png?v=1602615682">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">


    <!-- Style -->
    <style>
    @font-face {
      font-family: 'Source Code Pro';
      font-style: normal;
      font-weight: 400;
      src: local('Source Code Pro'), local('SourceCodePro-Regular'),
           url('/assets/fonts/source-code-pro-v7.woff2') format('woff2'),
           url('/assets/fonts/source-code-pro-v7.woff') format('woff');
    }
    @font-face {
      font-family: 'Roboto';
      font-style: normal;
      font-weight: 400;
      src: local('Roboto'), local('Roboto-Regular'),
           url('/assets/fonts/roboto-v18.woff2') format('woff2'),
           url('/assets/fonts/roboto-v18.woff') format('woff');
    }
    @font-face {
      font-family: 'Roboto';
      font-style: normal;
      font-weight: 500;
      src: local('Roboto Medium'), local('Roboto-Medium'),
           url('/assets/fonts/roboto-v18-500.woff2') format('woff2'),
           url('/assets/fonts/roboto-v18-500.woff') format('woff');
    }
    </style>
    <link rel="stylesheet" href="/assets/dist/style/cryptii.css?v=4.0.8+master.b029d8c">

    
    
    <!-- Script -->
    <script>(function(i,s,o,g,r,a,m,_){if(s.cookie.indexOf(r)===-1){i[g]=i[g]||[];
    i[g].push({'gtm.start':new Date().getTime(),'app.version':m,'app.env':_,
    event:'gtm.js'});var f=s.getElementsByTagName(o)[0],j=s.createElement(o);
    j.async=true;j.src='https://www.googletagmanager.com/gtm.js?'+a;
    f.parentNode.insertBefore(j,f);}})(window,document,'script','dataLayer',
    'cryptii_tracking_opt_out=1','id=GTM-N6BK363',
    '1602615682','production');</script>
    
    <script async src="data:application/javascript;base64,LyohIGNyeXB0aWkgdjQuMC44K21hc3Rlci5iMDI5ZDhjIC0gKGMpIEZyw6RueiBGcmllZGVyZXMgMjAyMCAqLwohZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP3QoZXhwb3J0cyxyZXF1aXJlKCJjcnlwdG8iKSk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoImNyeXB0aWkiLFsiZXhwb3J0cyIsImNyeXB0byJdLHQpOnQoKGU9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6ZXx8c2VsZikuY3J5cHRpaT17fSxlLmNyeXB0byl9KHRoaXMsKGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYiZGVmYXVsdCJpbiBlP2U6e2RlZmF1bHQ6ZX19dmFyIHI9bih0KSxpPSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6e307ZnVuY3Rpb24gYShlLHQpe3JldHVybiBlKHQ9e2V4cG9ydHM6e319LHQuZXhwb3J0cyksdC5leHBvcnRzfXZhciBvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLk1hdGg9PU1hdGgmJmV9LHM9bygib2JqZWN0Ij09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHxvKCJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpfHxvKCJvYmplY3QiPT10eXBlb2Ygc2VsZiYmc2VsZil8fG8oIm9iamVjdCI9PXR5cGVvZiBpJiZpKXx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKSxsPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19LHU9IWwoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKSxjPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGg9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixkPXtmOmgmJiFjLmNhbGwoezE6Mn0sMSk/ZnVuY3Rpb24oZSl7dmFyIHQ9aCh0aGlzLGUpO3JldHVybiEhdCYmdC5lbnVtZXJhYmxlfTpjfSxmPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fSxnPXt9LnRvU3RyaW5nLHA9ZnVuY3Rpb24oZSl7cmV0dXJuIGcuY2FsbChlKS5zbGljZSg4LC0xKX0sdj0iIi5zcGxpdCxtPWwoKGZ1bmN0aW9uKCl7cmV0dXJuIU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1wKGUpP3YuY2FsbChlLCIiKTpPYmplY3QoZSl9Ok9iamVjdCxiPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAiK2UpO3JldHVybiBlfSxrPWZ1bmN0aW9uKGUpe3JldHVybiBtKGIoZSkpfSx3PWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX0sXz1mdW5jdGlvbihlLHQpe2lmKCF3KGUpKXJldHVybiBlO3ZhciBuLHI7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKG49ZS50b1N0cmluZykmJiF3KHI9bi5jYWxsKGUpKSlyZXR1cm4gcjtpZigiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnZhbHVlT2YpJiYhdyhyPW4uY2FsbChlKSkpcmV0dXJuIHI7aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihuPWUudG9TdHJpbmcpJiYhdyhyPW4uY2FsbChlKSkpcmV0dXJuIHI7dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX0sUz17fS5oYXNPd25Qcm9wZXJ0eSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFMuY2FsbChlLHQpfSxJPXMuZG9jdW1lbnQsQz13KEkpJiZ3KEkuY3JlYXRlRWxlbWVudCksVj1mdW5jdGlvbihlKXtyZXR1cm4gQz9JLmNyZWF0ZUVsZW1lbnQoZSk6e319LEU9IXUmJiFsKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoVigiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpLEE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixNPXtmOnU/QTpmdW5jdGlvbihlLHQpe2lmKGU9ayhlKSx0PV8odCwhMCksRSl0cnl7cmV0dXJuIEEoZSx0KX1jYXRjaChlKXt9aWYoeChlLHQpKXJldHVybiBmKCFkLmYuY2FsbChlLHQpLGVbdF0pfX0sVD1mdW5jdGlvbihlKXtpZighdyhlKSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGFuIG9iamVjdCIpO3JldHVybiBlfSxMPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxQPXtmOnU/TDpmdW5jdGlvbihlLHQsbil7aWYoVChlKSx0PV8odCwhMCksVChuKSxFKXRyeXtyZXR1cm4gTChlLHQsbil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gbnx8InNldCJpbiBuKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQiKTtyZXR1cm4idmFsdWUiaW4gbiYmKGVbdF09bi52YWx1ZSksZX19LEI9dT9mdW5jdGlvbihlLHQsbil7cmV0dXJuIFAuZihlLHQsZigxLG4pKX06ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW4sZX0sTz1mdW5jdGlvbihlLHQpe3RyeXtCKHMsZSx0KX1jYXRjaChuKXtzW2VdPXR9cmV0dXJuIHR9LFI9Il9fY29yZS1qc19zaGFyZWRfXyIsej1zW1JdfHxPKFIse30pLE49RnVuY3Rpb24udG9TdHJpbmc7ImZ1bmN0aW9uIiE9dHlwZW9mIHouaW5zcGVjdFNvdXJjZSYmKHouaW5zcGVjdFNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gTi5jYWxsKGUpfSk7dmFyIEYsRCxqLCQ9ei5pbnNwZWN0U291cmNlLHE9cy5XZWFrTWFwLFU9ImZ1bmN0aW9uIj09dHlwZW9mIHEmJi9uYXRpdmUgY29kZS8udGVzdCgkKHEpKSxXPWEoKGZ1bmN0aW9uKGUpeyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4geltlXXx8KHpbZV09dm9pZCAwIT09dD90Ont9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246IjMuNi41Iixtb2RlOiJnbG9iYWwiLGNvcHlyaWdodDoiwqkgMjAyMCBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSJ9KX0pKSxHPTAsSD1NYXRoLnJhbmRvbSgpLEs9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiK1N0cmluZyh2b2lkIDA9PT1lPyIiOmUpKyIpXyIrKCsrRytIKS50b1N0cmluZygzNil9LFg9Vygia2V5cyIpLFo9ZnVuY3Rpb24oZSl7cmV0dXJuIFhbZV18fChYW2VdPUsoZSkpfSxZPXt9LEo9cy5XZWFrTWFwO2lmKFUpe3ZhciBRPW5ldyBKLGVlPVEuZ2V0LHRlPVEuaGFzLG5lPVEuc2V0O0Y9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmUuY2FsbChRLGUsdCksdH0sRD1mdW5jdGlvbihlKXtyZXR1cm4gZWUuY2FsbChRLGUpfHx7fX0saj1mdW5jdGlvbihlKXtyZXR1cm4gdGUuY2FsbChRLGUpfX1lbHNle3ZhciByZT1aKCJzdGF0ZSIpO1lbcmVdPSEwLEY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQihlLHJlLHQpLHR9LEQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHgoZSxyZSk/ZVtyZV06e319LGo9ZnVuY3Rpb24oZSl7cmV0dXJuIHgoZSxyZSl9fXZhciBpZT17c2V0OkYsZ2V0OkQsaGFzOmosZW5mb3JjZTpmdW5jdGlvbihlKXtyZXR1cm4gaihlKT9EKGUpOkYoZSx7fSl9LGdldHRlckZvcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG47aWYoIXcodCl8fChuPUQodCkpLnR5cGUhPT1lKXRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiK2UrIiByZXF1aXJlZCIpO3JldHVybiBufX19LGFlPWEoKGZ1bmN0aW9uKGUpe3ZhciB0PWllLmdldCxuPWllLmVuZm9yY2Uscj1TdHJpbmcoU3RyaW5nKS5zcGxpdCgiU3RyaW5nIik7KGUuZXhwb3J0cz1mdW5jdGlvbihlLHQsaSxhKXt2YXIgbz0hIWEmJiEhYS51bnNhZmUsbD0hIWEmJiEhYS5lbnVtZXJhYmxlLHU9ISFhJiYhIWEubm9UYXJnZXRHZXQ7ImZ1bmN0aW9uIj09dHlwZW9mIGkmJigic3RyaW5nIiE9dHlwZW9mIHR8fHgoaSwibmFtZSIpfHxCKGksIm5hbWUiLHQpLG4oaSkuc291cmNlPXIuam9pbigic3RyaW5nIj09dHlwZW9mIHQ/dDoiIikpLGUhPT1zPyhvPyF1JiZlW3RdJiYobD0hMCk6ZGVsZXRlIGVbdF0sbD9lW3RdPWk6QihlLHQsaSkpOmw/ZVt0XT1pOk8odCxpKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSwidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzJiZ0KHRoaXMpLnNvdXJjZXx8JCh0aGlzKX0pKX0pKSxvZT1zLHNlPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6dm9pZCAwfSxsZT1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/c2Uob2VbZV0pfHxzZShzW2VdKTpvZVtlXSYmb2VbZV1bdF18fHNbZV0mJnNbZV1bdF19LHVlPU1hdGguY2VpbCxjZT1NYXRoLmZsb29yLGhlPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/Y2U6dWUpKGUpfSxkZT1NYXRoLm1pbixmZT1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP2RlKGhlKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9LGdlPU1hdGgubWF4LHBlPU1hdGgubWluLHZlPWZ1bmN0aW9uKGUsdCl7dmFyIG49aGUoZSk7cmV0dXJuIG48MD9nZShuK3QsMCk6cGUobix0KX0seWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXt2YXIgaSxhPWsodCksbz1mZShhLmxlbmd0aCkscz12ZShyLG8pO2lmKGUmJm4hPW4pe2Zvcig7bz5zOylpZigoaT1hW3MrK10pIT1pKXJldHVybiEwfWVsc2UgZm9yKDtvPnM7cysrKWlmKChlfHxzIGluIGEpJiZhW3NdPT09bilyZXR1cm4gZXx8c3x8MDtyZXR1cm4hZSYmLTF9fSxtZT17aW5jbHVkZXM6eWUoITApLGluZGV4T2Y6eWUoITEpfSxiZT1tZS5pbmRleE9mLGtlPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1rKGUpLGk9MCxhPVtdO2ZvcihuIGluIHIpIXgoWSxuKSYmeChyLG4pJiZhLnB1c2gobik7Zm9yKDt0Lmxlbmd0aD5pOyl4KHIsbj10W2krK10pJiYofmJlKGEsbil8fGEucHVzaChuKSk7cmV0dXJuIGF9LHdlPVsiY29uc3RydWN0b3IiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRvTG9jYWxlU3RyaW5nIiwidG9TdHJpbmciLCJ2YWx1ZU9mIl0sX2U9d2UuY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKSxTZT17ZjpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIGtlKGUsX2UpfX0seGU9e2Y6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sSWU9bGUoIlJlZmxlY3QiLCJvd25LZXlzIil8fGZ1bmN0aW9uKGUpe3ZhciB0PVNlLmYoVChlKSksbj14ZS5mO3JldHVybiBuP3QuY29uY2F0KG4oZSkpOnR9LENlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPUllKHQpLHI9UC5mLGk9TS5mLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIG89blthXTt4KGUsbyl8fHIoZSxvLGkodCxvKSl9fSxWZT0vI3xcLnByb3RvdHlwZVwuLyxFZT1mdW5jdGlvbihlLHQpe3ZhciBuPU1lW0FlKGUpXTtyZXR1cm4gbj09TGV8fG4hPVRlJiYoImZ1bmN0aW9uIj09dHlwZW9mIHQ/bCh0KTohIXQpfSxBZT1FZS5ub3JtYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKFZlLCIuIikudG9Mb3dlckNhc2UoKX0sTWU9RWUuZGF0YT17fSxUZT1FZS5OQVRJVkU9Ik4iLExlPUVlLlBPTFlGSUxMPSJQIixQZT1FZSxCZT1NLmYsT2U9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksYSxvLGw9ZS50YXJnZXQsdT1lLmdsb2JhbCxjPWUuc3RhdDtpZihuPXU/czpjP3NbbF18fE8obCx7fSk6KHNbbF18fHt9KS5wcm90b3R5cGUpZm9yKHIgaW4gdCl7aWYoYT10W3JdLGk9ZS5ub1RhcmdldEdldD8obz1CZShuLHIpKSYmby52YWx1ZTpuW3JdLCFQZSh1P3I6bCsoYz8iLiI6IiMiKStyLGUuZm9yY2VkKSYmdm9pZCAwIT09aSl7aWYodHlwZW9mIGE9PXR5cGVvZiBpKWNvbnRpbnVlO0NlKGEsaSl9KGUuc2hhbXx8aSYmaS5zaGFtKSYmQihhLCJzaGFtIiwhMCksYWUobixyLGEsZSl9fSxSZT1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtyZXR1cm4gZX0semU9ZnVuY3Rpb24oZSx0LG4pe2lmKFJlKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKG4pe2Nhc2UgMDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHQpfTtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBlLmNhbGwodCxuKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBlLmNhbGwodCxuLHIpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKG4scixpKXtyZXR1cm4gZS5jYWxsKHQsbixyLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fSxOZT1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGIoZSkpfSxGZT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1wKGUpfSxEZT0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFsKChmdW5jdGlvbigpe3JldHVybiFTdHJpbmcoU3ltYm9sKCkpfSkpLGplPURlJiYhU3ltYm9sLnNoYW0mJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yLCRlPVcoIndrcyIpLHFlPXMuU3ltYm9sLFVlPWplP3FlOnFlJiZxZS53aXRob3V0U2V0dGVyfHxLLFdlPWZ1bmN0aW9uKGUpe3JldHVybiB4KCRlLGUpfHwoRGUmJngocWUsZSk/JGVbZV09cWVbZV06JGVbZV09VWUoIlN5bWJvbC4iK2UpKSwkZVtlXX0sR2U9V2UoInNwZWNpZXMiKSxIZT1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBGZShlKSYmKCJmdW5jdGlvbiIhPXR5cGVvZihuPWUuY29uc3RydWN0b3IpfHxuIT09QXJyYXkmJiFGZShuLnByb3RvdHlwZSk/dyhuKSYmbnVsbD09PShuPW5bR2VdKSYmKG49dm9pZCAwKTpuPXZvaWQgMCksbmV3KHZvaWQgMD09PW4/QXJyYXk6bikoMD09PXQ/MDp0KX0sS2U9W10ucHVzaCxYZT1mdW5jdGlvbihlKXt2YXIgdD0xPT1lLG49Mj09ZSxyPTM9PWUsaT00PT1lLGE9Nj09ZSxvPTU9PWV8fGE7cmV0dXJuIGZ1bmN0aW9uKHMsbCx1LGMpe2Zvcih2YXIgaCxkLGY9TmUocyksZz1tKGYpLHA9emUobCx1LDMpLHY9ZmUoZy5sZW5ndGgpLHk9MCxiPWN8fEhlLGs9dD9iKHMsdik6bj9iKHMsMCk6dm9pZCAwO3Y+eTt5KyspaWYoKG98fHkgaW4gZykmJihkPXAoaD1nW3ldLHksZiksZSkpaWYodClrW3ldPWQ7ZWxzZSBpZihkKXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBoO2Nhc2UgNjpyZXR1cm4geTtjYXNlIDI6S2UuY2FsbChrLGgpfWVsc2UgaWYoaSlyZXR1cm4hMTtyZXR1cm4gYT8tMTpyfHxpP2k6a319LFplPXtmb3JFYWNoOlhlKDApLG1hcDpYZSgxKSxmaWx0ZXI6WGUoMiksc29tZTpYZSgzKSxldmVyeTpYZSg0KSxmaW5kOlhlKDUpLGZpbmRJbmRleDpYZSg2KX0sWWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXVtlXTtyZXR1cm4hIW4mJmwoKGZ1bmN0aW9uKCl7bi5jYWxsKG51bGwsdHx8ZnVuY3Rpb24oKXt0aHJvdyAxfSwxKX0pKX0sSmU9T2JqZWN0LmRlZmluZVByb3BlcnR5LFFlPXt9LGV0PWZ1bmN0aW9uKGUpe3Rocm93IGV9LHR0PWZ1bmN0aW9uKGUsdCl7aWYoeChRZSxlKSlyZXR1cm4gUWVbZV07dHx8KHQ9e30pO3ZhciBuPVtdW2VdLHI9ISF4KHQsIkFDQ0VTU09SUyIpJiZ0LkFDQ0VTU09SUyxpPXgodCwwKT90WzBdOmV0LGE9eCh0LDEpP3RbMV06dm9pZCAwO3JldHVybiBRZVtlXT0hIW4mJiFsKChmdW5jdGlvbigpe2lmKHImJiF1KXJldHVybiEwO3ZhciBlPXtsZW5ndGg6LTF9O3I/SmUoZSwxLHtlbnVtZXJhYmxlOiEwLGdldDpldH0pOmVbMV09MSxuLmNhbGwoZSxpLGEpfSkpfSxudD1aZS5mb3JFYWNoLHJ0PVllKCJmb3JFYWNoIiksaXQ9dHQoImZvckVhY2giKSxhdD1ydCYmaXQ/W10uZm9yRWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gbnQodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX07T2Uoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDpbXS5mb3JFYWNoIT1hdH0se2ZvckVhY2g6YXR9KTt2YXIgb3Q9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBrZShlLHdlKX0sc3Q9T2JqZWN0LmFzc2lnbixsdD1PYmplY3QuZGVmaW5lUHJvcGVydHksdXQ9IXN0fHxsKChmdW5jdGlvbigpe2lmKHUmJjEhPT1zdCh7YjoxfSxzdChsdCh7fSwiYSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7bHQodGhpcywiYiIse3ZhbHVlOjMsZW51bWVyYWJsZTohMX0pfX0pLHtiOjJ9KSkuYilyZXR1cm4hMDt2YXIgZT17fSx0PXt9LG49U3ltYm9sKCkscj0iYWJjZGVmZ2hpamtsbW5vcHFyc3QiO3JldHVybiBlW25dPTcsci5zcGxpdCgiIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXT1lfSkpLDchPXN0KHt9LGUpW25dfHxvdChzdCh7fSx0KSkuam9pbigiIikhPXJ9KSk/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49TmUoZSkscj1hcmd1bWVudHMubGVuZ3RoLGk9MSxhPXhlLmYsbz1kLmY7cj5pOylmb3IodmFyIHMsbD1tKGFyZ3VtZW50c1tpKytdKSxjPWE/b3QobCkuY29uY2F0KGEobCkpOm90KGwpLGg9Yy5sZW5ndGgsZj0wO2g+Zjspcz1jW2YrK10sdSYmIW8uY2FsbChsLHMpfHwobltzXT1sW3NdKTtyZXR1cm4gbn06c3Q7T2Uoe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwLGZvcmNlZDpPYmplY3QuYXNzaWduIT09dXR9LHthc3NpZ246dXR9KTt2YXIgY3Q9e0NTU1J1bGVMaXN0OjAsQ1NTU3R5bGVEZWNsYXJhdGlvbjowLENTU1ZhbHVlTGlzdDowLENsaWVudFJlY3RMaXN0OjAsRE9NUmVjdExpc3Q6MCxET01TdHJpbmdMaXN0OjAsRE9NVG9rZW5MaXN0OjEsRGF0YVRyYW5zZmVySXRlbUxpc3Q6MCxGaWxlTGlzdDowLEhUTUxBbGxDb2xsZWN0aW9uOjAsSFRNTENvbGxlY3Rpb246MCxIVE1MRm9ybUVsZW1lbnQ6MCxIVE1MU2VsZWN0RWxlbWVudDowLE1lZGlhTGlzdDowLE1pbWVUeXBlQXJyYXk6MCxOYW1lZE5vZGVNYXA6MCxOb2RlTGlzdDoxLFBhaW50UmVxdWVzdExpc3Q6MCxQbHVnaW46MCxQbHVnaW5BcnJheTowLFNWR0xlbmd0aExpc3Q6MCxTVkdOdW1iZXJMaXN0OjAsU1ZHUGF0aFNlZ0xpc3Q6MCxTVkdQb2ludExpc3Q6MCxTVkdTdHJpbmdMaXN0OjAsU1ZHVHJhbnNmb3JtTGlzdDowLFNvdXJjZUJ1ZmZlckxpc3Q6MCxTdHlsZVNoZWV0TGlzdDowLFRleHRUcmFja0N1ZUxpc3Q6MCxUZXh0VHJhY2tMaXN0OjAsVG91Y2hMaXN0OjB9O2Zvcih2YXIgaHQgaW4gY3Qpe3ZhciBkdD1zW2h0XSxmdD1kdCYmZHQucHJvdG90eXBlO2lmKGZ0JiZmdC5mb3JFYWNoIT09YXQpdHJ5e0IoZnQsImZvckVhY2giLGF0KX1jYXRjaChlKXtmdC5mb3JFYWNoPWF0fX1mdW5jdGlvbiBndChlKXtyZXR1cm4oZ3Q9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBwdChlLHQsbixyLGksYSxvKXt0cnl7dmFyIHM9ZVthXShvKSxsPXMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1zLmRvbmU/dChsKTpQcm9taXNlLnJlc29sdmUobCkudGhlbihyLGkpfWZ1bmN0aW9uIHZ0KGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMsbj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpe3ZhciBhPWUuYXBwbHkodCxuKTtmdW5jdGlvbiBvKGUpe3B0KGEscixpLG8scywibmV4dCIsZSl9ZnVuY3Rpb24gcyhlKXtwdChhLHIsaSxvLHMsInRocm93IixlKX1vKHZvaWQgMCl9KSl9fWZ1bmN0aW9uIHl0KGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gbXQoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1mdW5jdGlvbiBidChlLHQsbil7cmV0dXJuIHQmJm10KGUucHJvdG90eXBlLHQpLG4mJm10KGUsbiksZX1mdW5jdGlvbiBrdChlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZfdChlLHQpfWZ1bmN0aW9uIHd0KGUpe3JldHVybih3dD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSkoZSl9ZnVuY3Rpb24gX3QoZSx0KXtyZXR1cm4oX3Q9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfWZ1bmN0aW9uIFN0KCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24geHQoZSx0LG4pe3JldHVybih4dD1TdCgpP1JlZmxlY3QuY29uc3RydWN0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bbnVsbF07ci5wdXNoLmFwcGx5KHIsdCk7dmFyIGk9bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkoZSxyKSk7cmV0dXJuIG4mJl90KGksbi5wcm90b3R5cGUpLGl9KS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gSXQoZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIE1hcD9uZXcgTWFwOnZvaWQgMDtyZXR1cm4oSXQ9ZnVuY3Rpb24oZSl7aWYobnVsbD09PWV8fChuPWUsLTE9PT1GdW5jdGlvbi50b1N0cmluZy5jYWxsKG4pLmluZGV4T2YoIltuYXRpdmUgY29kZV0iKSkpcmV0dXJuIGU7dmFyIG47aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTtpZih2b2lkIDAhPT10KXtpZih0LmhhcyhlKSlyZXR1cm4gdC5nZXQoZSk7dC5zZXQoZSxyKX1mdW5jdGlvbiByKCl7cmV0dXJuIHh0KGUsYXJndW1lbnRzLHd0KHRoaXMpLmNvbnN0cnVjdG9yKX1yZXR1cm4gci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnIsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksX3QocixlKX0pKGUpfWZ1bmN0aW9uIEN0KGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gZX1mdW5jdGlvbiBWdChlLHQpe3JldHVybiF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P0N0KGUpOnR9ZnVuY3Rpb24gRXQoZSl7dmFyIHQ9U3QoKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixyPXd0KGUpO2lmKHQpe3ZhciBpPXd0KHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3Qocixhcmd1bWVudHMsaSl9ZWxzZSBuPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBWdCh0aGlzLG4pfX1mdW5jdGlvbiBBdChlLHQsbil7cmV0dXJuKEF0PSJ1bmRlZmluZWQiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5nZXQ/UmVmbGVjdC5nZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUsdCl7Zm9yKDshT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkmJm51bGwhPT0oZT13dChlKSk7KTtyZXR1cm4gZX0oZSx0KTtpZihyKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCk7cmV0dXJuIGkuZ2V0P2kuZ2V0LmNhbGwobik6aS52YWx1ZX19KShlLHQsbnx8ZSl9ZnVuY3Rpb24gTXQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBTeW1ib2x8fCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSkpcmV0dXJuO3ZhciBuPVtdLHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChvLnZhbHVlKSwhdHx8bi5sZW5ndGghPT10KTtyPSEwKTt9Y2F0Y2goZSl7aT0hMCxhPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiBufShlLHQpfHxUdChlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gVHQoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIEx0KGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/THQoZSx0KTp2b2lkIDB9fWZ1bmN0aW9uIEx0KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gUHQoZSx0KXt2YXIgbjtpZigidW5kZWZpbmVkIj09dHlwZW9mIFN5bWJvbHx8bnVsbD09ZVtTeW1ib2wuaXRlcmF0b3JdKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1UdChlKSl8fHQmJmUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpe24mJihlPW4pO3ZhciByPTAsaT1mdW5jdGlvbigpe307cmV0dXJue3M6aSxuOmZ1bmN0aW9uKCl7cmV0dXJuIHI+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW3IrK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6aX19dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfXZhciBhLG89ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe249ZVtTeW1ib2wuaXRlcmF0b3JdKCl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gbz1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtzPSEwLGE9ZX0sZjpmdW5jdGlvbigpe3RyeXtvfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgYX19fX12YXIgQnQsT3QsUnQ9bGUoIm5hdmlnYXRvciIsInVzZXJBZ2VudCIpfHwiIix6dD1zLnByb2Nlc3MsTnQ9enQmJnp0LnZlcnNpb25zLEZ0PU50JiZOdC52ODtGdD9PdD0oQnQ9RnQuc3BsaXQoIi4iKSlbMF0rQnRbMV06UnQmJighKEJ0PVJ0Lm1hdGNoKC9FZGdlXC8oXGQrKS8pKXx8QnRbMV0+PTc0KSYmKEJ0PVJ0Lm1hdGNoKC9DaHJvbWVcLyhcZCspLykpJiYoT3Q9QnRbMV0pO3ZhciBEdD1PdCYmK090LGp0PVdlKCJzcGVjaWVzIiksJHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIER0Pj01MXx8IWwoKGZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuKHQuY29uc3RydWN0b3I9e30pW2p0XT1mdW5jdGlvbigpe3JldHVybntmb286MX19LDEhPT10W2VdKEJvb2xlYW4pLmZvb30pKX0scXQ9WmUuZmlsdGVyLFV0PSR0KCJmaWx0ZXIiKSxXdD10dCgiZmlsdGVyIik7T2Uoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDohVXR8fCFXdH0se2ZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gcXQodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgR3Q9bWUuaW5kZXhPZixIdD1bXS5pbmRleE9mLEt0PSEhSHQmJjEvWzFdLmluZGV4T2YoMSwtMCk8MCxYdD1ZZSgiaW5kZXhPZiIpLFp0PXR0KCJpbmRleE9mIix7QUNDRVNTT1JTOiEwLDE6MH0pO09lKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6S3R8fCFYdHx8IVp0fSx7aW5kZXhPZjpmdW5jdGlvbihlKXtyZXR1cm4gS3Q/SHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHwwOkd0KHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIFl0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1fKHQpO3IgaW4gZT9QLmYoZSxyLGYoMCxuKSk6ZVtyXT1ufSxKdD0kdCgic3BsaWNlIiksUXQ9dHQoInNwbGljZSIse0FDQ0VTU09SUzohMCwwOjAsMToyfSksZW49TWF0aC5tYXgsdG49TWF0aC5taW4sbm49OTAwNzE5OTI1NDc0MDk5MSxybj0iTWF4aW11bSBhbGxvd2VkIGxlbmd0aCBleGNlZWRlZCI7T2Uoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDohSnR8fCFRdH0se3NwbGljZTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxhLG8scyxsPU5lKHRoaXMpLHU9ZmUobC5sZW5ndGgpLGM9dmUoZSx1KSxoPWFyZ3VtZW50cy5sZW5ndGg7aWYoMD09PWg/bj1yPTA6MT09PWg/KG49MCxyPXUtYyk6KG49aC0yLHI9dG4oZW4oaGUodCksMCksdS1jKSksdStuLXI+bm4pdGhyb3cgVHlwZUVycm9yKHJuKTtmb3IoaT1IZShsLHIpLGE9MDthPHI7YSsrKShvPWMrYSlpbiBsJiZZdChpLGEsbFtvXSk7aWYoaS5sZW5ndGg9cixuPHIpe2ZvcihhPWM7YTx1LXI7YSsrKXM9YStuLChvPWErcilpbiBsP2xbc109bFtvXTpkZWxldGUgbFtzXTtmb3IoYT11O2E+dS1yK247YS0tKWRlbGV0ZSBsW2EtMV19ZWxzZSBpZihuPnIpZm9yKGE9dS1yO2E+YzthLS0pcz1hK24tMSwobz1hK3ItMSlpbiBsP2xbc109bFtvXTpkZWxldGUgbFtzXTtmb3IoYT0wO2E8bjthKyspbFthK2NdPWFyZ3VtZW50c1thKzJdO3JldHVybiBsLmxlbmd0aD11LXIrbixpfX0pO3ZhciBhbj1sKChmdW5jdGlvbigpe290KDEpfSkpO09lKHt0YXJnZXQ6Ik9iamVjdCIsc3RhdDohMCxmb3JjZWQ6YW59LHtrZXlzOmZ1bmN0aW9uKGUpe3JldHVybiBvdChOZShlKSl9fSk7dmFyIG9uPXt9O29uW1dlKCJ0b1N0cmluZ1RhZyIpXT0ieiI7dmFyIHNuPSJbb2JqZWN0IHpdIj09PVN0cmluZyhvbiksbG49V2UoInRvU3RyaW5nVGFnIiksdW49IkFyZ3VtZW50cyI9PXAoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxjbj1zbj9wOmZ1bmN0aW9uKGUpe3ZhciB0LG4scjtyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihuPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlW3RdfWNhdGNoKGUpe319KHQ9T2JqZWN0KGUpLGxuKSk/bjp1bj9wKHQpOiJPYmplY3QiPT0ocj1wKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnJ9LGhuPXNuP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgIitjbih0aGlzKSsiXSJ9O3NufHxhZShPYmplY3QucHJvdG90eXBlLCJ0b1N0cmluZyIsaG4se3Vuc2FmZTohMH0pO3ZhciBkbj1mdW5jdGlvbigpe3ZhciBlPVQodGhpcyksdD0iIjtyZXR1cm4gZS5nbG9iYWwmJih0Kz0iZyIpLGUuaWdub3JlQ2FzZSYmKHQrPSJpIiksZS5tdWx0aWxpbmUmJih0Kz0ibSIpLGUuZG90QWxsJiYodCs9InMiKSxlLnVuaWNvZGUmJih0Kz0idSIpLGUuc3RpY2t5JiYodCs9InkiKSx0fSxmbj0idG9TdHJpbmciLGduPVJlZ0V4cC5wcm90b3R5cGUscG49Z24udG9TdHJpbmcsdm49bCgoZnVuY3Rpb24oKXtyZXR1cm4iL2EvYiIhPXBuLmNhbGwoe3NvdXJjZToiYSIsZmxhZ3M6ImIifSl9KSkseW49cG4ubmFtZSE9Zm47KHZufHx5bikmJmFlKFJlZ0V4cC5wcm90b3R5cGUsZm4sKGZ1bmN0aW9uKCl7dmFyIGU9VCh0aGlzKSx0PVN0cmluZyhlLnNvdXJjZSksbj1lLmZsYWdzO3JldHVybiIvIit0KyIvIitTdHJpbmcodm9pZCAwPT09biYmZSBpbnN0YW5jZW9mIFJlZ0V4cCYmISgiZmxhZ3MiaW4gZ24pP2RuLmNhbGwoZSk6bil9KSx7dW5zYWZlOiEwfSk7dmFyIG1uPXtyb2xlOiJyb2xlIixhcmlhSGlkZGVuOiJhcmlhLWhpZGRlbiIsYXJpYUxhYmVsOiJhcmlhLWxhYmVsIn0sYm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7eXQodGhpcyxlKSx0aGlzLl8kcm9vdD1udWxsLHRoaXMuX3N1cGVydmlldz1udWxsLHRoaXMuX3N1YnZpZXdzPVtdLHRoaXMuX21vZGVsPW51bGwsdGhpcy5fZm9jdXM9ITEsdGhpcy5fbmVlZHNVcGRhdGU9ITF9cmV0dXJuIGJ0KGUsbnVsbCxbe2tleToiY3JlYXRlRWxlbWVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm51bGwscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO2lmKE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZV07aWYodm9pZCAwPT09bW5bZV0pe3ZhciBpPTA9PT1lLmluZGV4T2YoIm9uIik/ZS50b0xvd2VyQ2FzZSgpOmU7cltpXT1ufWVsc2Ugci5zZXRBdHRyaWJ1dGUobW5bZV0sbil9KSksbnVsbCE9PW4pc3dpdGNoKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKSl7Y2FzZSJbb2JqZWN0IFN0cmluZ10iOnIuaW5uZXJUZXh0PW47YnJlYWs7Y2FzZSJbb2JqZWN0IEFycmF5XSI6bi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmci5hcHBlbmRDaGlsZChlKX0pKTticmVhaztkZWZhdWx0OnIuYXBwZW5kQ2hpbGQobil9cmV0dXJuIHJ9fV0pLGJ0KGUsW3trZXk6ImdldEVsZW1lbnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl8kcm9vdCYmKHRoaXMud2lsbFJlbmRlcigpLHRoaXMuXyRyb290PXRoaXMucmVuZGVyKCksdGhpcy5kaWRSZW5kZXIoKSksdGhpcy5fJHJvb3R9fSx7a2V5OiJyZWZyZXNoIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuXyRyb290O3JldHVybiBudWxsPT09ZXx8KHRoaXMuXyRyb290PW51bGwsdGhpcy53aWxsUmVuZGVyKCksdGhpcy5fJHJvb3Q9dGhpcy5yZW5kZXIoKSx0aGlzLmRpZFJlbmRlcigpLHRoaXMuZ2V0U3Vidmlld3MoKS5mb3JFYWNoKHRoaXMuYXBwZW5kU3Vidmlld0VsZW1lbnQpLGUmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLl8kcm9vdCxlKSksdGhpc319LHtrZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZS5jcmVhdGVFbGVtZW50KCJkaXYiKX19LHtrZXk6InNldE5lZWRzVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX25lZWRzVXBkYXRlfHwodGhpcy5fbmVlZHNVcGRhdGU9ITAsd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXtlLl9uZWVkc1VwZGF0ZT0hMSxlLnVwZGF0ZSgpfSkpKSx0aGlzfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6IndpbGxSZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToiZGlkUmVuZGVyIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlKCl9fSx7a2V5OiJsYXlvdXQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnZpZXdzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxheW91dCgpfSkpLHRoaXN9fSx7a2V5OiJhZGRTdWJ2aWV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLnJlbW92ZUZyb21TdXBlcnZpZXcoKSx0aGlzLmFwcGVuZFN1YnZpZXdFbGVtZW50KGUpLGUuc2V0U3VwZXJ2aWV3KHRoaXMpLHRoaXMuX3N1YnZpZXdzLnB1c2goZSl9fSx7a2V5OiJnZXRTdWJ2aWV3cyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3Vidmlld3N9fSx7a2V5OiJhcHBlbmRTdWJ2aWV3RWxlbWVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0RWxlbWVudCgpLnBhcmVudE5vZGUhPT10aGlzLmdldEVsZW1lbnQoKSYmdGhpcy5nZXRFbGVtZW50KCkuYXBwZW5kQ2hpbGQoZS5nZXRFbGVtZW50KCkpLHRoaXN9fSx7a2V5OiJyZW1vdmVTdWJ2aWV3Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zdWJ2aWV3cy5pbmRleE9mKGUpOy0xIT09dCYmKHRoaXMuX3N1YnZpZXdzLnNwbGljZSh0LDEpLGUuc2V0U3VwZXJ2aWV3KG51bGwpLHRoaXMucmVtb3ZlU3Vidmlld0VsZW1lbnQoZSkpfX0se2tleToicmVtb3ZlU3Vidmlld0VsZW1lbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0RWxlbWVudCgpO3JldHVybiBudWxsIT09dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZS5nZXRFbGVtZW50KCkpLHRoaXN9fSx7a2V5OiJyZW1vdmVGcm9tU3VwZXJ2aWV3Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5fc3VwZXJ2aWV3JiZ0aGlzLl9zdXBlcnZpZXcucmVtb3ZlU3Vidmlldyh0aGlzKSx0aGlzfX0se2tleToiZ2V0U3VwZXJ2aWV3Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdXBlcnZpZXd9fSx7a2V5OiJzZXRTdXBlcnZpZXciLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdXBlcnZpZXc9ZSx0aGlzfX0se2tleToiZm9jdXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0Rm9jdXMoITApfX0se2tleToiYmx1ciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRGb2N1cyghMSl9fSx7a2V5OiJzZXRGb2N1cyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10aGlzLl9mb2N1cyYmKHRoaXMuX2ZvY3VzPWUsZT8obnVsbCE9PXRoaXMuX3N1cGVydmlldyYmdGhpcy5fc3VwZXJ2aWV3LnN1YnZpZXdEaWRGb2N1cyh0aGlzKSx0aGlzLmRpZEZvY3VzKCkpOih0aGlzLl9zdWJ2aWV3cy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5ibHVyKCl9KSksdGhpcy5kaWRCbHVyKCkpKSx0aGlzfX0se2tleToiaGFzRm9jdXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvY3VzfX0se2tleToic3Vidmlld0RpZEZvY3VzIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmhhc0ZvY3VzKCk/dGhpcy5fc3Vidmlld3MuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWV9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmx1cigpfSkpOnRoaXMuZm9jdXMoKX19LHtrZXk6ImRpZEZvY3VzIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImRpZEJsdXIiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToiZ2V0TW9kZWwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsfX0se2tleToiaGFzTW9kZWwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLl9tb2RlbH19LHtrZXk6InNldE1vZGVsIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbW9kZWw9ZSx0aGlzfX1dKSxlfSgpLGtuPWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3JldHVybiB5dCh0aGlzLG4pLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBidChuLFt7a2V5OiJyZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmFwcCIpO3JldHVybiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIix0aGlzLndpbmRvd0RpZFJlc2l6ZS5iaW5kKHRoaXMpLCExKSxlfX0se2tleToid2luZG93RGlkUmVzaXplIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmxheW91dCgpfX1dKSxufShibiksd249WmUubWFwLF9uPSR0KCJtYXAiKSxTbj10dCgibWFwIik7T2Uoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDohX258fCFTbn0se21hcDpmdW5jdGlvbihlKXtyZXR1cm4gd24odGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgeG49UC5mLEluPUZ1bmN0aW9uLnByb3RvdHlwZSxDbj1Jbi50b1N0cmluZyxWbj0vXlxzKmZ1bmN0aW9uIChbXiAoXSopLyxFbj0ibmFtZSI7dSYmIShFbiBpbiBJbikmJnhuKEluLEVuLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBDbi5jYWxsKHRoaXMpLm1hdGNoKFZuKVsxXX1jYXRjaChlKXtyZXR1cm4iIn19fSk7dmFyIEFuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3l0KHRoaXMsZSksdGhpcy5faWRlbnRpZmllcnM9W10sdGhpcy5faW52b2thYmxlcz1bXX1yZXR1cm4gYnQoZSxbe2tleToiZ2V0SWRlbnRpZmllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkZW50aWZpZXJzfX0se2tleToiZ2V0SW52b2thYmxlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9pZGVudGlmaWVycy5pbmRleE9mKGUpO2lmKC0xPT09dCl0aHJvdyBuZXcgRXJyb3IoIkludm9rYWJsZSBmb3IgJyIuY29uY2F0KGUsIicgaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQgeWV0LiIpKTtyZXR1cm4gdGhpcy5faW52b2thYmxlc1t0XX19LHtrZXk6InJlZ2lzdGVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHRoaXMuZXhpc3RzKGUpKXRocm93IG5ldyBFcnJvcigiSW52b2thYmxlIGNhbid0IGJlIHJlZ2lzdGVyZWQuICIrIklkZW50aWZpZXIgIi5jb25jYXQoZSwiIGFscmVhZHkgZXhpc3RzLiIpKTtyZXR1cm4gdGhpcy5faWRlbnRpZmllcnMucHVzaChlKSx0aGlzLl9pbnZva2FibGVzLnB1c2godCksdGhpc319LHtrZXk6ImV4aXN0cyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT10aGlzLl9pZGVudGlmaWVycy5pbmRleE9mKGUpfX0se2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5leGlzdHMoZSkpdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBjcmVhdGUgJyIuY29uY2F0KGUsIicsIGludm9rYWJsZSBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZC4iKSk7Zm9yKHZhciB0PXRoaXMuX2lkZW50aWZpZXJzLmluZGV4T2YoZSksbj10aGlzLl9pbnZva2FibGVzW3RdLHI9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShyPjE/ci0xOjApLGE9MTthPHI7YSsrKWlbYS0xXT1hcmd1bWVudHNbYV07cmV0dXJuIGkuc3BsaWNlKDAsMCxuKSxuZXcoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkobixpKSl9fV0sW3trZXk6ImdldEluc3RhbmNlIix2YWx1ZTpmdW5jdGlvbigpe319XSksZX0oKSxNbj1bXS5qb2luLFRuPW0hPU9iamVjdCxMbj1ZZSgiam9pbiIsIiwiKTtmdW5jdGlvbiBQbihlLHQpe3JldHVybiBSZWdFeHAoZSx0KX1PZSh7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOlRufHwhTG59LHtqb2luOmZ1bmN0aW9uKGUpe3JldHVybiBNbi5jYWxsKGsodGhpcyksdm9pZCAwPT09ZT8iLCI6ZSl9fSk7dmFyIEJuPXtVTlNVUFBPUlRFRF9ZOmwoKGZ1bmN0aW9uKCl7dmFyIGU9UG4oImEiLCJ5Iik7cmV0dXJuIGUubGFzdEluZGV4PTIsbnVsbCE9ZS5leGVjKCJhYmNkIil9KSksQlJPS0VOX0NBUkVUOmwoKGZ1bmN0aW9uKCl7dmFyIGU9UG4oIl5yIiwiZ3kiKTtyZXR1cm4gZS5sYXN0SW5kZXg9MixudWxsIT1lLmV4ZWMoInN0ciIpfSkpfSxPbj1SZWdFeHAucHJvdG90eXBlLmV4ZWMsUm49U3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlLHpuPU9uLE5uPWZ1bmN0aW9uKCl7dmFyIGU9L2EvLHQ9L2IqL2c7cmV0dXJuIE9uLmNhbGwoZSwiYSIpLE9uLmNhbGwodCwiYSIpLDAhPT1lLmxhc3RJbmRleHx8MCE9PXQubGFzdEluZGV4fSgpLEZuPUJuLlVOU1VQUE9SVEVEX1l8fEJuLkJST0tFTl9DQVJFVCxEbj12b2lkIDAhPT0vKCk/Py8uZXhlYygiIilbMV07KE5ufHxEbnx8Rm4pJiYoem49ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksYT10aGlzLG89Rm4mJmEuc3RpY2t5LHM9ZG4uY2FsbChhKSxsPWEuc291cmNlLHU9MCxjPWU7cmV0dXJuIG8mJigtMT09PShzPXMucmVwbGFjZSgieSIsIiIpKS5pbmRleE9mKCJnIikmJihzKz0iZyIpLGM9U3RyaW5nKGUpLnNsaWNlKGEubGFzdEluZGV4KSxhLmxhc3RJbmRleD4wJiYoIWEubXVsdGlsaW5lfHxhLm11bHRpbGluZSYmIlxuIiE9PWVbYS5sYXN0SW5kZXgtMV0pJiYobD0iKD86ICIrbCsiKSIsYz0iICIrYyx1KyspLG49bmV3IFJlZ0V4cCgiXig/OiIrbCsiKSIscykpLERuJiYobj1uZXcgUmVnRXhwKCJeIitsKyIkKD8hXFxzKSIscykpLE5uJiYodD1hLmxhc3RJbmRleCkscj1Pbi5jYWxsKG8/bjphLGMpLG8/cj8oci5pbnB1dD1yLmlucHV0LnNsaWNlKHUpLHJbMF09clswXS5zbGljZSh1KSxyLmluZGV4PWEubGFzdEluZGV4LGEubGFzdEluZGV4Kz1yWzBdLmxlbmd0aCk6YS5sYXN0SW5kZXg9MDpObiYmciYmKGEubGFzdEluZGV4PWEuZ2xvYmFsP3IuaW5kZXgrclswXS5sZW5ndGg6dCksRG4mJnImJnIubGVuZ3RoPjEmJlJuLmNhbGwoclswXSxuLChmdW5jdGlvbigpe2ZvcihpPTE7aTxhcmd1bWVudHMubGVuZ3RoLTI7aSsrKXZvaWQgMD09PWFyZ3VtZW50c1tpXSYmKHJbaV09dm9pZCAwKX0pKSxyfSk7dmFyIGpuPXpuO09lKHt0YXJnZXQ6IlJlZ0V4cCIscHJvdG86ITAsZm9yY2VkOi8uLy5leGVjIT09am59LHtleGVjOmpufSk7dmFyICRuPVdlKCJzcGVjaWVzIikscW49IWwoKGZ1bmN0aW9uKCl7dmFyIGU9Ly4vO3JldHVybiBlLmV4ZWM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gZS5ncm91cHM9e2E6IjcifSxlfSwiNyIhPT0iIi5yZXBsYWNlKGUsIiQ8YT4iKX0pKSxVbj0iJDAiPT09ImEiLnJlcGxhY2UoLy4vLCIkMCIpLFduPVdlKCJyZXBsYWNlIiksR249ISEvLi9bV25dJiYiIj09PS8uL1tXbl0oImEiLCIkMCIpLEhuPSFsKChmdW5jdGlvbigpe3ZhciBlPS8oPzopLyx0PWUuZXhlYztlLmV4ZWM9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBuPSJhYiIuc3BsaXQoZSk7cmV0dXJuIDIhPT1uLmxlbmd0aHx8ImEiIT09blswXXx8ImIiIT09blsxXX0pKSxLbj1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1XZShlKSxhPSFsKChmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0W2ldPWZ1bmN0aW9uKCl7cmV0dXJuIDd9LDchPSIiW2VdKHQpfSkpLG89YSYmIWwoKGZ1bmN0aW9uKCl7dmFyIHQ9ITEsbj0vYS87cmV0dXJuInNwbGl0Ij09PWUmJigobj17fSkuY29uc3RydWN0b3I9e30sbi5jb25zdHJ1Y3Rvclskbl09ZnVuY3Rpb24oKXtyZXR1cm4gbn0sbi5mbGFncz0iIixuW2ldPS8uL1tpXSksbi5leGVjPWZ1bmN0aW9uKCl7cmV0dXJuIHQ9ITAsbnVsbH0sbltpXSgiIiksIXR9KSk7aWYoIWF8fCFvfHwicmVwbGFjZSI9PT1lJiYoIXFufHwhVW58fEduKXx8InNwbGl0Ij09PWUmJiFIbil7dmFyIHM9Ly4vW2ldLHU9bihpLCIiW2VdLChmdW5jdGlvbihlLHQsbixyLGkpe3JldHVybiB0LmV4ZWM9PT1qbj9hJiYhaT97ZG9uZTohMCx2YWx1ZTpzLmNhbGwodCxuLHIpfTp7ZG9uZTohMCx2YWx1ZTplLmNhbGwobix0LHIpfTp7ZG9uZTohMX19KSx7UkVQTEFDRV9LRUVQU18kMDpVbixSRUdFWFBfUkVQTEFDRV9TVUJTVElUVVRFU19VTkRFRklORURfQ0FQVFVSRTpHbn0pLGM9dVswXSxoPXVbMV07YWUoU3RyaW5nLnByb3RvdHlwZSxlLGMpLGFlKFJlZ0V4cC5wcm90b3R5cGUsaSwyPT10P2Z1bmN0aW9uKGUsdCl7cmV0dXJuIGguY2FsbChlLHRoaXMsdCl9OmZ1bmN0aW9uKGUpe3JldHVybiBoLmNhbGwoZSx0aGlzKX0pfXImJkIoUmVnRXhwLnByb3RvdHlwZVtpXSwic2hhbSIsITApfSxYbj1XZSgibWF0Y2giKSxabj1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdyhlKSYmKHZvaWQgMCE9PSh0PWVbWG5dKT8hIXQ6IlJlZ0V4cCI9PXAoZSkpfSxZbj1XZSgic3BlY2llcyIpLEpuPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1UKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1yfHxudWxsPT0obj1UKHIpW1luXSk/dDpSZShuKX0sUW49ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIHIsaSxhPVN0cmluZyhiKHQpKSxvPWhlKG4pLHM9YS5sZW5ndGg7cmV0dXJuIG88MHx8bz49cz9lPyIiOnZvaWQgMDoocj1hLmNoYXJDb2RlQXQobykpPDU1Mjk2fHxyPjU2MzE5fHxvKzE9PT1zfHwoaT1hLmNoYXJDb2RlQXQobysxKSk8NTYzMjB8fGk+NTczNDM/ZT9hLmNoYXJBdChvKTpyOmU/YS5zbGljZShvLG8rMik6aS01NjMyMCsoci01NTI5Njw8MTApKzY1NTM2fX0sZXI9e2NvZGVBdDpRbighMSksY2hhckF0OlFuKCEwKX0sdHI9ZXIuY2hhckF0LG5yPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCsobj90cihlLHQpLmxlbmd0aDoxKX0scnI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmV4ZWM7aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4pe3ZhciByPW4uY2FsbChlLHQpO2lmKCJvYmplY3QiIT10eXBlb2Ygcil0aHJvdyBUeXBlRXJyb3IoIlJlZ0V4cCBleGVjIG1ldGhvZCByZXR1cm5lZCBzb21ldGhpbmcgb3RoZXIgdGhhbiBhbiBPYmplY3Qgb3IgbnVsbCIpO3JldHVybiByfWlmKCJSZWdFeHAiIT09cChlKSl0aHJvdyBUeXBlRXJyb3IoIlJlZ0V4cCNleGVjIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgcmVjZWl2ZXIiKTtyZXR1cm4gam4uY2FsbChlLHQpfSxpcj1bXS5wdXNoLGFyPU1hdGgubWluLG9yPTQyOTQ5NjcyOTUsc3I9IWwoKGZ1bmN0aW9uKCl7cmV0dXJuIVJlZ0V4cChvciwieSIpfSkpO0tuKCJzcGxpdCIsMiwoZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiByPSJjIj09ImFiYmMiLnNwbGl0KC8oYikqLylbMV18fDQhPSJ0ZXN0Ii5zcGxpdCgvKD86KS8sLTEpLmxlbmd0aHx8MiE9ImFiIi5zcGxpdCgvKD86YWIpKi8pLmxlbmd0aHx8NCE9Ii4iLnNwbGl0KC8oLj8pKC4/KS8pLmxlbmd0aHx8Ii4iLnNwbGl0KC8oKSgpLykubGVuZ3RoPjF8fCIiLnNwbGl0KC8uPy8pLmxlbmd0aD9mdW5jdGlvbihlLG4pe3ZhciByPVN0cmluZyhiKHRoaXMpKSxpPXZvaWQgMD09PW4/b3I6bj4+PjA7aWYoMD09PWkpcmV0dXJuW107aWYodm9pZCAwPT09ZSlyZXR1cm5bcl07aWYoIVpuKGUpKXJldHVybiB0LmNhbGwocixlLGkpO2Zvcih2YXIgYSxvLHMsbD1bXSx1PShlLmlnbm9yZUNhc2U/ImkiOiIiKSsoZS5tdWx0aWxpbmU/Im0iOiIiKSsoZS51bmljb2RlPyJ1IjoiIikrKGUuc3RpY2t5PyJ5IjoiIiksYz0wLGg9bmV3IFJlZ0V4cChlLnNvdXJjZSx1KyJnIik7KGE9am4uY2FsbChoLHIpKSYmISgobz1oLmxhc3RJbmRleCk+YyYmKGwucHVzaChyLnNsaWNlKGMsYS5pbmRleCkpLGEubGVuZ3RoPjEmJmEuaW5kZXg8ci5sZW5ndGgmJmlyLmFwcGx5KGwsYS5zbGljZSgxKSkscz1hWzBdLmxlbmd0aCxjPW8sbC5sZW5ndGg+PWkpKTspaC5sYXN0SW5kZXg9PT1hLmluZGV4JiZoLmxhc3RJbmRleCsrO3JldHVybiBjPT09ci5sZW5ndGg/IXMmJmgudGVzdCgiIil8fGwucHVzaCgiIik6bC5wdXNoKHIuc2xpY2UoYykpLGwubGVuZ3RoPmk/bC5zbGljZSgwLGkpOmx9OiIwIi5zcGxpdCh2b2lkIDAsMCkubGVuZ3RoP2Z1bmN0aW9uKGUsbil7cmV0dXJuIHZvaWQgMD09PWUmJjA9PT1uP1tdOnQuY2FsbCh0aGlzLGUsbil9OnQsW2Z1bmN0aW9uKHQsbil7dmFyIGk9Yih0aGlzKSxhPW51bGw9PXQ/dm9pZCAwOnRbZV07cmV0dXJuIHZvaWQgMCE9PWE/YS5jYWxsKHQsaSxuKTpyLmNhbGwoU3RyaW5nKGkpLHQsbil9LGZ1bmN0aW9uKGUsaSl7dmFyIGE9bihyLGUsdGhpcyxpLHIhPT10KTtpZihhLmRvbmUpcmV0dXJuIGEudmFsdWU7dmFyIG89VChlKSxzPVN0cmluZyh0aGlzKSxsPUpuKG8sUmVnRXhwKSx1PW8udW5pY29kZSxjPShvLmlnbm9yZUNhc2U/ImkiOiIiKSsoby5tdWx0aWxpbmU/Im0iOiIiKSsoby51bmljb2RlPyJ1IjoiIikrKHNyPyJ5IjoiZyIpLGg9bmV3IGwoc3I/bzoiXig/OiIrby5zb3VyY2UrIikiLGMpLGQ9dm9pZCAwPT09aT9vcjppPj4+MDtpZigwPT09ZClyZXR1cm5bXTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIG51bGw9PT1ycihoLHMpP1tzXTpbXTtmb3IodmFyIGY9MCxnPTAscD1bXTtnPHMubGVuZ3RoOyl7aC5sYXN0SW5kZXg9c3I/ZzowO3ZhciB2LHk9cnIoaCxzcj9zOnMuc2xpY2UoZykpO2lmKG51bGw9PT15fHwodj1hcihmZShoLmxhc3RJbmRleCsoc3I/MDpnKSkscy5sZW5ndGgpKT09PWYpZz1ucihzLGcsdSk7ZWxzZXtpZihwLnB1c2gocy5zbGljZShmLGcpKSxwLmxlbmd0aD09PWQpcmV0dXJuIHA7Zm9yKHZhciBtPTE7bTw9eS5sZW5ndGgtMTttKyspaWYocC5wdXNoKHlbbV0pLHAubGVuZ3RoPT09ZClyZXR1cm4gcDtnPWY9dn19cmV0dXJuIHAucHVzaChzLnNsaWNlKGYpKSxwfV19KSwhc3IpO3ZhciBscix1cj11P09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7VChlKTtmb3IodmFyIG4scj1vdCh0KSxpPXIubGVuZ3RoLGE9MDtpPmE7KVAuZihlLG49clthKytdLHRbbl0pO3JldHVybiBlfSxjcj1sZSgiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiKSxocj1aKCJJRV9QUk9UTyIpLGRyPWZ1bmN0aW9uKCl7fSxmcj1mdW5jdGlvbihlKXtyZXR1cm4iPHNjcmlwdD4iK2UrIjwvIisic2NyaXB0PiJ9LGdyPWZ1bmN0aW9uKCl7dHJ5e2xyPWRvY3VtZW50LmRvbWFpbiYmbmV3IEFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIil9Y2F0Y2goZSl7fXZhciBlLHQ7Z3I9bHI/ZnVuY3Rpb24oZSl7ZS53cml0ZShmcigiIikpLGUuY2xvc2UoKTt2YXIgdD1lLnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIGU9bnVsbCx0fShscik6KCh0PVYoImlmcmFtZSIpKS5zdHlsZS5kaXNwbGF5PSJub25lIixjci5hcHBlbmRDaGlsZCh0KSx0LnNyYz1TdHJpbmcoImphdmFzY3JpcHQ6IiksKGU9dC5jb250ZW50V2luZG93LmRvY3VtZW50KS5vcGVuKCksZS53cml0ZShmcigiZG9jdW1lbnQuRj1PYmplY3QiKSksZS5jbG9zZSgpLGUuRik7Zm9yKHZhciBuPXdlLmxlbmd0aDtuLS07KWRlbGV0ZSBnci5wcm90b3R5cGVbd2Vbbl1dO3JldHVybiBncigpfTtZW2hyXT0hMDt2YXIgcHI9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbnVsbCE9PWU/KGRyLnByb3RvdHlwZT1UKGUpLG49bmV3IGRyLGRyLnByb3RvdHlwZT1udWxsLG5baHJdPWUpOm49Z3IoKSx2b2lkIDA9PT10P246dXIobix0KX0sdnI9U2UuZix5cj17fS50b1N0cmluZyxtcj0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGJyPXtmOmZ1bmN0aW9uKGUpe3JldHVybiBtciYmIltvYmplY3QgV2luZG93XSI9PXlyLmNhbGwoZSk/ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiB2cihlKX1jYXRjaChlKXtyZXR1cm4gbXIuc2xpY2UoKX19KGUpOnZyKGsoZSkpfX0sa3I9e2Y6V2V9LHdyPVAuZixfcj1mdW5jdGlvbihlKXt2YXIgdD1vZS5TeW1ib2x8fChvZS5TeW1ib2w9e30pO3godCxlKXx8d3IodCxlLHt2YWx1ZTprci5mKGUpfSl9LFNyPVAuZix4cj1XZSgidG9TdHJpbmdUYWciKSxJcj1mdW5jdGlvbihlLHQsbil7ZSYmIXgoZT1uP2U6ZS5wcm90b3R5cGUseHIpJiZTcihlLHhyLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfSxDcj1aZS5mb3JFYWNoLFZyPVooImhpZGRlbiIpLEVyPSJTeW1ib2wiLEFyPVdlKCJ0b1ByaW1pdGl2ZSIpLE1yPWllLnNldCxUcj1pZS5nZXR0ZXJGb3IoRXIpLExyPU9iamVjdC5wcm90b3R5cGUsUHI9cy5TeW1ib2wsQnI9bGUoIkpTT04iLCJzdHJpbmdpZnkiKSxPcj1NLmYsUnI9UC5mLHpyPWJyLmYsTnI9ZC5mLEZyPVcoInN5bWJvbHMiKSxEcj1XKCJvcC1zeW1ib2xzIiksanI9Vygic3RyaW5nLXRvLXN5bWJvbC1yZWdpc3RyeSIpLCRyPVcoInN5bWJvbC10by1zdHJpbmctcmVnaXN0cnkiKSxxcj1XKCJ3a3MiKSxVcj1zLlFPYmplY3QsV3I9IVVyfHwhVXIucHJvdG90eXBlfHwhVXIucHJvdG90eXBlLmZpbmRDaGlsZCxHcj11JiZsKChmdW5jdGlvbigpe3JldHVybiA3IT1wcihScih7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBScih0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KSk/ZnVuY3Rpb24oZSx0LG4pe3ZhciByPU9yKExyLHQpO3ImJmRlbGV0ZSBMclt0XSxScihlLHQsbiksciYmZSE9PUxyJiZScihMcix0LHIpfTpScixIcj1mdW5jdGlvbihlLHQpe3ZhciBuPUZyW2VdPXByKFByLnByb3RvdHlwZSk7cmV0dXJuIE1yKG4se3R5cGU6RXIsdGFnOmUsZGVzY3JpcHRpb246dH0pLHV8fChuLmRlc2NyaXB0aW9uPXQpLG59LEtyPWplP2Z1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChlKWluc3RhbmNlb2YgUHJ9LFhyPWZ1bmN0aW9uKGUsdCxuKXtlPT09THImJlhyKERyLHQsbiksVChlKTt2YXIgcj1fKHQsITApO3JldHVybiBUKG4pLHgoRnIscik/KG4uZW51bWVyYWJsZT8oeChlLFZyKSYmZVtWcl1bcl0mJihlW1ZyXVtyXT0hMSksbj1wcihuLHtlbnVtZXJhYmxlOmYoMCwhMSl9KSk6KHgoZSxWcil8fFJyKGUsVnIsZigxLHt9KSksZVtWcl1bcl09ITApLEdyKGUscixuKSk6UnIoZSxyLG4pfSxacj1mdW5jdGlvbihlLHQpe1QoZSk7dmFyIG49ayh0KSxyPW90KG4pLmNvbmNhdChlaShuKSk7cmV0dXJuIENyKHIsKGZ1bmN0aW9uKHQpe3UmJiFZci5jYWxsKG4sdCl8fFhyKGUsdCxuW3RdKX0pKSxlfSxZcj1mdW5jdGlvbihlKXt2YXIgdD1fKGUsITApLG49TnIuY2FsbCh0aGlzLHQpO3JldHVybiEodGhpcz09PUxyJiZ4KEZyLHQpJiYheChEcix0KSkmJighKG58fCF4KHRoaXMsdCl8fCF4KEZyLHQpfHx4KHRoaXMsVnIpJiZ0aGlzW1ZyXVt0XSl8fG4pfSxKcj1mdW5jdGlvbihlLHQpe3ZhciBuPWsoZSkscj1fKHQsITApO2lmKG4hPT1Mcnx8IXgoRnIscil8fHgoRHIscikpe3ZhciBpPU9yKG4scik7cmV0dXJuIWl8fCF4KEZyLHIpfHx4KG4sVnIpJiZuW1ZyXVtyXXx8KGkuZW51bWVyYWJsZT0hMCksaX19LFFyPWZ1bmN0aW9uKGUpe3ZhciB0PXpyKGsoZSkpLG49W107cmV0dXJuIENyKHQsKGZ1bmN0aW9uKGUpe3goRnIsZSl8fHgoWSxlKXx8bi5wdXNoKGUpfSkpLG59LGVpPWZ1bmN0aW9uKGUpe3ZhciB0PWU9PT1McixuPXpyKHQ/RHI6ayhlKSkscj1bXTtyZXR1cm4gQ3IobiwoZnVuY3Rpb24oZSl7IXgoRnIsZSl8fHQmJiF4KExyLGUpfHxyLnB1c2goRnJbZV0pfSkpLHJ9O2lmKERlfHwoYWUoKFByPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIFByKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIik7dmFyIGU9YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP1N0cmluZyhhcmd1bWVudHNbMF0pOnZvaWQgMCx0PUsoZSksbj1mdW5jdGlvbihlKXt0aGlzPT09THImJm4uY2FsbChEcixlKSx4KHRoaXMsVnIpJiZ4KHRoaXNbVnJdLHQpJiYodGhpc1tWcl1bdF09ITEpLEdyKHRoaXMsdCxmKDEsZSkpfTtyZXR1cm4gdSYmV3ImJkdyKExyLHQse2NvbmZpZ3VyYWJsZTohMCxzZXQ6bn0pLEhyKHQsZSl9KS5wcm90b3R5cGUsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4gVHIodGhpcykudGFnfSkpLGFlKFByLCJ3aXRob3V0U2V0dGVyIiwoZnVuY3Rpb24oZSl7cmV0dXJuIEhyKEsoZSksZSl9KSksZC5mPVlyLFAuZj1YcixNLmY9SnIsU2UuZj1ici5mPVFyLHhlLmY9ZWksa3IuZj1mdW5jdGlvbihlKXtyZXR1cm4gSHIoV2UoZSksZSl9LHUmJihScihQci5wcm90b3R5cGUsImRlc2NyaXB0aW9uIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBUcih0aGlzKS5kZXNjcmlwdGlvbn19KSxhZShMciwicHJvcGVydHlJc0VudW1lcmFibGUiLFlyLHt1bnNhZmU6ITB9KSkpLE9lKHtnbG9iYWw6ITAsd3JhcDohMCxmb3JjZWQ6IURlLHNoYW06IURlfSx7U3ltYm9sOlByfSksQ3Iob3QocXIpLChmdW5jdGlvbihlKXtfcihlKX0pKSxPZSh7dGFyZ2V0OkVyLHN0YXQ6ITAsZm9yY2VkOiFEZX0se2ZvcjpmdW5jdGlvbihlKXt2YXIgdD1TdHJpbmcoZSk7aWYoeChqcix0KSlyZXR1cm4ganJbdF07dmFyIG49UHIodCk7cmV0dXJuIGpyW3RdPW4sJHJbbl09dCxufSxrZXlGb3I6ZnVuY3Rpb24oZSl7aWYoIUtyKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sIik7aWYoeCgkcixlKSlyZXR1cm4gJHJbZV19LHVzZVNldHRlcjpmdW5jdGlvbigpe1dyPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtXcj0hMX19KSxPZSh7dGFyZ2V0OiJPYmplY3QiLHN0YXQ6ITAsZm9yY2VkOiFEZSxzaGFtOiF1fSx7Y3JlYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/cHIoZSk6WnIocHIoZSksdCl9LGRlZmluZVByb3BlcnR5OlhyLGRlZmluZVByb3BlcnRpZXM6WnIsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOkpyfSksT2Uoe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwLGZvcmNlZDohRGV9LHtnZXRPd25Qcm9wZXJ0eU5hbWVzOlFyLGdldE93blByb3BlcnR5U3ltYm9sczplaX0pLE9lKHt0YXJnZXQ6Ik9iamVjdCIsc3RhdDohMCxmb3JjZWQ6bCgoZnVuY3Rpb24oKXt4ZS5mKDEpfSkpfSx7Z2V0T3duUHJvcGVydHlTeW1ib2xzOmZ1bmN0aW9uKGUpe3JldHVybiB4ZS5mKE5lKGUpKX19KSxCcil7dmFyIHRpPSFEZXx8bCgoZnVuY3Rpb24oKXt2YXIgZT1QcigpO3JldHVybiJbbnVsbF0iIT1CcihbZV0pfHwie30iIT1Ccih7YTplfSl8fCJ7fSIhPUJyKE9iamVjdChlKSl9KSk7T2Uoe3RhcmdldDoiSlNPTiIsc3RhdDohMCxmb3JjZWQ6dGl9LHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixpPVtlXSxhPTE7YXJndW1lbnRzLmxlbmd0aD5hOylpLnB1c2goYXJndW1lbnRzW2ErK10pO2lmKHI9dCwodyh0KXx8dm9pZCAwIT09ZSkmJiFLcihlKSlyZXR1cm4gRmUodCl8fCh0PWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLCFLcih0KSlyZXR1cm4gdH0pLGlbMV09dCxCci5hcHBseShudWxsLGkpfX0pfVByLnByb3RvdHlwZVtBcl18fEIoUHIucHJvdG90eXBlLEFyLFByLnByb3RvdHlwZS52YWx1ZU9mKSxJcihQcixFciksWVtWcl09ITA7dmFyIG5pPVAuZixyaT1zLlN5bWJvbDtpZih1JiYiZnVuY3Rpb24iPT10eXBlb2YgcmkmJighKCJkZXNjcmlwdGlvbiJpbiByaS5wcm90b3R5cGUpfHx2b2lkIDAhPT1yaSgpLmRlc2NyaXB0aW9uKSl7dmFyIGlpPXt9LGFpPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDwxfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/dm9pZCAwOlN0cmluZyhhcmd1bWVudHNbMF0pLHQ9dGhpcyBpbnN0YW5jZW9mIGFpP25ldyByaShlKTp2b2lkIDA9PT1lP3JpKCk6cmkoZSk7cmV0dXJuIiI9PT1lJiYoaWlbdF09ITApLHR9O0NlKGFpLHJpKTt2YXIgb2k9YWkucHJvdG90eXBlPXJpLnByb3RvdHlwZTtvaS5jb25zdHJ1Y3Rvcj1haTt2YXIgc2k9b2kudG9TdHJpbmcsbGk9IlN5bWJvbCh0ZXN0KSI9PVN0cmluZyhyaSgidGVzdCIpKSx1aT0vXlN5bWJvbFwoKC4qKVwpW14pXSskLztuaShvaSwiZGVzY3JpcHRpb24iLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dyh0aGlzKT90aGlzLnZhbHVlT2YoKTp0aGlzLHQ9c2kuY2FsbChlKTtpZih4KGlpLGUpKXJldHVybiIiO3ZhciBuPWxpP3Quc2xpY2UoNywtMSk6dC5yZXBsYWNlKHVpLCIkMSIpO3JldHVybiIiPT09bj92b2lkIDA6bn19KSxPZSh7Z2xvYmFsOiEwLGZvcmNlZDohMH0se1N5bWJvbDphaX0pfV9yKCJpdGVyYXRvciIpO3ZhciBjaT1XZSgidW5zY29wYWJsZXMiKSxoaT1BcnJheS5wcm90b3R5cGU7bnVsbD09aGlbY2ldJiZQLmYoaGksY2kse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTpwcihudWxsKX0pO3ZhciBkaSxmaSxnaSxwaT1mdW5jdGlvbihlKXtoaVtjaV1bZV09ITB9LHZpPXt9LHlpPSFsKChmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW51bGwsT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBlKSE9PWUucHJvdG90eXBlfSkpLG1pPVooIklFX1BST1RPIiksYmk9T2JqZWN0LnByb3RvdHlwZSxraT15aT9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9TmUoZSkseChlLG1pKT9lW21pXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9iaTpudWxsfSx3aT1XZSgiaXRlcmF0b3IiKSxfaT0hMTtbXS5rZXlzJiYoIm5leHQiaW4oZ2k9W10ua2V5cygpKT8oZmk9a2koa2koZ2kpKSkhPT1PYmplY3QucHJvdG90eXBlJiYoZGk9ZmkpOl9pPSEwKSxudWxsPT1kaSYmKGRpPXt9KSx4KGRpLHdpKXx8QihkaSx3aSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgU2k9e0l0ZXJhdG9yUHJvdG90eXBlOmRpLEJVR0dZX1NBRkFSSV9JVEVSQVRPUlM6X2l9LHhpPVNpLkl0ZXJhdG9yUHJvdG90eXBlLElpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LENpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbigpe3ZhciBlLHQ9ITEsbj17fTt0cnl7KGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQpLmNhbGwobixbXSksdD1uIGluc3RhbmNlb2YgQXJyYXl9Y2F0Y2goZSl7fXJldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBUKG4pLGZ1bmN0aW9uKGUpe2lmKCF3KGUpJiZudWxsIT09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IHNldCAiK1N0cmluZyhlKSsiIGFzIGEgcHJvdG90eXBlIil9KHIpLHQ/ZS5jYWxsKG4scik6bi5fX3Byb3RvX189cixufX0oKTp2b2lkIDApLFZpPVNpLkl0ZXJhdG9yUHJvdG90eXBlLEVpPVNpLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsQWk9V2UoIml0ZXJhdG9yIiksTWk9ImtleXMiLFRpPSJ2YWx1ZXMiLExpPSJlbnRyaWVzIixQaT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxCaT1mdW5jdGlvbihlLHQsbixyLGksYSxvKXshZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQrIiBJdGVyYXRvciI7ZS5wcm90b3R5cGU9cHIoeGkse25leHQ6ZigxLG4pfSksSXIoZSxyLCExKSx2aVtyXT1JaX0obix0LHIpO3ZhciBzLGwsdSxjPWZ1bmN0aW9uKGUpe2lmKGU9PT1pJiZ2KXJldHVybiB2O2lmKCFFaSYmZSBpbiBnKXJldHVybiBnW2VdO3N3aXRjaChlKXtjYXNlIE1pOmNhc2UgVGk6Y2FzZSBMaTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMpfX0saD10KyIgSXRlcmF0b3IiLGQ9ITEsZz1lLnByb3RvdHlwZSxwPWdbQWldfHxnWyJAQGl0ZXJhdG9yIl18fGkmJmdbaV0sdj0hRWkmJnB8fGMoaSkseT0iQXJyYXkiPT10JiZnLmVudHJpZXN8fHA7aWYoeSYmKHM9a2koeS5jYWxsKG5ldyBlKSksVmkhPT1PYmplY3QucHJvdG90eXBlJiZzLm5leHQmJihraShzKSE9PVZpJiYoQ2k/Q2kocyxWaSk6ImZ1bmN0aW9uIiE9dHlwZW9mIHNbQWldJiZCKHMsQWksUGkpKSxJcihzLGgsITApKSksaT09VGkmJnAmJnAubmFtZSE9PVRpJiYoZD0hMCx2PWZ1bmN0aW9uKCl7cmV0dXJuIHAuY2FsbCh0aGlzKX0pLGdbQWldIT09diYmQihnLEFpLHYpLHZpW3RdPXYsaSlpZihsPXt2YWx1ZXM6YyhUaSksa2V5czphP3Y6YyhNaSksZW50cmllczpjKExpKX0sbylmb3IodSBpbiBsKShFaXx8ZHx8ISh1IGluIGcpKSYmYWUoZyx1LGxbdV0pO2Vsc2UgT2Uoe3RhcmdldDp0LHByb3RvOiEwLGZvcmNlZDpFaXx8ZH0sbCk7cmV0dXJuIGx9LE9pPSJBcnJheSBJdGVyYXRvciIsUmk9aWUuc2V0LHppPWllLmdldHRlckZvcihPaSksTmk9QmkoQXJyYXksIkFycmF5IiwoZnVuY3Rpb24oZSx0KXtSaSh0aGlzLHt0eXBlOk9pLHRhcmdldDprKGUpLGluZGV4OjAsa2luZDp0fSl9KSwoZnVuY3Rpb24oKXt2YXIgZT16aSh0aGlzKSx0PWUudGFyZ2V0LG49ZS5raW5kLHI9ZS5pbmRleCsrO3JldHVybiF0fHxyPj10Lmxlbmd0aD8oZS50YXJnZXQ9dm9pZCAwLHt2YWx1ZTp2b2lkIDAsZG9uZTohMH0pOiJrZXlzIj09bj97dmFsdWU6cixkb25lOiExfToidmFsdWVzIj09bj97dmFsdWU6dFtyXSxkb25lOiExfTp7dmFsdWU6W3IsdFtyXV0sZG9uZTohMX19KSwidmFsdWVzIik7dmkuQXJndW1lbnRzPXZpLkFycmF5LHBpKCJrZXlzIikscGkoInZhbHVlcyIpLHBpKCJlbnRyaWVzIik7dmFyIEZpPSR0KCJzbGljZSIpLERpPXR0KCJzbGljZSIse0FDQ0VTU09SUzohMCwwOjAsMToyfSksamk9V2UoInNwZWNpZXMiKSwkaT1bXS5zbGljZSxxaT1NYXRoLm1heDtPZSh7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOiFGaXx8IURpfSx7c2xpY2U6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksYT1rKHRoaXMpLG89ZmUoYS5sZW5ndGgpLHM9dmUoZSxvKSxsPXZlKHZvaWQgMD09PXQ/bzp0LG8pO2lmKEZlKGEpJiYoImZ1bmN0aW9uIiE9dHlwZW9mKG49YS5jb25zdHJ1Y3Rvcil8fG4hPT1BcnJheSYmIUZlKG4ucHJvdG90eXBlKT93KG4pJiZudWxsPT09KG49bltqaV0pJiYobj12b2lkIDApOm49dm9pZCAwLG49PT1BcnJheXx8dm9pZCAwPT09bikpcmV0dXJuICRpLmNhbGwoYSxzLGwpO2ZvcihyPW5ldyh2b2lkIDA9PT1uP0FycmF5Om4pKHFpKGwtcywwKSksaT0wO3M8bDtzKyssaSsrKXMgaW4gYSYmWXQocixpLGFbc10pO3JldHVybiByLmxlbmd0aD1pLHJ9fSk7dmFyIFVpPWVyLmNoYXJBdCxXaT0iU3RyaW5nIEl0ZXJhdG9yIixHaT1pZS5zZXQsSGk9aWUuZ2V0dGVyRm9yKFdpKTtCaShTdHJpbmcsIlN0cmluZyIsKGZ1bmN0aW9uKGUpe0dpKHRoaXMse3R5cGU6V2ksc3RyaW5nOlN0cmluZyhlKSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgZSx0PUhpKHRoaXMpLG49dC5zdHJpbmcscj10LmluZGV4O3JldHVybiByPj1uLmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPVVpKG4sciksdC5pbmRleCs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSkpLEtuKCJtYXRjaCIsMSwoZnVuY3Rpb24oZSx0LG4pe3JldHVybltmdW5jdGlvbih0KXt2YXIgbj1iKHRoaXMpLHI9bnVsbD09dD92b2lkIDA6dFtlXTtyZXR1cm4gdm9pZCAwIT09cj9yLmNhbGwodCxuKTpuZXcgUmVnRXhwKHQpW2VdKFN0cmluZyhuKSl9LGZ1bmN0aW9uKGUpe3ZhciByPW4odCxlLHRoaXMpO2lmKHIuZG9uZSlyZXR1cm4gci52YWx1ZTt2YXIgaT1UKGUpLGE9U3RyaW5nKHRoaXMpO2lmKCFpLmdsb2JhbClyZXR1cm4gcnIoaSxhKTt2YXIgbz1pLnVuaWNvZGU7aS5sYXN0SW5kZXg9MDtmb3IodmFyIHMsbD1bXSx1PTA7bnVsbCE9PShzPXJyKGksYSkpOyl7dmFyIGM9U3RyaW5nKHNbMF0pO2xbdV09YywiIj09PWMmJihpLmxhc3RJbmRleD1ucihhLGZlKGkubGFzdEluZGV4KSxvKSksdSsrfXJldHVybiAwPT09dT9udWxsOmx9XX0pKTt2YXIgS2k9V2UoIml0ZXJhdG9yIiksWGk9ITE7dHJ5e3ZhciBaaT0wLFlpPXtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6ISFaaSsrfX0scmV0dXJuOmZ1bmN0aW9uKCl7WGk9ITB9fTtZaVtLaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sQXJyYXkuZnJvbShZaSwoZnVuY3Rpb24oKXt0aHJvdyAyfSkpfWNhdGNoKGUpe312YXIgSmksUWk9ZnVuY3Rpb24oZSx0KXtpZighdCYmIVhpKXJldHVybiExO3ZhciBuPSExO3RyeXt2YXIgcj17fTtyW0tpXT1mdW5jdGlvbigpe3JldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6bj0hMH19fX0sZShyKX1jYXRjaChlKXt9cmV0dXJuIG59LGVhPSJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJiJ1bmRlZmluZWQiIT10eXBlb2YgRGF0YVZpZXcsdGE9UC5mLG5hPXMuSW50OEFycmF5LHJhPW5hJiZuYS5wcm90b3R5cGUsaWE9cy5VaW50OENsYW1wZWRBcnJheSxhYT1pYSYmaWEucHJvdG90eXBlLG9hPW5hJiZraShuYSksc2E9cmEmJmtpKHJhKSxsYT1PYmplY3QucHJvdG90eXBlLHVhPWxhLmlzUHJvdG90eXBlT2YsY2E9V2UoInRvU3RyaW5nVGFnIiksaGE9SygiVFlQRURfQVJSQVlfVEFHIiksZGE9ZWEmJiEhQ2kmJiJPcGVyYSIhPT1jbihzLm9wZXJhKSxmYT0hMSxnYT17SW50OEFycmF5OjEsVWludDhBcnJheToxLFVpbnQ4Q2xhbXBlZEFycmF5OjEsSW50MTZBcnJheToyLFVpbnQxNkFycmF5OjIsSW50MzJBcnJheTo0LFVpbnQzMkFycmF5OjQsRmxvYXQzMkFycmF5OjQsRmxvYXQ2NEFycmF5Ojh9LHBhPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpJiZ4KGdhLGNuKGUpKX07Zm9yKEppIGluIGdhKXNbSmldfHwoZGE9ITEpO2lmKCghZGF8fCJmdW5jdGlvbiIhPXR5cGVvZiBvYXx8b2E9PT1GdW5jdGlvbi5wcm90b3R5cGUpJiYob2E9ZnVuY3Rpb24oKXt0aHJvdyBUeXBlRXJyb3IoIkluY29ycmVjdCBpbnZvY2F0aW9uIil9LGRhKSlmb3IoSmkgaW4gZ2Epc1tKaV0mJkNpKHNbSmldLG9hKTtpZigoIWRhfHwhc2F8fHNhPT09bGEpJiYoc2E9b2EucHJvdG90eXBlLGRhKSlmb3IoSmkgaW4gZ2Epc1tKaV0mJkNpKHNbSmldLnByb3RvdHlwZSxzYSk7aWYoZGEmJmtpKGFhKSE9PXNhJiZDaShhYSxzYSksdSYmIXgoc2EsY2EpKWZvcihKaSBpbiBmYT0hMCx0YShzYSxjYSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHcodGhpcyk/dGhpc1toYV06dm9pZCAwfX0pLGdhKXNbSmldJiZCKHNbSmldLGhhLEppKTt2YXIgdmE9e05BVElWRV9BUlJBWV9CVUZGRVJfVklFV1M6ZGEsVFlQRURfQVJSQVlfVEFHOmZhJiZoYSxhVHlwZWRBcnJheTpmdW5jdGlvbihlKXtpZihwYShlKSlyZXR1cm4gZTt0aHJvdyBUeXBlRXJyb3IoIlRhcmdldCBpcyBub3QgYSB0eXBlZCBhcnJheSIpfSxhVHlwZWRBcnJheUNvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe2lmKENpKXtpZih1YS5jYWxsKG9hLGUpKXJldHVybiBlfWVsc2UgZm9yKHZhciB0IGluIGdhKWlmKHgoZ2EsSmkpKXt2YXIgbj1zW3RdO2lmKG4mJihlPT09bnx8dWEuY2FsbChuLGUpKSlyZXR1cm4gZX10aHJvdyBUeXBlRXJyb3IoIlRhcmdldCBpcyBub3QgYSB0eXBlZCBhcnJheSBjb25zdHJ1Y3RvciIpfSxleHBvcnRUeXBlZEFycmF5TWV0aG9kOmZ1bmN0aW9uKGUsdCxuKXtpZih1KXtpZihuKWZvcih2YXIgciBpbiBnYSl7dmFyIGk9c1tyXTtpJiZ4KGkucHJvdG90eXBlLGUpJiZkZWxldGUgaS5wcm90b3R5cGVbZV19c2FbZV0mJiFufHxhZShzYSxlLG4/dDpkYSYmcmFbZV18fHQpfX0sZXhwb3J0VHlwZWRBcnJheVN0YXRpY01ldGhvZDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZih1KXtpZihDaSl7aWYobilmb3IociBpbiBnYSkoaT1zW3JdKSYmeChpLGUpJiZkZWxldGUgaVtlXTtpZihvYVtlXSYmIW4pcmV0dXJuO3RyeXtyZXR1cm4gYWUob2EsZSxuP3Q6ZGEmJm5hW2VdfHx0KX1jYXRjaChlKXt9fWZvcihyIGluIGdhKSEoaT1zW3JdKXx8aVtlXSYmIW58fGFlKGksZSx0KX19LGlzVmlldzpmdW5jdGlvbihlKXt2YXIgdD1jbihlKTtyZXR1cm4iRGF0YVZpZXciPT09dHx8eChnYSx0KX0saXNUeXBlZEFycmF5OnBhLFR5cGVkQXJyYXk6b2EsVHlwZWRBcnJheVByb3RvdHlwZTpzYX0seWE9dmEuTkFUSVZFX0FSUkFZX0JVRkZFUl9WSUVXUyxtYT1zLkFycmF5QnVmZmVyLGJhPXMuSW50OEFycmF5LGthPSF5YXx8IWwoKGZ1bmN0aW9uKCl7YmEoMSl9KSl8fCFsKChmdW5jdGlvbigpe25ldyBiYSgtMSl9KSl8fCFRaSgoZnVuY3Rpb24oZSl7bmV3IGJhLG5ldyBiYShudWxsKSxuZXcgYmEoMS41KSxuZXcgYmEoZSl9KSwhMCl8fGwoKGZ1bmN0aW9uKCl7cmV0dXJuIDEhPT1uZXcgYmEobmV3IG1hKDIpLDEsdm9pZCAwKS5sZW5ndGh9KSksd2E9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgciBpbiB0KWFlKGUscix0W3JdLG4pO3JldHVybiBlfSxfYT1mdW5jdGlvbihlLHQsbil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKCJJbmNvcnJlY3QgIisobj9uKyIgIjoiIikrImludm9jYXRpb24iKTtyZXR1cm4gZX0sU2E9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gMDt2YXIgdD1oZShlKSxuPWZlKHQpO2lmKHQhPT1uKXRocm93IFJhbmdlRXJyb3IoIldyb25nIGxlbmd0aCBvciBpbmRleCIpO3JldHVybiBufSx4YT0xLzAsSWE9TWF0aC5hYnMsQ2E9TWF0aC5wb3csVmE9TWF0aC5mbG9vcixFYT1NYXRoLmxvZyxBYT1NYXRoLkxOMixNYT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxhLG89bmV3IEFycmF5KG4pLHM9OCpuLXQtMSxsPSgxPDxzKS0xLHU9bD4+MSxjPTIzPT09dD9DYSgyLC0yNCktQ2EoMiwtNzcpOjAsaD1lPDB8fDA9PT1lJiYxL2U8MD8xOjAsZD0wO2ZvcigoZT1JYShlKSkhPWV8fGU9PT14YT8oaT1lIT1lPzE6MCxyPWwpOihyPVZhKEVhKGUpL0FhKSxlKihhPUNhKDIsLXIpKTwxJiYoci0tLGEqPTIpLChlKz1yK3U+PTE/Yy9hOmMqQ2EoMiwxLXUpKSphPj0yJiYocisrLGEvPTIpLHIrdT49bD8oaT0wLHI9bCk6cit1Pj0xPyhpPShlKmEtMSkqQ2EoMix0KSxyKz11KTooaT1lKkNhKDIsdS0xKSpDYSgyLHQpLHI9MCkpO3Q+PTg7b1tkKytdPTI1NSZpLGkvPTI1Nix0LT04KTtmb3Iocj1yPDx0fGkscys9dDtzPjA7b1tkKytdPTI1NSZyLHIvPTI1NixzLT04KTtyZXR1cm4gb1stLWRdfD0xMjgqaCxvfSxUYT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9ZS5sZW5ndGgsaT04KnItdC0xLGE9KDE8PGkpLTEsbz1hPj4xLHM9aS03LGw9ci0xLHU9ZVtsLS1dLGM9MTI3JnU7Zm9yKHU+Pj03O3M+MDtjPTI1NipjK2VbbF0sbC0tLHMtPTgpO2ZvcihuPWMmKDE8PC1zKS0xLGM+Pj0tcyxzKz10O3M+MDtuPTI1NipuK2VbbF0sbC0tLHMtPTgpO2lmKDA9PT1jKWM9MS1vO2Vsc2V7aWYoYz09PWEpcmV0dXJuIG4/TmFOOnU/LTEvMDp4YTtuKz1DYSgyLHQpLGMtPW99cmV0dXJuKHU/LTE6MSkqbipDYSgyLGMtdCl9LExhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1OZSh0aGlzKSxuPWZlKHQubGVuZ3RoKSxyPWFyZ3VtZW50cy5sZW5ndGgsaT12ZShyPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxuKSxhPXI+Mj9hcmd1bWVudHNbMl06dm9pZCAwLG89dm9pZCAwPT09YT9uOnZlKGEsbik7bz5pOyl0W2krK109ZTtyZXR1cm4gdH0sUGE9U2UuZixCYT1QLmYsT2E9aWUuZ2V0LFJhPWllLnNldCx6YT0iQXJyYXlCdWZmZXIiLE5hPSJEYXRhVmlldyIsRmE9Ildyb25nIGluZGV4IixEYT1zLkFycmF5QnVmZmVyLGphPURhLCRhPXMuRGF0YVZpZXcscWE9JGEmJiRhLnByb3RvdHlwZSxVYT1PYmplY3QucHJvdG90eXBlLFdhPXMuUmFuZ2VFcnJvcixHYT1NYSxIYT1UYSxLYT1mdW5jdGlvbihlKXtyZXR1cm5bMjU1JmVdfSxYYT1mdW5jdGlvbihlKXtyZXR1cm5bMjU1JmUsZT4+OCYyNTVdfSxaYT1mdW5jdGlvbihlKXtyZXR1cm5bMjU1JmUsZT4+OCYyNTUsZT4+MTYmMjU1LGU+PjI0JjI1NV19LFlhPWZ1bmN0aW9uKGUpe3JldHVybiBlWzNdPDwyNHxlWzJdPDwxNnxlWzFdPDw4fGVbMF19LEphPWZ1bmN0aW9uKGUpe3JldHVybiBHYShlLDIzLDQpfSxRYT1mdW5jdGlvbihlKXtyZXR1cm4gR2EoZSw1Miw4KX0sZW89ZnVuY3Rpb24oZSx0KXtCYShlLnByb3RvdHlwZSx0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2EodGhpcylbdF19fSl9LHRvPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPVNhKG4pLGE9T2EoZSk7aWYoaSt0PmEuYnl0ZUxlbmd0aCl0aHJvdyBXYShGYSk7dmFyIG89T2EoYS5idWZmZXIpLmJ5dGVzLHM9aSthLmJ5dGVPZmZzZXQsbD1vLnNsaWNlKHMscyt0KTtyZXR1cm4gcj9sOmwucmV2ZXJzZSgpfSxubz1mdW5jdGlvbihlLHQsbixyLGksYSl7dmFyIG89U2Eobikscz1PYShlKTtpZihvK3Q+cy5ieXRlTGVuZ3RoKXRocm93IFdhKEZhKTtmb3IodmFyIGw9T2Eocy5idWZmZXIpLmJ5dGVzLHU9bytzLmJ5dGVPZmZzZXQsYz1yKCtpKSxoPTA7aDx0O2grKylsW3UraF09Y1thP2g6dC1oLTFdfTtpZihlYSl7aWYoIWwoKGZ1bmN0aW9uKCl7RGEoMSl9KSl8fCFsKChmdW5jdGlvbigpe25ldyBEYSgtMSl9KSl8fGwoKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYSxuZXcgRGEoMS41KSxuZXcgRGEoTmFOKSxEYS5uYW1lIT16YX0pKSl7Zm9yKHZhciBybyxpbz0oamE9ZnVuY3Rpb24oZSl7cmV0dXJuIF9hKHRoaXMsamEpLG5ldyBEYShTYShlKSl9KS5wcm90b3R5cGU9RGEucHJvdG90eXBlLGFvPVBhKERhKSxvbz0wO2FvLmxlbmd0aD5vbzspKHJvPWFvW29vKytdKWluIGphfHxCKGphLHJvLERhW3JvXSk7aW8uY29uc3RydWN0b3I9amF9Q2kmJmtpKHFhKSE9PVVhJiZDaShxYSxVYSk7dmFyIHNvPW5ldyAkYShuZXcgamEoMikpLGxvPXFhLnNldEludDg7c28uc2V0SW50OCgwLDIxNDc0ODM2NDgpLHNvLnNldEludDgoMSwyMTQ3NDgzNjQ5KSwhc28uZ2V0SW50OCgwKSYmc28uZ2V0SW50OCgxKXx8d2EocWEse3NldEludDg6ZnVuY3Rpb24oZSx0KXtsby5jYWxsKHRoaXMsZSx0PDwyND4+MjQpfSxzZXRVaW50ODpmdW5jdGlvbihlLHQpe2xvLmNhbGwodGhpcyxlLHQ8PDI0Pj4yNCl9fSx7dW5zYWZlOiEwfSl9ZWxzZSBqYT1mdW5jdGlvbihlKXtfYSh0aGlzLGphLHphKTt2YXIgdD1TYShlKTtSYSh0aGlzLHtieXRlczpMYS5jYWxsKG5ldyBBcnJheSh0KSwwKSxieXRlTGVuZ3RoOnR9KSx1fHwodGhpcy5ieXRlTGVuZ3RoPXQpfSwkYT1mdW5jdGlvbihlLHQsbil7X2EodGhpcywkYSxOYSksX2EoZSxqYSxOYSk7dmFyIHI9T2EoZSkuYnl0ZUxlbmd0aCxpPWhlKHQpO2lmKGk8MHx8aT5yKXRocm93IFdhKCJXcm9uZyBvZmZzZXQiKTtpZihpKyhuPXZvaWQgMD09PW4/ci1pOmZlKG4pKT5yKXRocm93IFdhKCJXcm9uZyBsZW5ndGgiKTtSYSh0aGlzLHtidWZmZXI6ZSxieXRlTGVuZ3RoOm4sYnl0ZU9mZnNldDppfSksdXx8KHRoaXMuYnVmZmVyPWUsdGhpcy5ieXRlTGVuZ3RoPW4sdGhpcy5ieXRlT2Zmc2V0PWkpfSx1JiYoZW8oamEsImJ5dGVMZW5ndGgiKSxlbygkYSwiYnVmZmVyIiksZW8oJGEsImJ5dGVMZW5ndGgiKSxlbygkYSwiYnl0ZU9mZnNldCIpKSx3YSgkYS5wcm90b3R5cGUse2dldEludDg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRvKHRoaXMsMSxlKVswXTw8MjQ+PjI0fSxnZXRVaW50ODpmdW5jdGlvbihlKXtyZXR1cm4gdG8odGhpcywxLGUpWzBdfSxnZXRJbnQxNjpmdW5jdGlvbihlKXt2YXIgdD10byh0aGlzLDIsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCk7cmV0dXJuKHRbMV08PDh8dFswXSk8PDE2Pj4xNn0sZ2V0VWludDE2OmZ1bmN0aW9uKGUpe3ZhciB0PXRvKHRoaXMsMixlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKTtyZXR1cm4gdFsxXTw8OHx0WzBdfSxnZXRJbnQzMjpmdW5jdGlvbihlKXtyZXR1cm4gWWEodG8odGhpcyw0LGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApKX0sZ2V0VWludDMyOmZ1bmN0aW9uKGUpe3JldHVybiBZYSh0byh0aGlzLDQsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCkpPj4+MH0sZ2V0RmxvYXQzMjpmdW5jdGlvbihlKXtyZXR1cm4gSGEodG8odGhpcyw0LGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApLDIzKX0sZ2V0RmxvYXQ2NDpmdW5jdGlvbihlKXtyZXR1cm4gSGEodG8odGhpcyw4LGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApLDUyKX0sc2V0SW50ODpmdW5jdGlvbihlLHQpe25vKHRoaXMsMSxlLEthLHQpfSxzZXRVaW50ODpmdW5jdGlvbihlLHQpe25vKHRoaXMsMSxlLEthLHQpfSxzZXRJbnQxNjpmdW5jdGlvbihlLHQpe25vKHRoaXMsMixlLFhhLHQsYXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDApfSxzZXRVaW50MTY6ZnVuY3Rpb24oZSx0KXtubyh0aGlzLDIsZSxYYSx0LGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwKX0sc2V0SW50MzI6ZnVuY3Rpb24oZSx0KXtubyh0aGlzLDQsZSxaYSx0LGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwKX0sc2V0VWludDMyOmZ1bmN0aW9uKGUsdCl7bm8odGhpcyw0LGUsWmEsdCxhcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCl9LHNldEZsb2F0MzI6ZnVuY3Rpb24oZSx0KXtubyh0aGlzLDQsZSxKYSx0LGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwKX0sc2V0RmxvYXQ2NDpmdW5jdGlvbihlLHQpe25vKHRoaXMsOCxlLFFhLHQsYXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDApfX0pO0lyKGphLHphKSxJcigkYSxOYSk7dmFyIHVvPXtBcnJheUJ1ZmZlcjpqYSxEYXRhVmlldzokYX0sY289ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD1oZShlKTtpZih0PDApdGhyb3cgUmFuZ2VFcnJvcigiVGhlIGFyZ3VtZW50IGNhbid0IGJlIGxlc3MgdGhhbiAwIik7cmV0dXJuIHR9KGUpO2lmKG4ldCl0aHJvdyBSYW5nZUVycm9yKCJXcm9uZyBvZmZzZXQiKTtyZXR1cm4gbn0saG89V2UoIml0ZXJhdG9yIiksZm89ZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSlyZXR1cm4gZVtob118fGVbIkBAaXRlcmF0b3IiXXx8dmlbY24oZSldfSxnbz1XZSgiaXRlcmF0b3IiKSxwbz1BcnJheS5wcm90b3R5cGUsdm89ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJih2aS5BcnJheT09PWV8fHBvW2dvXT09PWUpfSx5bz12YS5hVHlwZWRBcnJheUNvbnN0cnVjdG9yLG1vPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLGEsbyxzPU5lKGUpLGw9YXJndW1lbnRzLmxlbmd0aCx1PWw+MT9hcmd1bWVudHNbMV06dm9pZCAwLGM9dm9pZCAwIT09dSxoPWZvKHMpO2lmKG51bGwhPWgmJiF2byhoKSlmb3Iobz0oYT1oLmNhbGwocykpLm5leHQscz1bXTshKGk9by5jYWxsKGEpKS5kb25lOylzLnB1c2goaS52YWx1ZSk7Zm9yKGMmJmw+MiYmKHU9emUodSxhcmd1bWVudHNbMl0sMikpLG49ZmUocy5sZW5ndGgpLHI9bmV3KHlvKHRoaXMpKShuKSx0PTA7bj50O3QrKylyW3RdPWM/dShzW3RdLHQpOnNbdF07cmV0dXJuIHJ9LGJvPVdlKCJzcGVjaWVzIiksa289ZnVuY3Rpb24oZSl7dmFyIHQ9bGUoZSksbj1QLmY7dSYmdCYmIXRbYm9dJiZuKHQsYm8se2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX0sd289ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7cmV0dXJuIENpJiYiZnVuY3Rpb24iPT10eXBlb2Yocj10LmNvbnN0cnVjdG9yKSYmciE9PW4mJncoaT1yLnByb3RvdHlwZSkmJmkhPT1uLnByb3RvdHlwZSYmQ2koZSxpKSxlfSxfbz1hKChmdW5jdGlvbihlKXt2YXIgdD1TZS5mLG49WmUuZm9yRWFjaCxyPWllLmdldCxpPWllLnNldCxhPVAuZixvPU0uZixsPU1hdGgucm91bmQsYz1zLlJhbmdlRXJyb3IsaD11by5BcnJheUJ1ZmZlcixkPXVvLkRhdGFWaWV3LGc9dmEuTkFUSVZFX0FSUkFZX0JVRkZFUl9WSUVXUyxwPXZhLlRZUEVEX0FSUkFZX1RBRyx2PXZhLlR5cGVkQXJyYXkseT12YS5UeXBlZEFycmF5UHJvdG90eXBlLG09dmEuYVR5cGVkQXJyYXlDb25zdHJ1Y3RvcixiPXZhLmlzVHlwZWRBcnJheSxrPSJCWVRFU19QRVJfRUxFTUVOVCIsUz0iV3JvbmcgbGVuZ3RoIixJPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj10Lmxlbmd0aCxpPW5ldyhtKGUpKShyKTtyPm47KWlbbl09dFtuKytdO3JldHVybiBpfSxDPWZ1bmN0aW9uKGUsdCl7YShlLHQse2dldDpmdW5jdGlvbigpe3JldHVybiByKHRoaXMpW3RdfX0pfSxWPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgaHx8IkFycmF5QnVmZmVyIj09KHQ9Y24oZSkpfHwiU2hhcmVkQXJyYXlCdWZmZXIiPT10fSxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGIoZSkmJiJzeW1ib2wiIT10eXBlb2YgdCYmdCBpbiBlJiZTdHJpbmcoK3QpPT1TdHJpbmcodCl9LEE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRShlLHQ9Xyh0LCEwKSk/ZigyLGVbdF0pOm8oZSx0KX0sVD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIShFKGUsdD1fKHQsITApKSYmdyhuKSYmeChuLCJ2YWx1ZSIpKXx8eChuLCJnZXQiKXx8eChuLCJzZXQiKXx8bi5jb25maWd1cmFibGV8fHgobiwid3JpdGFibGUiKSYmIW4ud3JpdGFibGV8fHgobiwiZW51bWVyYWJsZSIpJiYhbi5lbnVtZXJhYmxlP2EoZSx0LG4pOihlW3RdPW4udmFsdWUsZSl9O3U/KGd8fChNLmY9QSxQLmY9VCxDKHksImJ1ZmZlciIpLEMoeSwiYnl0ZU9mZnNldCIpLEMoeSwiYnl0ZUxlbmd0aCIpLEMoeSwibGVuZ3RoIikpLE9lKHt0YXJnZXQ6Ik9iamVjdCIsc3RhdDohMCxmb3JjZWQ6IWd9LHtnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6QSxkZWZpbmVQcm9wZXJ0eTpUfSksZS5leHBvcnRzPWZ1bmN0aW9uKGUsbyx1KXt2YXIgZj1lLm1hdGNoKC9cZCskLylbMF0vOCxtPWUrKHU/IkNsYW1wZWQiOiIiKSsiQXJyYXkiLF89ImdldCIrZSx4PSJzZXQiK2UsQz1zW21dLEU9QyxBPUUmJkUucHJvdG90eXBlLE09e30sVD1mdW5jdGlvbihlLHQpe2EoZSx0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj1yKGUpO3JldHVybiBuLnZpZXdbX10odCpmK24uYnl0ZU9mZnNldCwhMCl9KHRoaXMsdCl9LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXIoZSk7dSYmKG49KG49bChuKSk8MD8wOm4+MjU1PzI1NToyNTUmbiksaS52aWV3W3hdKHQqZitpLmJ5dGVPZmZzZXQsbiwhMCl9KHRoaXMsdCxlKX0sZW51bWVyYWJsZTohMH0pfTtnP2thJiYoRT1vKChmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gX2EoZSxFLG0pLHdvKHcodCk/Vih0KT92b2lkIDAhPT1yP25ldyBDKHQsY28obixmKSxyKTp2b2lkIDAhPT1uP25ldyBDKHQsY28obixmKSk6bmV3IEModCk6Yih0KT9JKEUsdCk6bW8uY2FsbChFLHQpOm5ldyBDKFNhKHQpKSxlLEUpfSkpLENpJiZDaShFLHYpLG4odChDKSwoZnVuY3Rpb24oZSl7ZSBpbiBFfHxCKEUsZSxDW2VdKX0pKSxFLnByb3RvdHlwZT1BKTooRT1vKChmdW5jdGlvbihlLHQsbixyKXtfYShlLEUsbSk7dmFyIGEsbyxzLGw9MCx1PTA7aWYodyh0KSl7aWYoIVYodCkpcmV0dXJuIGIodCk/SShFLHQpOm1vLmNhbGwoRSx0KTthPXQsdT1jbyhuLGYpO3ZhciBnPXQuYnl0ZUxlbmd0aDtpZih2b2lkIDA9PT1yKXtpZihnJWYpdGhyb3cgYyhTKTtpZigobz1nLXUpPDApdGhyb3cgYyhTKX1lbHNlIGlmKChvPWZlKHIpKmYpK3U+Zyl0aHJvdyBjKFMpO3M9by9mfWVsc2Ugcz1TYSh0KSxhPW5ldyBoKG89cypmKTtmb3IoaShlLHtidWZmZXI6YSxieXRlT2Zmc2V0OnUsYnl0ZUxlbmd0aDpvLGxlbmd0aDpzLHZpZXc6bmV3IGQoYSl9KTtsPHM7KVQoZSxsKyspfSkpLENpJiZDaShFLHYpLEE9RS5wcm90b3R5cGU9cHIoeSkpLEEuY29uc3RydWN0b3IhPT1FJiZCKEEsImNvbnN0cnVjdG9yIixFKSxwJiZCKEEscCxtKSxNW21dPUUsT2Uoe2dsb2JhbDohMCxmb3JjZWQ6RSE9QyxzaGFtOiFnfSxNKSxrIGluIEV8fEIoRSxrLGYpLGsgaW4gQXx8QihBLGssZiksa28obSl9KTplLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSkpO19vKCJVaW50OCIsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIGUodGhpcyx0LG4scil9fSkpO3ZhciBTbz1NYXRoLm1pbix4bz1bXS5jb3B5V2l0aGlufHxmdW5jdGlvbihlLHQpe3ZhciBuPU5lKHRoaXMpLHI9ZmUobi5sZW5ndGgpLGk9dmUoZSxyKSxhPXZlKHQsciksbz1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxzPVNvKCh2b2lkIDA9PT1vP3I6dmUobyxyKSktYSxyLWkpLGw9MTtmb3IoYTxpJiZpPGErcyYmKGw9LTEsYSs9cy0xLGkrPXMtMSk7cy0tID4wOylhIGluIG4/bltpXT1uW2FdOmRlbGV0ZSBuW2ldLGkrPWwsYSs9bDtyZXR1cm4gbn0sSW89dmEuYVR5cGVkQXJyYXk7KDAsdmEuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoImNvcHlXaXRoaW4iLChmdW5jdGlvbihlLHQpe3JldHVybiB4by5jYWxsKElvKHRoaXMpLGUsdCxhcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCl9KSk7dmFyIENvPVplLmV2ZXJ5LFZvPXZhLmFUeXBlZEFycmF5OygwLHZhLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QpKCJldmVyeSIsKGZ1bmN0aW9uKGUpe3JldHVybiBDbyhWbyh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0pKTt2YXIgRW89dmEuYVR5cGVkQXJyYXk7KDAsdmEuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoImZpbGwiLChmdW5jdGlvbihlKXtyZXR1cm4gTGEuYXBwbHkoRW8odGhpcyksYXJndW1lbnRzKX0pKTt2YXIgQW89WmUuZmlsdGVyLE1vPXZhLmFUeXBlZEFycmF5LFRvPXZhLmFUeXBlZEFycmF5Q29uc3RydWN0b3I7KDAsdmEuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoImZpbHRlciIsKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1BbyhNbyh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKSxuPUpuKHRoaXMsdGhpcy5jb25zdHJ1Y3Rvcikscj0wLGk9dC5sZW5ndGgsYT1uZXcoVG8obikpKGkpO2k+cjspYVtyXT10W3IrK107cmV0dXJuIGF9KSk7dmFyIExvPVplLmZpbmQsUG89dmEuYVR5cGVkQXJyYXk7KDAsdmEuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoImZpbmQiLChmdW5jdGlvbihlKXtyZXR1cm4gTG8oUG8odGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9KSk7dmFyIEJvPVplLmZpbmRJbmRleCxPbz12YS5hVHlwZWRBcnJheTsoMCx2YS5leHBvcnRUeXBlZEFycmF5TWV0aG9kKSgiZmluZEluZGV4IiwoZnVuY3Rpb24oZSl7cmV0dXJuIEJvKE9vKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSkpO3ZhciBSbz1aZS5mb3JFYWNoLHpvPXZhLmFUeXBlZEFycmF5OygwLHZhLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QpKCJmb3JFYWNoIiwoZnVuY3Rpb24oZSl7Um8oem8odGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9KSk7dmFyIE5vPW1lLmluY2x1ZGVzLEZvPXZhLmFUeXBlZEFycmF5OygwLHZhLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QpKCJpbmNsdWRlcyIsKGZ1bmN0aW9uKGUpe3JldHVybiBObyhGbyh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0pKTt2YXIgRG89bWUuaW5kZXhPZixqbz12YS5hVHlwZWRBcnJheTsoMCx2YS5leHBvcnRUeXBlZEFycmF5TWV0aG9kKSgiaW5kZXhPZiIsKGZ1bmN0aW9uKGUpe3JldHVybiBEbyhqbyh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0pKTt2YXIgJG89V2UoIml0ZXJhdG9yIikscW89cy5VaW50OEFycmF5LFVvPU5pLnZhbHVlcyxXbz1OaS5rZXlzLEdvPU5pLmVudHJpZXMsSG89dmEuYVR5cGVkQXJyYXksS289dmEuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCxYbz1xbyYmcW8ucHJvdG90eXBlWyRvXSxabz0hIVhvJiYoInZhbHVlcyI9PVhvLm5hbWV8fG51bGw9PVhvLm5hbWUpLFlvPWZ1bmN0aW9uKCl7cmV0dXJuIFVvLmNhbGwoSG8odGhpcykpfTtLbygiZW50cmllcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEdvLmNhbGwoSG8odGhpcykpfSkpLEtvKCJrZXlzIiwoZnVuY3Rpb24oKXtyZXR1cm4gV28uY2FsbChIbyh0aGlzKSl9KSksS28oInZhbHVlcyIsWW8sIVpvKSxLbygkbyxZbywhWm8pO3ZhciBKbz12YS5hVHlwZWRBcnJheSxRbz1bXS5qb2luOygwLHZhLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QpKCJqb2luIiwoZnVuY3Rpb24oZSl7cmV0dXJuIFFvLmFwcGx5KEpvKHRoaXMpLGFyZ3VtZW50cyl9KSk7dmFyIGVzPU1hdGgubWluLHRzPVtdLmxhc3RJbmRleE9mLG5zPSEhdHMmJjEvWzFdLmxhc3RJbmRleE9mKDEsLTApPDAscnM9WWUoImxhc3RJbmRleE9mIiksaXM9dHQoImluZGV4T2YiLHtBQ0NFU1NPUlM6ITAsMTowfSksYXM9bnN8fCFyc3x8IWlzP2Z1bmN0aW9uKGUpe2lmKG5zKXJldHVybiB0cy5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDA7dmFyIHQ9ayh0aGlzKSxuPWZlKHQubGVuZ3RoKSxyPW4tMTtmb3IoYXJndW1lbnRzLmxlbmd0aD4xJiYocj1lcyhyLGhlKGFyZ3VtZW50c1sxXSkpKSxyPDAmJihyPW4rcik7cj49MDtyLS0paWYociBpbiB0JiZ0W3JdPT09ZSlyZXR1cm4gcnx8MDtyZXR1cm4tMX06dHMsb3M9dmEuYVR5cGVkQXJyYXk7KDAsdmEuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoImxhc3RJbmRleE9mIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGFzLmFwcGx5KG9zKHRoaXMpLGFyZ3VtZW50cyl9KSk7dmFyIHNzPVplLm1hcCxscz12YS5hVHlwZWRBcnJheSx1cz12YS5hVHlwZWRBcnJheUNvbnN0cnVjdG9yOygwLHZhLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QpKCJtYXAiLChmdW5jdGlvbihlKXtyZXR1cm4gc3MobHModGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3KHVzKEpuKGUsZS5jb25zdHJ1Y3RvcikpKSh0KX0pKX0pKTt2YXIgY3M9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixyLGkpe1JlKG4pO3ZhciBhPU5lKHQpLG89bShhKSxzPWZlKGEubGVuZ3RoKSxsPWU/cy0xOjAsdT1lPy0xOjE7aWYocjwyKWZvcig7Oyl7aWYobCBpbiBvKXtpPW9bbF0sbCs9dTticmVha31pZihsKz11LGU/bDwwOnM8PWwpdGhyb3cgVHlwZUVycm9yKCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIil9Zm9yKDtlP2w+PTA6cz5sO2wrPXUpbCBpbiBvJiYoaT1uKGksb1tsXSxsLGEpKTtyZXR1cm4gaX19LGhzPXtsZWZ0OmNzKCExKSxyaWdodDpjcyghMCl9LGRzPWhzLmxlZnQsZnM9dmEuYVR5cGVkQXJyYXk7KDAsdmEuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoInJlZHVjZSIsKGZ1bmN0aW9uKGUpe3JldHVybiBkcyhmcyh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGgsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSkpO3ZhciBncz1ocy5yaWdodCxwcz12YS5hVHlwZWRBcnJheTsoMCx2YS5leHBvcnRUeXBlZEFycmF5TWV0aG9kKSgicmVkdWNlUmlnaHQiLChmdW5jdGlvbihlKXtyZXR1cm4gZ3MocHModGhpcyksZSxhcmd1bWVudHMubGVuZ3RoLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0pKTt2YXIgdnM9dmEuYVR5cGVkQXJyYXkseXM9dmEuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCxtcz1NYXRoLmZsb29yO3lzKCJyZXZlcnNlIiwoZnVuY3Rpb24oKXtmb3IodmFyIGUsdD10aGlzLG49dnModCkubGVuZ3RoLHI9bXMobi8yKSxpPTA7aTxyOyllPXRbaV0sdFtpKytdPXRbLS1uXSx0W25dPWU7cmV0dXJuIHR9KSk7dmFyIGJzPXZhLmFUeXBlZEFycmF5OygwLHZhLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QpKCJzZXQiLChmdW5jdGlvbihlKXticyh0aGlzKTt2YXIgdD1jbyhhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwxKSxuPXRoaXMubGVuZ3RoLHI9TmUoZSksaT1mZShyLmxlbmd0aCksYT0wO2lmKGkrdD5uKXRocm93IFJhbmdlRXJyb3IoIldyb25nIGxlbmd0aCIpO2Zvcig7YTxpOyl0aGlzW3QrYV09clthKytdfSksbCgoZnVuY3Rpb24oKXtuZXcgSW50OEFycmF5KDEpLnNldCh7fSl9KSkpO3ZhciBrcz12YS5hVHlwZWRBcnJheSx3cz12YS5hVHlwZWRBcnJheUNvbnN0cnVjdG9yLF9zPVtdLnNsaWNlOygwLHZhLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QpKCJzbGljZSIsKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPV9zLmNhbGwoa3ModGhpcyksZSx0KSxyPUpuKHRoaXMsdGhpcy5jb25zdHJ1Y3RvciksaT0wLGE9bi5sZW5ndGgsbz1uZXcod3MocikpKGEpO2E+aTspb1tpXT1uW2krK107cmV0dXJuIG99KSxsKChmdW5jdGlvbigpe25ldyBJbnQ4QXJyYXkoMSkuc2xpY2UoKX0pKSk7dmFyIFNzPVplLnNvbWUseHM9dmEuYVR5cGVkQXJyYXk7KDAsdmEuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoInNvbWUiLChmdW5jdGlvbihlKXtyZXR1cm4gU3MoeHModGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9KSk7dmFyIElzPXZhLmFUeXBlZEFycmF5LENzPVtdLnNvcnQ7KDAsdmEuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoInNvcnQiLChmdW5jdGlvbihlKXtyZXR1cm4gQ3MuY2FsbChJcyh0aGlzKSxlKX0pKTt2YXIgVnM9dmEuYVR5cGVkQXJyYXk7KDAsdmEuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoInN1YmFycmF5IiwoZnVuY3Rpb24oZSx0KXt2YXIgbj1Wcyh0aGlzKSxyPW4ubGVuZ3RoLGk9dmUoZSxyKTtyZXR1cm4gbmV3KEpuKG4sbi5jb25zdHJ1Y3RvcikpKG4uYnVmZmVyLG4uYnl0ZU9mZnNldCtpKm4uQllURVNfUEVSX0VMRU1FTlQsZmUoKHZvaWQgMD09PXQ/cjp2ZSh0LHIpKS1pKSl9KSk7dmFyIEVzPXMuSW50OEFycmF5LEFzPXZhLmFUeXBlZEFycmF5LE1zPXZhLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QsVHM9W10udG9Mb2NhbGVTdHJpbmcsTHM9W10uc2xpY2UsUHM9ISFFcyYmbCgoZnVuY3Rpb24oKXtUcy5jYWxsKG5ldyBFcygxKSl9KSk7TXMoInRvTG9jYWxlU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4gVHMuYXBwbHkoUHM/THMuY2FsbChBcyh0aGlzKSk6QXModGhpcyksYXJndW1lbnRzKX0pLGwoKGZ1bmN0aW9uKCl7cmV0dXJuWzEsMl0udG9Mb2NhbGVTdHJpbmcoKSE9bmV3IEVzKFsxLDJdKS50b0xvY2FsZVN0cmluZygpfSkpfHwhbCgoZnVuY3Rpb24oKXtFcy5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmcuY2FsbChbMSwyXSl9KSkpO3ZhciBCcz12YS5leHBvcnRUeXBlZEFycmF5TWV0aG9kLE9zPXMuVWludDhBcnJheSxScz1PcyYmT3MucHJvdG90eXBlfHx7fSx6cz1bXS50b1N0cmluZyxOcz1bXS5qb2luO2woKGZ1bmN0aW9uKCl7enMuY2FsbCh7fSl9KSkmJih6cz1mdW5jdGlvbigpe3JldHVybiBOcy5jYWxsKHRoaXMpfSk7dmFyIEZzPVJzLnRvU3RyaW5nIT16cztCcygidG9TdHJpbmciLHpzLEZzKTt2YXIgRHM9V2UoIml0ZXJhdG9yIiksanM9V2UoInRvU3RyaW5nVGFnIiksJHM9TmkudmFsdWVzO2Zvcih2YXIgcXMgaW4gY3Qpe3ZhciBVcz1zW3FzXSxXcz1VcyYmVXMucHJvdG90eXBlO2lmKFdzKXtpZihXc1tEc10hPT0kcyl0cnl7QihXcyxEcywkcyl9Y2F0Y2goZSl7V3NbRHNdPSRzfWlmKFdzW2pzXXx8QihXcyxqcyxxcyksY3RbcXNdKWZvcih2YXIgR3MgaW4gTmkpaWYoV3NbR3NdIT09TmlbR3NdKXRyeXtCKFdzLEdzLE5pW0dzXSl9Y2F0Y2goZSl7V3NbR3NdPU5pW0dzXX19fXZhciBIcz1XZSgiaXNDb25jYXRTcHJlYWRhYmxlIiksS3M9OTAwNzE5OTI1NDc0MDk5MSxYcz0iTWF4aW11bSBhbGxvd2VkIGluZGV4IGV4Y2VlZGVkIixacz1EdD49NTF8fCFsKChmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBlW0hzXT0hMSxlLmNvbmNhdCgpWzBdIT09ZX0pKSxZcz0kdCgiY29uY2F0IiksSnM9ZnVuY3Rpb24oZSl7aWYoIXcoZSkpcmV0dXJuITE7dmFyIHQ9ZVtIc107cmV0dXJuIHZvaWQgMCE9PXQ/ISF0OkZlKGUpfTtPZSh7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOiFac3x8IVlzfSx7Y29uY2F0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLGEsbz1OZSh0aGlzKSxzPUhlKG8sMCksbD0wO2Zvcih0PS0xLHI9YXJndW1lbnRzLmxlbmd0aDt0PHI7dCsrKWlmKEpzKGE9LTE9PT10P286YXJndW1lbnRzW3RdKSl7aWYobCsoaT1mZShhLmxlbmd0aCkpPktzKXRocm93IFR5cGVFcnJvcihYcyk7Zm9yKG49MDtuPGk7bisrLGwrKyluIGluIGEmJll0KHMsbCxhW25dKX1lbHNle2lmKGw+PUtzKXRocm93IFR5cGVFcnJvcihYcyk7WXQocyxsKyssYSl9cmV0dXJuIHMubGVuZ3RoPWwsc319KSxPZSh7dGFyZ2V0OiJBcnJheSIscHJvdG86ITB9LHtmaWxsOkxhfSkscGkoImZpbGwiKTt2YXIgUXM9WmUuZmluZEluZGV4LGVsPSJmaW5kSW5kZXgiLHRsPSEwLG5sPXR0KGVsKTtlbCBpbltdJiZBcnJheSgxKS5maW5kSW5kZXgoKGZ1bmN0aW9uKCl7dGw9ITF9KSksT2Uoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDp0bHx8IW5sfSx7ZmluZEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBRcyh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLHBpKGVsKSxfbygiVWludDMyIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gZSh0aGlzLHQsbixyKX19KSk7dmFyIHJsPW51bGwsaWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7eXQodGhpcyxlKSx0aGlzLl9zZWVkPXQsdGhpcy5fY3J5cHRvPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYod2luZG93LmNyeXB0b3x8d2luZG93Lm1zQ3J5cHRvKXx8bnVsbH1yZXR1cm4gYnQoZSxbe2tleToibmV4dCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLl9jcnlwdG8pe3ZhciBlPW5ldyBVaW50MzJBcnJheSgxKTtyZXR1cm4gdGhpcy5fY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhlKSxlLzQyOTQ5NjcyOTZ9cmV0dXJuIE1hdGgucmFuZG9tKCl9fSx7a2V5OiJuZXh0RmxvYXQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubmV4dCgpKih0LWUpK2V9fSx7a2V5OiJuZXh0SW50ZWdlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLm5leHQoKSoodC1lKzEpKStlfX0se2tleToibmV4dEJ5dGVzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1uZXcgVWludDhBcnJheShlKTtpZih0aGlzLl9jcnlwdG8pdGhpcy5fY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh0KTtlbHNlIGZvcih2YXIgbj0wO248ZTtuKyspdFtuXT10aGlzLm5leHRJbnRlZ2VyKDAsMjU1KTtyZXR1cm4gdH19LHtrZXk6Im5leHRCb29sZWFuIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5leHQoKT49LjV9fSx7a2V5OiJuZXh0Q2hvaWNlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVt0aGlzLm5leHRJbnRlZ2VyKDAsZS5sZW5ndGgtMSldfX1dLFt7a2V5OiJnZXRJbnN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXJsJiYocmw9bmV3IGUpLHJsfX1dKSxlfSgpLGFsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3l0KHRoaXMsZSl9cmV0dXJuIGJ0KGUsbnVsbCxbe2tleToiaXNFcXVhbCIsdmFsdWU6ZnVuY3Rpb24odCxuKXtpZih0PT09bilyZXR1cm4hMDtpZihudWxsPT09dCYmbnVsbD09PW4pcmV0dXJuITA7aWYobnVsbD09PXR8fG51bGw9PT1uKXJldHVybiExO2lmKGd0KHQpIT09Z3QobikpcmV0dXJuITE7aWYodCBpbnN0YW5jZW9mIEFycmF5KXtpZih0Lmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj0tMSxpPSEwO2kmJisrcjx0Lmxlbmd0aDspaT1lLmlzRXF1YWwodFtyXSxuW3JdKTtyZXR1cm4gaX1pZih0IGluc3RhbmNlb2YgT2JqZWN0KXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdC5pc0VxdWFsVG8pcmV0dXJuIHQuaXNFcXVhbFRvKG4pO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuLmlzRXF1YWxUbylyZXR1cm4gbi5pc0VxdWFsVG8odCk7Zm9yKHZhciBhPWUudW5pcXVlKE9iamVjdC5rZXlzKHQpLmNvbmNhdChPYmplY3Qua2V5cyhuKSkpLG89LTEscz0hMDtzJiYrK288YS5sZW5ndGg7KXt2YXIgbD1hW29dO3M9ZS5pc0VxdWFsKHRbbF0sbltsXSl9cmV0dXJuIHN9cmV0dXJuIHQgaW5zdGFuY2VvZiBEYXRlJiZ0LmdldFRpbWUoKT09PW4uZ2V0VGltZSgpfX0se2tleToiaXNVbmlxdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybi0xPT09ZS5maW5kSW5kZXgoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuaW5kZXhPZih0KSE9PW59KSl9fSx7a2V5OiJ1bmlxdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5pbmRleE9mKHQpPT09bn0pKX19LHtrZXk6InNodWZmbGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsO3Q9dHx8aWwuZ2V0SW5zdGFuY2UoKTt2YXIgbixyLGk9ZS5zbGljZSgpO2ZvcihuPWkubGVuZ3RoLTE7bj4wO24tLSl7dmFyIGE9W2lbcj10Lm5leHRJbnRlZ2VyKDAsbildLGlbbl1dO2lbbl09YVswXSxpW3JdPWFbMV19cmV0dXJuIGl9fSx7a2V5OiJjaHVuayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49TWF0aC5jZWlsKGUubGVuZ3RoL3QpLHI9bmV3IEFycmF5KG4pLGk9MDtpPG47aSsrKXJbaV09ZS5zbGljZShpKnQsKGkrMSkqdCk7cmV0dXJuIHJ9fSx7a2V5OiJqb2luU2xpY2VzIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLG49ZS5sZW5ndGgscj10Lmxlbmd0aCxpPVtdLGE9MDthPG47YSsrKXI+MCYmYT4wJiYoaT1pLmNvbmNhdCh0KSksaT1pLmNvbmNhdChlW2FdKTtyZXR1cm4gaX19LHtrZXk6ImluZGV4T2ZTbGljZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MDtpZigwPT09dC5sZW5ndGgpcmV0dXJuLTE7Zm9yKHZhciByPS0xLGk9bi0xOy0xPT09ciYmLTEhPT0oaT1lLmluZGV4T2YodFswXSxpKzEpKTspdGhpcy5pc0VxdWFsKGUuc2xpY2UoaSxpK3QubGVuZ3RoKSx0KSYmKHI9aSk7cmV0dXJuIHJ9fSx7a2V5OiJyZXBsYWNlU2xpY2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpbXSxyPTAsaT0tMSxhPVtdOy0xIT09KGk9dGhpcy5pbmRleE9mU2xpY2UoZSx0LGkrMSkpOylhPShhPWEuY29uY2F0KGUuc2xpY2UocixpKSkpLmNvbmNhdChuKSxyPWkrdC5sZW5ndGg7cmV0dXJuIGE9YS5jb25jYXQoZS5zbGljZShyKSl9fSx7a2V5OiJyZXNpemVCaXRTaXplZEFycmF5Iix2YWx1ZTpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByLGksYSxvLHMsbCx1LGMsaD1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdLGQ9TWF0aC5jZWlsKGUubGVuZ3RoKnQvbiksZj04PT09bj9uZXcgVWludDhBcnJheShkKTpuZXcgQXJyYXkoZCkuZmlsbCgwKSxnPSgxPDxuKS0xLHA9MDtwPGUubGVuZ3RoO3ArKylmb3Iocj1lW3BdLGk9cCp0LGE9KHArMSkqdCxvPU1hdGguZmxvb3IoaS9uKSxsPW4tYSVuLGZbcz1NYXRoLmZsb29yKGEvbildfD1yPDxsJmcsdT1yPj5uLWwsYz1zOy0tYz49byYmdT4wOylmW2NdfD11JmcsdT4+PW47aWYoaCl7Zm9yKHZhciB2PWYubGVuZ3RoLTE7MD09PWZbdl07KXYtLTtyZXR1cm4gZi5zbGljZSgwLHYrMSl9cmV0dXJuIGZ9fV0pLGV9KCksb2w9ZnVuY3Rpb24oZSx0LG4scil7dHJ5e3JldHVybiByP3QoVChuKVswXSxuWzFdKTp0KG4pfWNhdGNoKHQpe3ZhciBpPWUucmV0dXJuO3Rocm93IHZvaWQgMCE9PWkmJlQoaS5jYWxsKGUpKSx0fX0sc2w9IVFpKChmdW5jdGlvbihlKXtBcnJheS5mcm9tKGUpfSkpO09lKHt0YXJnZXQ6IkFycmF5IixzdGF0OiEwLGZvcmNlZDpzbH0se2Zyb206ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksYSxvLHM9TmUoZSksbD0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LHU9YXJndW1lbnRzLmxlbmd0aCxjPXU+MT9hcmd1bWVudHNbMV06dm9pZCAwLGg9dm9pZCAwIT09YyxkPWZvKHMpLGY9MDtpZihoJiYoYz16ZShjLHU+Mj9hcmd1bWVudHNbMl06dm9pZCAwLDIpKSxudWxsPT1kfHxsPT1BcnJheSYmdm8oZCkpZm9yKG49bmV3IGwodD1mZShzLmxlbmd0aCkpO3Q+ZjtmKyspbz1oP2Moc1tmXSxmKTpzW2ZdLFl0KG4sZixvKTtlbHNlIGZvcihhPShpPWQuY2FsbChzKSkubmV4dCxuPW5ldyBsOyEocj1hLmNhbGwoaSkpLmRvbmU7ZisrKW89aD9vbChpLGMsW3IudmFsdWUsZl0sITApOnIudmFsdWUsWXQobixmLG8pO3JldHVybiBuLmxlbmd0aD1mLG59fSk7dmFyIGxsPSIiLnJlcGVhdHx8ZnVuY3Rpb24oZSl7dmFyIHQ9U3RyaW5nKGIodGhpcykpLG49IiIscj1oZShlKTtpZihyPDB8fHI9PTEvMCl0aHJvdyBSYW5nZUVycm9yKCJXcm9uZyBudW1iZXIgb2YgcmVwZXRpdGlvbnMiKTtmb3IoO3I+MDsocj4+Pj0xKSYmKHQrPXQpKTEmciYmKG4rPXQpO3JldHVybiBufSx1bD1NYXRoLmNlaWwsY2w9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXt2YXIgaSxhLG89U3RyaW5nKGIodCkpLHM9by5sZW5ndGgsbD12b2lkIDA9PT1yPyIgIjpTdHJpbmcociksdT1mZShuKTtyZXR1cm4gdTw9c3x8IiI9PWw/bzooaT11LXMsKGE9bGwuY2FsbChsLHVsKGkvbC5sZW5ndGgpKSkubGVuZ3RoPmkmJihhPWEuc2xpY2UoMCxpKSksZT9vK2E6YStvKX19LGhsPXtzdGFydDpjbCghMSksZW5kOmNsKCEwKX0sZGw9L1ZlcnNpb25cLzEwXC5cZCsoXC5cZCspPyggTW9iaWxlXC9cdyspPyBTYWZhcmlcLy8udGVzdChSdCksZmw9aGwuZW5kO09lKHt0YXJnZXQ6IlN0cmluZyIscHJvdG86ITAsZm9yY2VkOmRsfSx7cGFkRW5kOmZ1bmN0aW9uKGUpe3JldHVybiBmbCh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBnbD1QLmYscGw9U2UuZix2bD1pZS5zZXQseWw9V2UoIm1hdGNoIiksbWw9cy5SZWdFeHAsYmw9bWwucHJvdG90eXBlLGtsPS9hL2csd2w9L2EvZyxfbD1uZXcgbWwoa2wpIT09a2wsU2w9Qm4uVU5TVVBQT1JURURfWTtpZih1JiZQZSgiUmVnRXhwIiwhX2x8fFNsfHxsKChmdW5jdGlvbigpe3JldHVybiB3bFt5bF09ITEsbWwoa2wpIT1rbHx8bWwod2wpPT13bHx8Ii9hL2kiIT1tbChrbCwiaSIpfSkpKSl7Zm9yKHZhciB4bD1mdW5jdGlvbihlLHQpe3ZhciBuLHI9dGhpcyBpbnN0YW5jZW9mIHhsLGk9Wm4oZSksYT12b2lkIDA9PT10O2lmKCFyJiZpJiZlLmNvbnN0cnVjdG9yPT09eGwmJmEpcmV0dXJuIGU7X2w/aSYmIWEmJihlPWUuc291cmNlKTplIGluc3RhbmNlb2YgeGwmJihhJiYodD1kbi5jYWxsKGUpKSxlPWUuc291cmNlKSxTbCYmKG49ISF0JiZ0LmluZGV4T2YoInkiKT4tMSkmJih0PXQucmVwbGFjZSgveS9nLCIiKSk7dmFyIG89d28oX2w/bmV3IG1sKGUsdCk6bWwoZSx0KSxyP3RoaXM6YmwseGwpO3JldHVybiBTbCYmbiYmdmwobyx7c3RpY2t5Om59KSxvfSxJbD1mdW5jdGlvbihlKXtlIGluIHhsfHxnbCh4bCxlLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG1sW2VdfSxzZXQ6ZnVuY3Rpb24odCl7bWxbZV09dH19KX0sQ2w9cGwobWwpLFZsPTA7Q2wubGVuZ3RoPlZsOylJbChDbFtWbCsrXSk7YmwuY29uc3RydWN0b3I9eGwseGwucHJvdG90eXBlPWJsLGFlKHMsIlJlZ0V4cCIseGwpfWtvKCJSZWdFeHAiKTt2YXIgRWw9TWF0aC5tYXgsQWw9TWF0aC5taW4sTWw9TWF0aC5mbG9vcixUbD0vXCQoWyQmJ2BdfFxkXGQ/fDxbXj5dKj4pL2csTGw9L1wkKFskJidgXXxcZFxkPykvZztLbigicmVwbGFjZSIsMiwoZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ci5SRUdFWFBfUkVQTEFDRV9TVUJTVElUVVRFU19VTkRFRklORURfQ0FQVFVSRSxhPXIuUkVQTEFDRV9LRUVQU18kMCxvPWk/IiQiOiIkMCI7cmV0dXJuW2Z1bmN0aW9uKG4scil7dmFyIGk9Yih0aGlzKSxhPW51bGw9PW4/dm9pZCAwOm5bZV07cmV0dXJuIHZvaWQgMCE9PWE/YS5jYWxsKG4saSxyKTp0LmNhbGwoU3RyaW5nKGkpLG4scil9LGZ1bmN0aW9uKGUscil7aWYoIWkmJmF8fCJzdHJpbmciPT10eXBlb2YgciYmLTE9PT1yLmluZGV4T2Yobykpe3ZhciBsPW4odCxlLHRoaXMscik7aWYobC5kb25lKXJldHVybiBsLnZhbHVlfXZhciB1PVQoZSksYz1TdHJpbmcodGhpcyksaD0iZnVuY3Rpb24iPT10eXBlb2YgcjtofHwocj1TdHJpbmcocikpO3ZhciBkPXUuZ2xvYmFsO2lmKGQpe3ZhciBmPXUudW5pY29kZTt1Lmxhc3RJbmRleD0wfWZvcih2YXIgZz1bXTs7KXt2YXIgcD1ycih1LGMpO2lmKG51bGw9PT1wKWJyZWFrO2lmKGcucHVzaChwKSwhZClicmVhazsiIj09PVN0cmluZyhwWzBdKSYmKHUubGFzdEluZGV4PW5yKGMsZmUodS5sYXN0SW5kZXgpLGYpKX1mb3IodmFyIHYseT0iIixtPTAsYj0wO2I8Zy5sZW5ndGg7YisrKXtwPWdbYl07Zm9yKHZhciBrPVN0cmluZyhwWzBdKSx3PUVsKEFsKGhlKHAuaW5kZXgpLGMubGVuZ3RoKSwwKSxfPVtdLFM9MTtTPHAubGVuZ3RoO1MrKylfLnB1c2godm9pZCAwPT09KHY9cFtTXSk/djpTdHJpbmcodikpO3ZhciB4PXAuZ3JvdXBzO2lmKGgpe3ZhciBJPVtrXS5jb25jYXQoXyx3LGMpO3ZvaWQgMCE9PXgmJkkucHVzaCh4KTt2YXIgQz1TdHJpbmcoci5hcHBseSh2b2lkIDAsSSkpfWVsc2UgQz1zKGssYyx3LF8seCxyKTt3Pj1tJiYoeSs9Yy5zbGljZShtLHcpK0MsbT13K2subGVuZ3RoKX1yZXR1cm4geStjLnNsaWNlKG0pfV07ZnVuY3Rpb24gcyhlLG4scixpLGEsbyl7dmFyIHM9citlLmxlbmd0aCxsPWkubGVuZ3RoLHU9TGw7cmV0dXJuIHZvaWQgMCE9PWEmJihhPU5lKGEpLHU9VGwpLHQuY2FsbChvLHUsKGZ1bmN0aW9uKHQsbyl7dmFyIHU7c3dpdGNoKG8uY2hhckF0KDApKXtjYXNlIiQiOnJldHVybiIkIjtjYXNlIiYiOnJldHVybiBlO2Nhc2UiYCI6cmV0dXJuIG4uc2xpY2UoMCxyKTtjYXNlIiciOnJldHVybiBuLnNsaWNlKHMpO2Nhc2UiPCI6dT1hW28uc2xpY2UoMSwtMSldO2JyZWFrO2RlZmF1bHQ6dmFyIGM9K287aWYoMD09PWMpcmV0dXJuIHQ7aWYoYz5sKXt2YXIgaD1NbChjLzEwKTtyZXR1cm4gMD09PWg/dDpoPD1sP3ZvaWQgMD09PWlbaC0xXT9vLmNoYXJBdCgxKTppW2gtMV0rby5jaGFyQXQoMSk6dH11PWlbYy0xXX1yZXR1cm4gdm9pZCAwPT09dT8iIjp1fSkpfX0pKTt2YXIgUGw9MCxCbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt5dCh0aGlzLGUpfXJldHVybiBidChlLG51bGwsW3trZXk6ImNhbWVsQ2FzZVRvUmVndWxhciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywiJDEgJDIiKS5yZXBsYWNlKC9cYihbQS1aXSspKFtBLVpdKShbYS16XSkvLCIkMSAkMiQzIikucmVwbGFjZSgvXi4vLChmdW5jdGlvbihlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfSkpfX0se2tleToidW5pcXVlSWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuInUiKygrK1BsKS50b1N0cmluZygxNil9fSx7a2V5OiJjaHVuayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4iIiE9PWU/ZS5tYXRjaChuZXcgUmVnRXhwKCIuezEsIi5jb25jYXQodCwifSIpLCJnIikpOltdfX0se2tleToiaXNXaGl0ZXNwYWNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPWVbdF07cmV0dXJuISFuJiZudWxsIT09bi5tYXRjaCgvXHMvKX19LHtrZXk6InJlbW92ZVdoaXRlc3BhY2VzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZXBsYWNlV2hpdGVzcGFjZXMoZSwiIiwhMCl9fSx7a2V5OiJub3JtYWxpemVXaGl0ZXNwYWNlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5yZXBsYWNlV2hpdGVzcGFjZXMoZSwiICIsdCl9fSx7a2V5OiJyZXBsYWNlV2hpdGVzcGFjZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtyZXR1cm4gbj9lLnJlcGxhY2UoL1xzKy9nLHQpOmUucmVwbGFjZSgvXHMvZyx0KX19XSksZX0oKSxPbD1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oZSl7dmFyIHI7cmV0dXJuIHl0KHRoaXMsbiksKHI9dC5jYWxsKHRoaXMsZSkpLm5hbWU9ci5jb25zdHJ1Y3Rvci5uYW1lLCJmdW5jdGlvbiI9PXR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZShDdChyKSxyLmNvbnN0cnVjdG9yKTpyLnN0YWNrPW5ldyBFcnJvcihlKS5zdGFjayxyfXJldHVybiBufShJdChFcnJvcikpLFJsPWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3JldHVybiB5dCh0aGlzLG4pLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBufShPbCksemw9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKGUpe3ZhciByLGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7cmV0dXJuIHl0KHRoaXMsbiksKHI9dC5jYWxsKHRoaXMsZSkpLmluZGV4PWkscn1yZXR1cm4gbn0oUmwpLE5sPXthbHBoYWJldDoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIscGFkZGluZzoiPSIscGFkZGluZ09wdGlvbmFsOiExLGZvcmVpZ25DaGFyYWN0ZXJzOiExLG1heExpbmVMZW5ndGg6bnVsbCxsaW5lU2VwYXJhdG9yOiJcclxuIn0sRmw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7eXQodGhpcyxlKX1yZXR1cm4gYnQoZSxudWxsLFt7a2V5OiJoZXhTdHJpbmdGcm9tQnl0ZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5mcm9tKGUpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuKCIwIitlLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpfSkpLmpvaW4oIiIpfX0se2tleToiYnl0ZXNGcm9tSGV4U3RyaW5nIix2YWx1ZTpmdW5jdGlvbihlKXsoZT1CbC5yZW1vdmVXaGl0ZXNwYWNlcyhlKSkubGVuZ3RoJTI9PTEmJihlKz0iMCIpO3ZhciB0PUJsLmNodW5rKGUsMikubWFwKChmdW5jdGlvbihlLHQpe3ZhciBuPXBhcnNlSW50KGUsMTYpO2lmKG51bGw9PT1lLm1hdGNoKC9bMC05YS1mXXsyfS9pKXx8aXNOYU4obikpdGhyb3cgbmV3IHpsKCJJbnZhbGlkIGhleCBlbmNvZGVkIGJ5dGUgJyIuY29uY2F0KGUsIiciKSk7cmV0dXJuIG59KSk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHQpfX0se2tleToiYmluYXJ5U3RyaW5nRnJvbUJ5dGVzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuZnJvbShlKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybigiMDAwMDAwMCIrZS50b1N0cmluZygyKSkuc2xpY2UoLTgpfSkpLmpvaW4oIiIpfX0se2tleToiYnl0ZXNGcm9tQmluYXJ5U3RyaW5nIix2YWx1ZTpmdW5jdGlvbihlKXsoZT1CbC5yZW1vdmVXaGl0ZXNwYWNlcyhlKSkubGVuZ3RoJTg+MCYmKGU9ZS5wYWRFbmQoZS5sZW5ndGgtZS5sZW5ndGglOCs4LCIwIikpO3ZhciB0PUJsLmNodW5rKGUsOCkubWFwKChmdW5jdGlvbihlLHQpe3ZhciBuPXBhcnNlSW50KGUsMik7aWYobnVsbD09PWUubWF0Y2goL1swLTFdezh9Lyl8fGlzTmFOKG4pKXRocm93IG5ldyB6bCgiSW52YWxpZCBiaW5hcnkgZW5jb2RlZCBieXRlICciLmNvbmNhdChlLCInIikpO3JldHVybiBufSkpO3JldHVybiBuZXcgVWludDhBcnJheSh0KX19LHtrZXk6ImJhc2U2NFN0cmluZ0Zyb21CeXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixpLGEsbyxzPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxsPU9iamVjdC5hc3NpZ24oe30sTmwscyksdT1sLmFscGhhYmV0LGM9bC5wYWRkaW5nLGg9bC5wYWRkaW5nT3B0aW9uYWwsZD1sLm1heExpbmVMZW5ndGgsZj1sLmxpbmVTZXBhcmF0b3IsZz0haCYmYz9jOiIiLHA9IiIsdj0wO3Y8ZS5sZW5ndGg7dis9MylpPSgzJih0PWVbdl0pKTw8NHwobj12KzE8ZS5sZW5ndGg/ZVt2KzFdOk5hTik+PjQsYT0oMTUmbik8PDJ8KHI9disyPGUubGVuZ3RoP2VbdisyXTpOYU4pPj42LG89NjMmcixwKz11W3Q+PjJdK3VbaV0rKGlzTmFOKG4pP2c6dVthXSkrKGlzTmFOKHIpP2c6dVtvXSk7aWYoZCl7Zm9yKHZhciB5PSIiLG09MDttPHAubGVuZ3RoO20rPWQpeSs9KCIiIT09eT9mOiIiKStwLnN1YnN0cihtLGQpO3A9eX1yZXR1cm4gcH19LHtrZXk6ImJ5dGVzRnJvbUJhc2U2NFN0cmluZyIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30saT1PYmplY3QuYXNzaWduKHt9LE5sLHIpLGE9aS5hbHBoYWJldCxvPWkucGFkZGluZyxzPShpLnBhZGRpbmdPcHRpb25hbCxpLmZvcmVpZ25DaGFyYWN0ZXJzKSxsPWkubWF4TGluZUxlbmd0aCx1PWkubGluZVNlcGFyYXRvcixjPWUubGVuZ3RoLGg9W10sZD0tMTsrK2Q8YzspaWYodD1lW2RdLG51bGwhPT1sJiZ1JiZ0PT09dVswXSYmZS5zdWJzdHIoZCx1Lmxlbmd0aCk9PT11KWQ9ZCt1Lmxlbmd0aC0xO2Vsc2UgaWYodD09PW8pO2Vsc2UgaWYoLTEhPT0obj1hLmluZGV4T2YodCkpKWgucHVzaChuKTtlbHNlIGlmKCFzKXRocm93IG5ldyB6bCgiRm9yYmlkZGVuIGNoYXJhY3RlciAnIi5jb25jYXQodCwiJyBhdCBpbmRleCAiKS5jb25jYXQoZCkpO3ZhciBmPSg0LWgubGVuZ3RoJTQpJTQ7aWYoMz09PWYpdGhyb3cgbmV3IHpsKCJBIHNpbmdsZSByZW1haW5pbmcgZW5jb2RlZCBjaGFyYWN0ZXIgaW4gdGhlIGxhc3QgcXVhZHJ1cGxlIG9yIGEgcGFkZGluZyBvZiAzIGNoYXJhY3RlcnMgaXMgbm90IGFsbG93ZWQiKTtmb3IoZD0wO2Q8ZjtkKyspaC5wdXNoKDApO3ZhciBnLHA9aC5sZW5ndGgvNCozLHY9bmV3IFVpbnQ4QXJyYXkocCk7Zm9yKGQ9MDtkPGgubGVuZ3RoO2QrPTQpdltnPWQvNCozXT1oW2RdPDwyfGhbZCsxXT4+NCx2W2crMV09KDE1JmhbZCsxXSk8PDR8aFtkKzJdPj4yLHZbZysyXT0oMyZoW2QrMl0pPDw2fGhbZCszXTtyZXR1cm4gdi5zbGljZSgwLHAtZil9fV0pLGV9KCksRGw9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKGUpe3ZhciByLGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7cmV0dXJuIHl0KHRoaXMsbiksKHI9dC5jYWxsKHRoaXMsZSkpLmJ5dGVJbmRleD1pLHJ9cmV0dXJuIG59KFJsKSxqbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt5dCh0aGlzLGUpfXJldHVybiBidChlLG51bGwsW3trZXk6InZhbGlkYXRlQ29kZVBvaW50Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gaXNGaW5pdGUoZSkmJmU+PTAmJmU8PTExMTQxMTEmJk1hdGguZmxvb3IoZSk9PT1lfX0se2tleToidmFsaWRhdGVDb2RlUG9pbnRzIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIG49ITAscj0wO24mJnI8dC5sZW5ndGg7KW49ZS52YWxpZGF0ZUNvZGVQb2ludCh0W3JdKSxyKys7cmV0dXJuIG59fSx7a2V5OiJzdHJpbmdGcm9tQ29kZVBvaW50cyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPW5ldyBBcnJheSgyKmUubGVuZ3RoKSxpPTA7Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrKykobj1lW3RdKTw2NTUzNj9yW2krK109U3RyaW5nLmZyb21DaGFyQ29kZShuKToobi09NjU1MzYscltpKytdPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKG4+PjEwKSkscltpKytdPVN0cmluZy5mcm9tQ2hhckNvZGUobiUxMDI0KzU2MzIwKSk7cmV0dXJuIHIuc2xpY2UoMCxpKS5qb2luKCIiKX19LHtrZXk6ImNvZGVQb2ludHNGcm9tU3RyaW5nIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPWUubGVuZ3RoLGk9bmV3IEFycmF5KHIpLGE9MCxvPTA7bzxyOykodD1lLmNoYXJDb2RlQXQobysrKSk+PTU1Mjk2JiZ0PD01NjMxOSYmbzxyPzU2MzIwPT0oNjQ1MTImKG49ZS5jaGFyQ29kZUF0KG8rKykpKT9pW2ErK109KCgxMDIzJnQpPDwxMCkrKDEwMjMmbikrNjU1MzY6KGlbYSsrXT10LG8tLSk6aVthKytdPXQ7cmV0dXJuIGkuc2xpY2UoMCxhKX19LHtrZXk6ImJ5dGVzRnJvbUNvZGVQb2ludHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToidXRmOCI7c3dpdGNoKG4pe2Nhc2UidXRmOCI6cmV0dXJuIGUuX2VuY29kZUNvZGVQb2ludHNUb1VURjhCeXRlcyh0KTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiRW5jb2RpbmcgdG8gJyIuY29uY2F0KG4sIicgaXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQuIikpfX19LHtrZXk6ImNvZGVQb2ludHNGcm9tQnl0ZXMiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToidXRmOCI7c3dpdGNoKG4pe2Nhc2UidXRmOCI6cmV0dXJuIGUuX2RlY29kZUNvZGVQb2ludHNGcm9tVVRGOEJ5dGVzKHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJEZWNvZGluZyBmcm9tICciLmNvbmNhdChuLCInIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkLiIpKX19fSx7a2V5OiJfZW5jb2RlQ29kZVBvaW50c1RvVVRGOEJ5dGVzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHI9bmV3IFVpbnQ4QXJyYXkoNCplLmxlbmd0aCksaT0wO2Zvcih0PTA7dDxlLmxlbmd0aDt0KyspKG49ZVt0XSk8PTEyNz9yW2krK109bjpuPD0yMDQ3PyhyW2krK109MTkyfG4+PjYscltpKytdPTEyOHw2MyZuKTpuPD02NTUzNT8ocltpKytdPTIyNHxuPj4xMixyW2krK109MTI4fCg0MDk1Jm4pPj42LHJbaSsrXT0xMjh8NjMmbik6KHJbaSsrXT0yNDB8bj4+MTgscltpKytdPTEyOHwoMjYyMTQzJm4pPj4xMixyW2krK109MTI4fCg0MDk1Jm4pPj42LHJbaSsrXT0xMjh8NjMmbik7cmV0dXJuIHIuc2xpY2UoMCxpKX19LHtrZXk6Il9kZWNvZGVDb2RlUG9pbnRzRnJvbVVURjhCeXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1lLmxlbmd0aCxpPW5ldyBBcnJheShyKSxhPTAsbz0tMSxzPTA7KytvPHI7KWlmKCh0PWVbb10pPjEyNyYmdDw9MTkxKXtpZigtLWE8MCl0aHJvdyBuZXcgRGwoIkludmFsaWQgVVRGLTggZW5jb2RlZCB0ZXh0OiAiKyJVbmV4cGVjdGVkIGNvbnRpbnVhdGlvbiBieXRlIGF0IDB4Ii5jb25jYXQoby50b1N0cmluZygxNikpLG8pO249bjw8Nnw2MyZ0LDA9PT1hJiYoaVtzKytdPW4pfWVsc2V7aWYoYT4wKXRocm93IG5ldyBEbCgiSW52YWxpZCBVVEYtOCBlbmNvZGVkIHRleHQ6ICIrIkNvbnRpbnVhdGlvbiBieXRlIGV4cGVjdGVkIGF0IDB4Ii5jb25jYXQoby50b1N0cmluZygxNikpLG8pO2lmKHQ8PTEyNylpW3MrK109dDtlbHNlIGlmKHQ8PTIyMyluPTMxJnQsYT0xO2Vsc2UgaWYodDw9MjM5KW49MTUmdCxhPTI7ZWxzZXtpZighKHQ8PTI0NykpdGhyb3cgbmV3IERsKCJJbnZhbGlkIFVURi04IGVuY29kZWQgdGV4dDogIisiSW52YWxpZCBieXRlICIuY29uY2F0KHQsIiBhdCAweCIpLmNvbmNhdChvLnRvU3RyaW5nKDE2KSksbyk7bj03JnQsYT0zfX1pZigwIT09YSl0aHJvdyBuZXcgRGwoIkludmFsaWQgVVRGLTggZW5jb2RlZCB0ZXh0OiBVbmV4cGVjdGVkIGVuZCBvZiBieXRlcyIpO3JldHVybiBpLnNsaWNlKDAscyl9fV0pLGV9KCksJGw9bnVsbCxxbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToidXRmOCI7aWYoeXQodGhpcyxlKSx0aGlzLl9jb2RlUG9pbnRzPW51bGwsdGhpcy5fc3RyaW5nPW51bGwsdGhpcy5fYnl0ZXM9bnVsbCx0aGlzLl9lbmNvZGluZz1uLG51bGw9PT10KXRoaXMuX2NvZGVQb2ludHM9W10sdGhpcy5fc3RyaW5nPSIiLHRoaXMuX2J5dGVzPW5ldyBVaW50OEFycmF5KDApO2Vsc2V7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpO3N3aXRjaChyKXtjYXNlIltvYmplY3QgQXJyYXldIjppZighamwudmFsaWRhdGVDb2RlUG9pbnRzKHQpKXRocm93IG5ldyBFcnJvcigiQ2hhaW4gY29uc3RydWN0b3IgZXhwZWN0cyBhIHZhbGlkIGFycmF5IG9mIGNvZGUgcG9pbnRzLiIpO3RoaXMuX2NvZGVQb2ludHM9dDticmVhaztjYXNlIltvYmplY3QgU3RyaW5nXSI6dGhpcy5fc3RyaW5nPXQ7YnJlYWs7Y2FzZSJbb2JqZWN0IFVpbnQ4QXJyYXldIjp0aGlzLl9ieXRlcz10O2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJDaGFpbiBjb25zdHJ1Y3RvciBleHBlY3RzIG9uZSBvcHRpb25hbCBwYXJhbWV0ZXIgb2YgdHlwZSAiKyJBcnJheSwgU3RyaW5nIG9yIFVpbnQ4QXJyYXkuIFJlY2VpdmVkIHVuZXhwZWN0ZWQgIi5jb25jYXQociwiLiIpKX19fXJldHVybiBidChlLFt7a2V5OiJnZXRDb2RlUG9pbnRzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fY29kZVBvaW50cyYmKG51bGwhPT10aGlzLl9zdHJpbmc/dGhpcy5fY29kZVBvaW50cz1qbC5jb2RlUG9pbnRzRnJvbVN0cmluZyh0aGlzLl9zdHJpbmcpOnRoaXMuX2NvZGVQb2ludHM9amwuY29kZVBvaW50c0Zyb21CeXRlcyh0aGlzLl9ieXRlcyx0aGlzLl9lbmNvZGluZykpLHRoaXMuX2NvZGVQb2ludHN9fSx7a2V5OiJnZXRDaGFycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb2RlUG9pbnRzKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gamwuc3RyaW5nRnJvbUNvZGVQb2ludHMoW2VdKX0pKX19LHtrZXk6U3ltYm9sLml0ZXJhdG9yLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29kZVBvaW50cygpLnZhbHVlc319LHtrZXk6ImdldENvZGVQb2ludEF0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDb2RlUG9pbnRzKClbZV19fSx7a2V5OiJnZXRDaGFyQXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBqbC5zdHJpbmdGcm9tQ29kZVBvaW50cyhbdGhpcy5nZXRDb2RlUG9pbnRBdChlKV0pfX0se2tleToiZ2V0Q2hhckJ5dGVzQXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBqbC5ieXRlc0Zyb21Db2RlUG9pbnRzKFt0aGlzLmdldENvZGVQb2ludEF0KGUpXSl9fSx7a2V5OiJnZXRMZW5ndGgiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29kZVBvaW50cygpLmxlbmd0aH19LHtrZXk6ImdldFN0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX3N0cmluZyYmKHRoaXMuX3N0cmluZz1qbC5zdHJpbmdGcm9tQ29kZVBvaW50cyh0aGlzLmdldENvZGVQb2ludHMoKSkpLHRoaXMuX3N0cmluZ319LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFN0cmluZygpfX0se2tleToidG9Mb3dlckNhc2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGUud3JhcCh0aGlzLmdldFN0cmluZygpLnRvTG93ZXJDYXNlKCksdGhpcy5fZW5jb2RpbmcpfX0se2tleToidG9VcHBlckNhc2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGUud3JhcCh0aGlzLmdldFN0cmluZygpLnRvVXBwZXJDYXNlKCksdGhpcy5fZW5jb2RpbmcpfX0se2tleToic3BsaXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp2b2lkIDAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dm9pZCAwO3JldHVybiBuPW4gaW5zdGFuY2VvZiBlP24udG9TdHJpbmcoKTpuLHRoaXMuZ2V0U3RyaW5nKCkuc3BsaXQobixyKS5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybiBlLndyYXAobix0Ll9lbmNvZGluZyl9KSl9fSx7a2V5OiJzdWJzdHIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp2b2lkIDA7aWYobjw9MHx8dD49dGhpcy5nZXRMZW5ndGgoKSlyZXR1cm4gZS5lbXB0eSgpO3Q8MCYmKHQ9TWF0aC5tYXgodGhpcy5nZXRMZW5ndGgoKSt0LDApKTt2YXIgcj10aGlzLmdldENvZGVQb2ludHMoKS5zbGljZSh0LG4/dCtuOnZvaWQgMCk7cmV0dXJuIGUud3JhcChyLHRoaXMuX2VuY29kaW5nKX19LHtrZXk6InRydW5jYXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRMZW5ndGgoKT50P2Uud3JhcCh0aGlzLnN1YnN0cigwLHQpLmdldFN0cmluZygpKyLigKYiLHRoaXMuX2VuY29kaW5nKTp0aGlzfX0se2tleToiZXh0ZW5kIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIG4scj10aGlzLmdldENvZGVQb2ludHMoKSxpPWUud3JhcCh0KS5nZXRDb2RlUG9pbnRzKCksYT1yLnNsaWNlKCksbz0wO2EubGVuZ3RoPGkubGVuZ3RoJiZvPGkubGVuZ3RoOyluPWlbbysrXSwtMT09PXIuaW5kZXhPZihuKSYmYS5wdXNoKG4pO3JldHVybiBlLndyYXAoYSl9fSx7a2V5OiJtYXRjaCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0U3RyaW5nKCkubWF0Y2goZSl9fSx7a2V5OiJnZXREZXNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX3N0cmluZz8iU3RyaW5nKCIuY29uY2F0KHRoaXMuX3N0cmluZywiKSIpOm51bGwhPT10aGlzLl9jb2RlUG9pbnRzPyJDb2RlUG9pbnRzKCIuY29uY2F0KHRoaXMuX2NvZGVQb2ludHMuam9pbigiLCAiKSwiKSIpOiJCeXRlcygiLmNvbmNhdChGbC5oZXhTdHJpbmdGcm9tQnl0ZXModGhpcy5fYnl0ZXMpLCIpIil9fSx7a2V5OiJjb250YWlucyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT10aGlzLmdldFN0cmluZygpLmluZGV4T2YoZS50b1N0cmluZygpKX19LHtrZXk6ImluZGV4T2ZDb2RlUG9pbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuIHRoaXMuZ2V0Q29kZVBvaW50cygpLmluZGV4T2YoZSx0KX19LHtrZXk6ImluZGV4T2YiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp2b2lkIDAsbj10aGlzLmdldFN0cmluZygpLHI9bi5pbmRleE9mKGUudG9TdHJpbmcoKSx0KTtpZigtMT09PXIpcmV0dXJuLTE7dmFyIGk9bi5zdWJzdHIoMCxyKSxhPWpsLmNvZGVQb2ludHNGcm9tU3RyaW5nKGkpO3JldHVybiBhLmxlbmd0aH19LHtrZXk6ImdldEJ5dGVzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fYnl0ZXMmJih0aGlzLl9ieXRlcz1qbC5ieXRlc0Zyb21Db2RlUG9pbnRzKHRoaXMuZ2V0Q29kZVBvaW50cygpLHRoaXMuX2VuY29kaW5nKSksdGhpcy5fYnl0ZXN9fSx7a2V5OiJnZXRCeXRlQXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldEJ5dGVzKClbZV19fSx7a2V5OiJnZXRTaXplIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJ5dGVzKCkubGVuZ3RofX0se2tleToibmVlZHNUZXh0RW5jb2RpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9jb2RlUG9pbnRzJiZudWxsPT09dGhpcy5fc3RyaW5nfX0se2tleToibmVlZHNCeXRlRW5jb2RpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9ieXRlc319LHtrZXk6ImlzRW1wdHkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT0kbHx8bnVsbCE9PXRoaXMuX2NvZGVQb2ludHMmJjA9PT10aGlzLl9jb2RlUG9pbnRzLmxlbmd0aHx8bnVsbCE9PXRoaXMuX3N0cmluZyYmIiI9PT10aGlzLl9zdHJpbmd8fG51bGwhPT10aGlzLl9ieXRlcyYmMD09PXRoaXMuX2J5dGVzLmxlbmd0aH19LHtrZXk6ImlzRXF1YWxUbyIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodD09PXRoaXMpcmV0dXJuITA7aWYoISh0IGluc3RhbmNlb2YgZSkpcmV0dXJuITE7aWYodGhpcy5pc0VtcHR5KCkmJnQuaXNFbXB0eSgpKXJldHVybiEwO2lmKHQuZ2V0RW5jb2RpbmcoKSE9PXRoaXMuX2VuY29kaW5nKXJldHVybiExO2lmKG51bGwhPT10aGlzLl9zdHJpbmcmJnRoaXMuX3N0cmluZz09PXQuX3N0cmluZylyZXR1cm4hMDtpZihudWxsIT09dGhpcy5fYnl0ZXMmJm51bGwhPT10Ll9ieXRlcylyZXR1cm4gYWwuaXNFcXVhbCh0aGlzLl9ieXRlcyx0Ll9ieXRlcyk7dHJ5e3JldHVybiBhbC5pc0VxdWFsKHRoaXMuZ2V0Q29kZVBvaW50cygpLHQuZ2V0Q29kZVBvaW50cygpKX1jYXRjaChlKXtpZihlIGluc3RhbmNlb2YgRGwpcmV0dXJuITE7dGhyb3cgZX19fSx7a2V5OiJnZXRFbmNvZGluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5jb2Rpbmd9fV0sW3trZXk6ImlzRXF1YWwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspbltyXT1hcmd1bWVudHNbcl07aWYobi5sZW5ndGg8MilyZXR1cm4hMDt2YXIgaT1uWzBdO2lmKCEoaSBpbnN0YW5jZW9mIGUpKXJldHVybiExO2Zvcih2YXIgYT0hMCxvPTA7YSYmKytvPG4ubGVuZ3RoOylhPWkuaXNFcXVhbFRvKG5bb10pO3JldHVybiBhfX0se2tleToid3JhcCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOiJ1dGY4IjtyZXR1cm4gdCBpbnN0YW5jZW9mIGU/dDpudWxsPT09dHx8MD09PXQubGVuZ3RoP2UuZW1wdHkoKTpuZXcgZSh0LG4pfX0se2tleToiam9pbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gZS53cmFwKHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50b1N0cmluZygpfSkpLmpvaW4obikpfX0se2tleToiZW1wdHkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT0kbCYmKCRsPW5ldyBlKSwkbH19XSksZX0oKSxVbD0oYSgoZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1PYmplY3QucHJvdG90eXBlLHI9bi5oYXNPd25Qcm9wZXJ0eSxpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGE9aS5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLG89aS5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixzPWkudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBsKGUsdCxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLGVbdF19dHJ5e2woe30sIiIpfWNhdGNoKGUpe2w9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW59fWZ1bmN0aW9uIHUoZSx0LG4scil7dmFyIGk9dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiB2P3Q6dixhPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLG89bmV3IEUocnx8W10pO3JldHVybiBhLl9pbnZva2U9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWg7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYocj09PWYpdGhyb3cgbmV3IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYocj09PWcpe2lmKCJ0aHJvdyI9PT1pKXRocm93IGE7cmV0dXJuIE0oKX1mb3Iobi5tZXRob2Q9aSxuLmFyZz1hOzspe3ZhciBvPW4uZGVsZWdhdGU7aWYobyl7dmFyIHM9SShvLG4pO2lmKHMpe2lmKHM9PT1wKWNvbnRpbnVlO3JldHVybiBzfX1pZigibmV4dCI9PT1uLm1ldGhvZCluLnNlbnQ9bi5fc2VudD1uLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1uLm1ldGhvZCl7aWYocj09PWgpdGhyb3cgcj1nLG4uYXJnO24uZGlzcGF0Y2hFeGNlcHRpb24obi5hcmcpfWVsc2UicmV0dXJuIj09PW4ubWV0aG9kJiZuLmFicnVwdCgicmV0dXJuIixuLmFyZyk7cj1mO3ZhciBsPWMoZSx0LG4pO2lmKCJub3JtYWwiPT09bC50eXBlKXtpZihyPW4uZG9uZT9nOmQsbC5hcmc9PT1wKWNvbnRpbnVlO3JldHVybnt2YWx1ZTpsLmFyZyxkb25lOm4uZG9uZX19InRocm93Ij09PWwudHlwZSYmKHI9ZyxuLm1ldGhvZD0idGhyb3ciLG4uYXJnPWwuYXJnKX19fShlLG4sbyksYX1mdW5jdGlvbiBjKGUsdCxuKXt0cnl7cmV0dXJue3R5cGU6Im5vcm1hbCIsYXJnOmUuY2FsbCh0LG4pfX1jYXRjaChlKXtyZXR1cm57dHlwZToidGhyb3ciLGFyZzplfX19ZS53cmFwPXU7dmFyIGg9InN1c3BlbmRlZFN0YXJ0IixkPSJzdXNwZW5kZWRZaWVsZCIsZj0iZXhlY3V0aW5nIixnPSJjb21wbGV0ZWQiLHA9e307ZnVuY3Rpb24gdigpe31mdW5jdGlvbiB5KCl7fWZ1bmN0aW9uIG0oKXt9dmFyIGI9e307YlthXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt2YXIgaz1PYmplY3QuZ2V0UHJvdG90eXBlT2Ysdz1rJiZrKGsoQShbXSkpKTt3JiZ3IT09biYmci5jYWxsKHcsYSkmJihiPXcpO3ZhciBfPW0ucHJvdG90eXBlPXYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYik7ZnVuY3Rpb24gUyhlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2woZSx0LChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9KSl9KSl9ZnVuY3Rpb24geChlLHQpe2Z1bmN0aW9uIG4oaSxhLG8scyl7dmFyIGw9YyhlW2ldLGUsYSk7aWYoInRocm93IiE9PWwudHlwZSl7dmFyIHU9bC5hcmcsaD11LnZhbHVlO3JldHVybiBoJiYib2JqZWN0Ij09dHlwZW9mIGgmJnIuY2FsbChoLCJfX2F3YWl0Iik/dC5yZXNvbHZlKGguX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSl7bigibmV4dCIsZSxvLHMpfSksKGZ1bmN0aW9uKGUpe24oInRocm93IixlLG8scyl9KSk6dC5yZXNvbHZlKGgpLnRoZW4oKGZ1bmN0aW9uKGUpe3UudmFsdWU9ZSxvKHUpfSksKGZ1bmN0aW9uKGUpe3JldHVybiBuKCJ0aHJvdyIsZSxvLHMpfSkpfXMobC5hcmcpfXZhciBpO3RoaXMuX2ludm9rZT1mdW5jdGlvbihlLHIpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQsaSl7bihlLHIsdCxpKX0pKX1yZXR1cm4gaT1pP2kudGhlbihhLGEpOmEoKX19ZnVuY3Rpb24gSShlLG4pe3ZhciByPWUuaXRlcmF0b3Jbbi5tZXRob2RdO2lmKHI9PT10KXtpZihuLmRlbGVnYXRlPW51bGwsInRocm93Ij09PW4ubWV0aG9kKXtpZihlLml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPSJyZXR1cm4iLG4uYXJnPXQsSShlLG4pLCJ0aHJvdyI9PT1uLm1ldGhvZCkpcmV0dXJuIHA7bi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kIil9cmV0dXJuIHB9dmFyIGk9YyhyLGUuaXRlcmF0b3Isbi5hcmcpO2lmKCJ0aHJvdyI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHA7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW2UucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09bi5tZXRob2QmJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9dCksbi5kZWxlZ2F0ZT1udWxsLHApOmE6KG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxuLmRlbGVnYXRlPW51bGwscCl9ZnVuY3Rpb24gQyhlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBWKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBFKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goQyx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBBKGUpe2lmKGUpe3ZhciBuPWVbYV07aWYobilyZXR1cm4gbi5jYWxsKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIGk9LTEsbz1mdW5jdGlvbiBuKCl7Zm9yKDsrK2k8ZS5sZW5ndGg7KWlmKHIuY2FsbChlLGkpKXJldHVybiBuLnZhbHVlPWVbaV0sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9dCxuLmRvbmU9ITAsbn07cmV0dXJuIG8ubmV4dD1vfX1yZXR1cm57bmV4dDpNfX1mdW5jdGlvbiBNKCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19cmV0dXJuIHkucHJvdG90eXBlPV8uY29uc3RydWN0b3I9bSxtLmNvbnN0cnVjdG9yPXkseS5kaXNwbGF5TmFtZT1sKG0scywiR2VuZXJhdG9yRnVuY3Rpb24iKSxlLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I7cmV0dXJuISF0JiYodD09PXl8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0odC5kaXNwbGF5TmFtZXx8dC5uYW1lKSl9LGUubWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLG0pOihlLl9fcHJvdG9fXz1tLGwoZSxzLCJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKF8pLGV9LGUuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LFMoeC5wcm90b3R5cGUpLHgucHJvdG90eXBlW29dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGUuQXN5bmNJdGVyYXRvcj14LGUuYXN5bmM9ZnVuY3Rpb24odCxuLHIsaSxhKXt2b2lkIDA9PT1hJiYoYT1Qcm9taXNlKTt2YXIgbz1uZXcgeCh1KHQsbixyLGkpLGEpO3JldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24obik/bzpvLm5leHQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6by5uZXh0KCl9KSl9LFMoXyksbChfLHMsIkdlbmVyYXRvciIpLF9bYV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sXy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSxlLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpdC5wdXNoKG4pO3JldHVybiB0LnJldmVyc2UoKSxmdW5jdGlvbiBuKCl7Zm9yKDt0Lmxlbmd0aDspe3ZhciByPXQucG9wKCk7aWYociBpbiBlKXJldHVybiBuLnZhbHVlPXIsbi5kb25lPSExLG59cmV0dXJuIG4uZG9uZT0hMCxufX0sZS52YWx1ZXM9QSxFLnByb3RvdHlwZT17Y29uc3RydWN0b3I6RSxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goViksIWUpZm9yKHZhciBuIGluIHRoaXMpInQiPT09bi5jaGFyQXQoMCkmJnIuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBuPXRoaXM7ZnVuY3Rpb24gaShyLGkpe3JldHVybiBzLnR5cGU9InRocm93IixzLmFyZz1lLG4ubmV4dD1yLGkmJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9dCksISFpfWZvcih2YXIgYT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7YT49MDstLWEpe3ZhciBvPXRoaXMudHJ5RW50cmllc1thXSxzPW8uY29tcGxldGlvbjtpZigicm9vdCI9PT1vLnRyeUxvYylyZXR1cm4gaSgiZW5kIik7aWYoby50cnlMb2M8PXRoaXMucHJldil7dmFyIGw9ci5jYWxsKG8sImNhdGNoTG9jIiksdT1yLmNhbGwobywiZmluYWxseUxvYyIpO2lmKGwmJnUpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiBpKG8uY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxvLmZpbmFsbHlMb2MpcmV0dXJuIGkoby5maW5hbGx5TG9jKX1lbHNlIGlmKGwpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiBpKG8uY2F0Y2hMb2MsITApfWVsc2V7aWYoIXUpdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxvLmZpbmFsbHlMb2MpcmV0dXJuIGkoby5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIGk9dGhpcy50cnlFbnRyaWVzW25dO2lmKGkudHJ5TG9jPD10aGlzLnByZXYmJnIuY2FsbChpLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxpLmZpbmFsbHlMb2Mpe3ZhciBhPWk7YnJlYWt9fWEmJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZhLnRyeUxvYzw9dCYmdDw9YS5maW5hbGx5TG9jJiYoYT1udWxsKTt2YXIgbz1hP2EuY29tcGxldGlvbjp7fTtyZXR1cm4gby50eXBlPWUsby5hcmc9dCxhPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PWEuZmluYWxseUxvYyxwKTp0aGlzLmNvbXBsZXRlKG8pfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLHB9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksVihuKSxwfX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4udHJ5TG9jPT09ZSl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1yLnR5cGUpe3ZhciBpPXIuYXJnO1Yobil9cmV0dXJuIGl9fXRocm93IG5ldyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpBKGUpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCkscH19LGV9KGUuZXhwb3J0cyk7dHJ5e3JlZ2VuZXJhdG9yUnVudGltZT10fWNhdGNoKGUpe0Z1bmN0aW9uKCJyIiwicmVnZW5lcmF0b3JSdW50aW1lID0gciIpKHQpfX0pKSxaZS5maW5kKSxXbD0iZmluZCIsR2w9ITAsSGw9dHQoV2wpO1dsIGluW10mJkFycmF5KDEpLmZpbmQoKGZ1bmN0aW9uKCl7R2w9ITF9KSksT2Uoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDpHbHx8IUhsfSx7ZmluZDpmdW5jdGlvbihlKXtyZXR1cm4gVWwodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxwaShXbCk7dmFyIEtsPWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3ZhciBlO3JldHVybiB5dCh0aGlzLG4pLChlPXQuY2FsbCh0aGlzKSkuXyRtZXNzYWdlPW51bGwsZS5fbWVzc2FnZT1udWxsLGUuX2lkPUJsLnVuaXF1ZUlkKCksZS5fZmlyc3Q9ITEsZX1yZXR1cm4gYnQobixbe2tleToiaXNGaXJzdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlyc3R9fSx7a2V5OiJzZXRGaXJzdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ZpcnN0IT09ZSYmKHRoaXMuX2ZpcnN0PWUsZT90aGlzLmdldEVsZW1lbnQoKS5jbGFzc0xpc3QuYWRkKCJmaWVsZC0tZmlyc3QiKTp0aGlzLmdldEVsZW1lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKCJmaWVsZC0tZmlyc3QiKSksdGhpc319LHtrZXk6ImdldE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2V9fSx7a2V5OiJzZXRNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbWVzc2FnZT1lLHRoaXMudXBkYXRlKCl9fSx7a2V5OiJjbGVhck1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0TWVzc2FnZShudWxsKX19LHtrZXk6ImdldElkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH19LHtrZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYm4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJmaWVsZCIrKHRoaXMuX2ZpcnN0PyIgZmllbGQtLWZpcnN0IjoiIil9LFt0aGlzLnJlbmRlckxhYmVsKCksdGhpcy5yZW5kZXJGaWVsZCgpXSl9fSx7a2V5OiJyZW5kZXJMYWJlbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYm4uY3JlYXRlRWxlbWVudCgibGFiZWwiLHtjbGFzc05hbWU6ImZpZWxkX19sYWJlbCIsaHRtbEZvcjp0aGlzLmdldElkKCl9LHRoaXMuZ2V0TW9kZWwoKS5nZXRMYWJlbCgpKX19LHtrZXk6InJlbmRlckZpZWxkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBibi5jcmVhdGVFbGVtZW50KCJkaXYiLHtjbGFzc05hbWU6ImZpZWxkX19maWVsZCJ9KX19LHtrZXk6InJlbmRlck1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmdldE1lc3NhZ2UoKT9ibi5jcmVhdGVFbGVtZW50KCJkaXYiLHtjbGFzc05hbWU6ImZpZWxkX19tZXNzYWdlIn0sdGhpcy5nZXRNZXNzYWdlKCkpOm51bGx9fSx7a2V5OiJkaWRSZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7QXQod3Qobi5wcm90b3R5cGUpLCJkaWRSZW5kZXIiLHRoaXMpLmNhbGwodGhpcyksdGhpcy51cGRhdGVWYWx1ZSgpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RWxlbWVudCgpO3JldHVybiBlLmRhdGFzZXQud2lkdGg9dGhpcy5nZXRNb2RlbCgpLmdldFdpZHRoKCksdGhpcy5oYXNGb2N1cygpP2UuY2xhc3NMaXN0LmFkZCgiZmllbGQtLWZvY3VzIik6ZS5jbGFzc0xpc3QucmVtb3ZlKCJmaWVsZC0tZm9jdXMiKSx0aGlzLmdldE1vZGVsKCkuaXNWYWxpZCgpJiZudWxsPT09dGhpcy5nZXRNZXNzYWdlKCk/ZS5jbGFzc0xpc3QucmVtb3ZlKCJmaWVsZC0taW52YWxpZCIpOmUuY2xhc3NMaXN0LmFkZCgiZmllbGQtLWludmFsaWQiKSxudWxsIT09dGhpcy5fJG1lc3NhZ2UmJm51bGwhPT10aGlzLl8kbWVzc2FnZS5wYXJlbnROb2RlJiZ0aGlzLl8kbWVzc2FnZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuXyRtZXNzYWdlKSx0aGlzLl8kbWVzc2FnZT1udWxsLHRoaXMuXyRtZXNzYWdlPXRoaXMucmVuZGVyTWVzc2FnZSgpLG51bGwhPT10aGlzLl8kbWVzc2FnZSYmdGhpcy5nZXRFbGVtZW50KCkuYXBwZW5kQ2hpbGQodGhpcy5fJG1lc3NhZ2UpLHRoaXN9fSx7a2V5OiJkaWRGb2N1cyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdldEVsZW1lbnQoKS5jbGFzc0xpc3QuYWRkKCJmaWVsZC0tZm9jdXMiKX19LHtrZXk6ImRpZEJsdXIiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nZXRFbGVtZW50KCkuY2xhc3NMaXN0LnJlbW92ZSgiZmllbGQtLWZvY3VzIil9fSx7a2V5OiJ1cGRhdGVWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319XSksbn0oYm4pLFhsPWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3JldHVybiB5dCh0aGlzLG4pLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBidChuLFt7a2V5OiJyZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGJuLmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToiZm9ybSJ9KX19LHtrZXk6ImFwcGVuZFN1YnZpZXdFbGVtZW50Iix2YWx1ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgS2wpe3RoaXMuZ2V0RWxlbWVudCgpO3ZhciB0PXRoaXMuZ2V0U3Vidmlld3MoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgS2x9KSk7dC5wdXNoKGUpO3ZhciByPXRoaXMuZ2V0TW9kZWwoKS5nZXRGaWVsZHMoKTt0LnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuaW5kZXhPZihlLmdldE1vZGVsKCkpLXIuaW5kZXhPZih0LmdldE1vZGVsKCkpfSkpO3ZhciBpPXQuaW5kZXhPZihlKSxhPWk8dC5sZW5ndGgtMT90W2krMV0uZ2V0RWxlbWVudCgpOm51bGw7dGhpcy5nZXRFbGVtZW50KCkuaW5zZXJ0QmVmb3JlKGUuZ2V0RWxlbWVudCgpLGEpO3ZhciBvPTA7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRNb2RlbCgpLmdldFdpZHRoKCk7KG8rPXQpPT09dHx8bz4xMj8obz10LGUuc2V0Rmlyc3QoITApKTplLnNldEZpcnN0KCExKX0pKSx0aGlzfXJldHVybiBBdCh3dChuLnByb3RvdHlwZSksImFwcGVuZFN1YnZpZXdFbGVtZW50Iix0aGlzKS5jYWxsKHRoaXMsZSl9fV0pLG59KGJuKSxabD0nPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZD0iTTE2IDdIMy44M2wzLjU4LTMuNTlMNiAyIDAgOGw2IDYgMS40MS0xLjQxTDMuODMgOUgxNnoiLz48L3N2Zz4nLFlsPXtmb3J3YXJkOlpsLGJhY2t3YXJkOlpsLGVycm9yOic8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNMTUgMi40MUwxMy41OSAxIDggNi41OSAyLjQxIDEgMSAyLjQxIDYuNTkgOCAxIDEzLjU5IDIuNDEgMTUgOCA5LjQxIDEzLjU5IDE1IDE1IDEzLjU5IDkuNDEgOHoiLz48L3N2Zz4nfSxKbD1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLl8kbWVudT1udWxsLGUuXyRib2R5PW51bGwsZS5fJHNldHRpbmdzPW51bGwsZS5fJGhlYWRlcj1udWxsLGUuXyRzdGF0dXM9bnVsbCxlLl8kc3RhdHVzSWNvbj1udWxsLGUuXyRzdGF0dXNNZXNzYWdlPW51bGwsZS5fbWVudVZpc2libGU9ITEsZS5fbWVudUhpZGVIYW5kbGVyPWUudG9nZ2xlTWVudS5iaW5kKEN0KGUpKSxlfXJldHVybiBidChuLFt7a2V5OiJyZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fJHNldHRpbmdzPXRoaXMucmVuZGVyU2V0dGluZ3MoKSx0aGlzLl8kaGVhZGVyPXRoaXMucmVuZGVySGVhZGVyKCk7dmFyIGU9dGhpcy5nZXRNb2RlbCgpLmdldE1ldGEoKTtyZXR1cm4gYm4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJicmljayIscm9sZToicmVnaW9uIixhcmlhTGFiZWw6IiIuY29uY2F0KGUudGl0bGUsIiAiKS5jb25jYXQoZS50eXBlKX0sW3RoaXMuXyRoZWFkZXIsdGhpcy5fJHNldHRpbmdzLHRoaXMucmVuZGVyQ29udGVudCgpLHRoaXMucmVuZGVyU3RhdHVzKCldKX19LHtrZXk6InJlbmRlckhlYWRlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuXyRtZW51PXRoaXMucmVuZGVyTWVudSgpO3ZhciB0PWJuLmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIse2NsYXNzTmFtZToiYnJpY2tfX2J0bi1tZW51IixvbkNsaWNrOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxlLnRvZ2dsZU1lbnUoKX19KTt0LmlubmVySFRNTD0nPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PGNpcmNsZSBjeD0iOCIgY3k9IjIiIHI9IjEuNSIvPjxjaXJjbGUgY3g9IjgiIGN5PSI4IiByPSIxLjUiLz48Y2lyY2xlIGN4PSI4IiBjeT0iMTQiIHI9IjEuNSIvPjwvc3ZnPic7dmFyIG49Ym4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJicmlja19fdGl0bGUtY2FyZXQifSk7cmV0dXJuIG4uaW5uZXJIVE1MPSc8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNMyA2bDUgNSA1LTV6Ii8+PC9zdmc+Jyxibi5jcmVhdGVFbGVtZW50KCJoZWFkZXIiLHtjbGFzc05hbWU6ImJyaWNrX19oZWFkZXIifSxbYm4uY3JlYXRlRWxlbWVudCgiYnV0dG9uIix7Y2xhc3NOYW1lOiJicmlja19fdGl0bGUiLG9uQ2xpY2s6ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLGUuZ2V0TW9kZWwoKS52aWV3UmVwbGFjZUJ1dHRvbkRpZENsaWNrKGUpfX0sW2JuLmNyZWF0ZUVsZW1lbnQoImgzIix7Y2xhc3NOYW1lOiJicmlja19fdGl0bGUtaW5uZXIifSx0aGlzLmdldE1vZGVsKCkuZ2V0VGl0bGUoKSksbl0pLHRdKX19LHtrZXk6InJlbmRlck1lbnUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVtdO3JldHVybiB0aGlzLmdldE1vZGVsKCkuaGFzUGlwZSgpJiYodC5wdXNoKHtsYWJlbDoiUmVtb3ZlIixuYW1lOiJyZW1vdmUifSksdC5wdXNoKHtsYWJlbDoiSGlkZSIsbmFtZToiaGlkZSJ9KSx0LnB1c2goe2xhYmVsOiJEdXBsaWNhdGUiLG5hbWU6ImR1cGxpY2F0ZSJ9KSksdGhpcy5nZXRNb2RlbCgpLmlzUmFuZG9taXphYmxlKCkmJnQucHVzaCh7bGFiZWw6IlJhbmRvbWl6ZSIsbmFtZToicmFuZG9taXplIn0pLGJuLmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToiYnJpY2tfX21lbnUgbWVudSJ9LFtibi5jcmVhdGVFbGVtZW50KCJ1bCIse2NsYXNzTmFtZToibWVudV9fbGlzdCJ9LHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gYm4uY3JlYXRlRWxlbWVudCgibGkiLHtjbGFzc05hbWU6Im1lbnVfX2l0ZW0ifSxbYm4uY3JlYXRlRWxlbWVudCgiYnV0dG9uIix7Y2xhc3NOYW1lOiJtZW51X19idXR0b24iLG9uQ2xpY2s6ZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpLGUuZ2V0TW9kZWwoKS52aWV3TWVudUl0ZW1EaWRDbGljayhlLHQubmFtZSl9fSx0LmxhYmVsKV0pfSkpKV0pfX0se2tleToicmVuZGVyU2V0dGluZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGJuLmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToiYnJpY2tfX3NldHRpbmdzIn0pfX0se2tleToicmVuZGVyQ29udGVudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYm4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJicmlja19fY29udGVudCJ9KX19LHtrZXk6InJlbmRlclN0YXR1cyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fJHN0YXR1c0ljb249Ym4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJicmlja19fc3RhdHVzLWljb24ifSksdGhpcy5fJHN0YXR1c01lc3NhZ2U9Ym4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJicmlja19fc3RhdHVzLW1lc3NhZ2UifSksdGhpcy5fJHN0YXR1cz1ibi5jcmVhdGVFbGVtZW50KCJmb290ZXIiLHtjbGFzc05hbWU6ImJyaWNrX19zdGF0dXMgYnJpY2tfX3N0YXR1cy0taGlkZGVuIn0sW3RoaXMuXyRzdGF0dXNJY29uLHRoaXMuXyRzdGF0dXNNZXNzYWdlXSksdGhpcy5fJHN0YXR1c319LHtrZXk6ImFwcGVuZFN1YnZpZXdFbGVtZW50Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFhsPyh0aGlzLmdldEVsZW1lbnQoKSx0aGlzLl8kc2V0dGluZ3MuYXBwZW5kQ2hpbGQoZS5nZXRFbGVtZW50KCkpLHRoaXMpOkF0KHd0KG4ucHJvdG90eXBlKSwiYXBwZW5kU3Vidmlld0VsZW1lbnQiLHRoaXMpLmNhbGwodGhpcyxlKX19LHtrZXk6ImRpZEZvY3VzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0RWxlbWVudCgpLmNsYXNzTGlzdC5hZGQoImJyaWNrLS1mb2N1cyIpfX0se2tleToiZGlkQmx1ciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdldEVsZW1lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKCJicmljay0tZm9jdXMiKX19LHtrZXk6InRvZ2dsZU1lbnUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9tZW51VmlzaWJsZT0hdGhpcy5fbWVudVZpc2libGUsdGhpcy5fbWVudVZpc2libGU/KHRoaXMuXyRoZWFkZXIuYXBwZW5kQ2hpbGQodGhpcy5fJG1lbnUpLHRoaXMuXyRtZW51LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHRoaXMuXyRtZW51LmNsYXNzTGlzdC5hZGQoIm1lbnUtLXZpc2libGUiKSx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZS5fbWVudUhpZGVIYW5kbGVyKX0pKSk6KHRoaXMuXyRoZWFkZXIucmVtb3ZlQ2hpbGQodGhpcy5fJG1lbnUpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsdGhpcy5fbWVudUhpZGVIYW5kbGVyKSl9fSx7a2V5OiJ1cGRhdGVTdGF0dXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsO3JldHVybiBudWxsPT09ZT8odGhpcy5fJHN0YXR1cy5jbGFzc0xpc3QuYWRkKCJicmlja19fc3RhdHVzLS1oaWRkZW4iKSx0aGlzLl8kc3RhdHVzSWNvbi5pbm5lckhUTUw9bnVsbCx0aGlzLl8kc3RhdHVzTWVzc2FnZS5pbm5lclRleHQ9bnVsbCk6KHRoaXMuXyRzdGF0dXMuY2xhc3NOYW1lPSJicmlja19fc3RhdHVzIGJyaWNrX19zdGF0dXMtLSIuY29uY2F0KGUpLHRoaXMuXyRzdGF0dXNJY29uLmlubmVySFRNTD1ZbFtlXXx8IiIsdGhpcy5fJHN0YXR1c01lc3NhZ2UuaW5uZXJUZXh0PXR8fCIiLCJmb3J3YXJkIiE9PWUmJiJiYWNrd2FyZCIhPT1lfHwodGhpcy5fJHN0YXR1cy5jbGFzc0xpc3QuYWRkKCJicmlja19fc3RhdHVzLS1mbGFzaCIpLHRoaXMuXyRzdGF0dXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdGhpcy5fJHN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCJicmlja19fc3RhdHVzLS1mbGFzaCIpKSksdGhpc319XSksbn0oYm4pLFFsPW51bGwsZXU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7eXQodGhpcyxlKSx0aGlzLl9vYnNlcnZlck5hbWVzPVtdLHRoaXMuX29ic2VydmVyQ2FsbGJhY2tzPVtdfXJldHVybiBidChlLFt7a2V5OiJ0cmlnZ2VyIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj0wOy0xIT09KG49dGhpcy5fb2JzZXJ2ZXJOYW1lcy5pbmRleE9mKGUsbikpOyl0aGlzLl9vYnNlcnZlckNhbGxiYWNrc1tuXShlLHQpLG4rKztyZXR1cm4gdGhpc319LHtrZXk6InN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJOYW1lcy5wdXNoKGUpLHRoaXMuX29ic2VydmVyQ2FsbGJhY2tzLnB1c2godCksdGhpc319LHtrZXk6InVuc3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wOy0xIT09KG49dGhpcy5fb2JzZXJ2ZXJOYW1lcy5pbmRleE9mKGUsbikpOyl0aGlzLl9vYnNlcnZlckNhbGxiYWNrc1tuXT09PXQ/KHRoaXMuX29ic2VydmVyTmFtZXMuc3BsaWNlKG4sMSksdGhpcy5fb2JzZXJ2ZXJDYWxsYmFja3Muc3BsaWNlKG4sMSkpOm4rKztyZXR1cm4gdGhpc319XSxbe2tleToiZ2V0U2hhcmVkSW5zdGFuY2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT1RbCYmKFFsPW5ldyBlKSxRbH19LHtrZXk6InRyaWdnZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsO3JldHVybiBlLmdldFNoYXJlZEluc3RhbmNlKCkudHJpZ2dlcih0LG4pfX1dKSxlfSgpLHR1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3l0KHRoaXMsZSksdGhpcy5fdmlldz1udWxsLHRoaXMuX3ZpZXdQcm90b3R5cGU9Ym59cmV0dXJuIGJ0KGUsW3trZXk6Imhhc1ZpZXciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLl92aWV3fX0se2tleToiZ2V0VmlldyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX3ZpZXcmJih0aGlzLl92aWV3PW5ldyB0aGlzLl92aWV3UHJvdG90eXBlLHRoaXMuX3ZpZXcuc2V0TW9kZWwodGhpcyksdGhpcy5kaWRDcmVhdGVWaWV3KHRoaXMuX3ZpZXcpKSx0aGlzLl92aWV3fX0se2tleToidXBkYXRlVmlldyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNWaWV3KCkmJnRoaXMuZ2V0VmlldygpLnNldE5lZWRzVXBkYXRlKCksdGhpc319LHtrZXk6ImRpZENyZWF0ZVZpZXciLHZhbHVlOmZ1bmN0aW9uKGUpe319XSksZX0oKSxudT1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oZSl7dmFyIHIsaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIHl0KHRoaXMsbiksKHI9dC5jYWxsKHRoaXMpKS5fdmlld1Byb3RvdHlwZT1LbCxyLl9uYW1lPWUsci5fdmFsdWU9dm9pZCAwIT09aS52YWx1ZT9pLnZhbHVlOm51bGwsci5fZGVsZWdhdGU9aS5kZWxlZ2F0ZXx8bnVsbCxyLl9yYW5kb21pemFibGU9ITEhPT1pLnJhbmRvbWl6YWJsZSxyLl92YWxpZD0hMCxyLl9tZXNzYWdlPW51bGwsci5fbWVzc2FnZUtleT1udWxsLHIuX3ZhbGlkYXRlVmFsdWVDYWxsYmFjaz1pLnZhbGlkYXRlVmFsdWV8fG51bGwsci5fZmlsdGVyVmFsdWVDYWxsYmFjaz1pLmZpbHRlclZhbHVlfHxudWxsLHIuX3JhbmRvbWl6ZVZhbHVlQ2FsbGJhY2s9aS5yYW5kb21pemVWYWx1ZXx8bnVsbCxyLl9sYWJlbD1pLmxhYmVsfHxCbC5jYW1lbENhc2VUb1JlZ3VsYXIoZSksci5fdmlzaWJsZT0hMSE9PWkudmlzaWJsZSxyLl9wcmlvcml0eT12b2lkIDAhPT1pLnByaW9yaXR5P2kucHJpb3JpdHk6MCxyLl93aWR0aD1pLndpZHRofHwxMixyfXJldHVybiBidChuLFt7a2V5OiJnZXROYW1lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYW1lfX0se2tleToiZ2V0TGFiZWwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhYmVsfX0se2tleToiaXNWaXNpYmxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aXNpYmxlfX0se2tleToic2V0VmlzaWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3Zpc2libGU9ZSx0aGlzLl9kZWxlZ2F0ZSYmdGhpcy5fZGVsZWdhdGUuZmllbGROZWVkc0xheW91dCYmdGhpcy5fZGVsZWdhdGUuZmllbGROZWVkc0xheW91dCh0aGlzKSx0aGlzfX0se2tleToiZ2V0UHJpb3JpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByaW9yaXR5fX0se2tleToic2V0UHJpb3JpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wcmlvcml0eT1lLHRoaXMuX2RlbGVnYXRlJiZ0aGlzLl9kZWxlZ2F0ZS5maWVsZFByaW9yaXR5RGlkQ2hhbmdlJiZ0aGlzLl9kZWxlZ2F0ZS5maWVsZFByaW9yaXR5RGlkQ2hhbmdlKHRoaXMsZSksdGhpcy5fZGVsZWdhdGUmJnRoaXMuX2RlbGVnYXRlLmZpZWxkTmVlZHNMYXlvdXQmJnRoaXMuX2RlbGVnYXRlLmZpZWxkTmVlZHNMYXlvdXQodGhpcyksdGhpc319LHtrZXk6ImdldFdpZHRoIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH19LHtrZXk6InNldFdpZHRoIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fd2lkdGg9ZSx0aGlzLnVwZGF0ZVZpZXcoKSx0aGlzLl9kZWxlZ2F0ZSYmdGhpcy5fZGVsZWdhdGUuZmllbGROZWVkc0xheW91dCYmdGhpcy5fZGVsZWdhdGUuZmllbGROZWVkc0xheW91dCh0aGlzKSx0aGlzfX0se2tleToiZ2V0RGVsZWdhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlfX0se2tleToic2V0RGVsZWdhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZT1lLHRoaXN9fSx7a2V5OiJpc1ZhbGlkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWxpZH19LHtrZXk6ImdldE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2V9fSx7a2V5OiJnZXRNZXNzYWdlS2V5Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlS2V5fX0se2tleToiZ2V0VmFsdWUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfX0se2tleToic2V0VmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLG49dGhpcy52YWxpZGF0ZVZhbHVlKGUpO2lmKHRoaXMuX3ZhbGlkPSEwPT09bix0aGlzLl92YWxpZD8odGhpcy5fbWVzc2FnZT1udWxsLHRoaXMuX21lc3NhZ2VLZXk9bnVsbCk6Im9iamVjdCI9PT1ndChuKT8odGhpcy5fbWVzc2FnZT1uLm1lc3NhZ2UsdGhpcy5fbWVzc2FnZUtleT1uLmtleSk6KHRoaXMuX21lc3NhZ2U9IlRoZSB2YWx1ZSBpcyBpbnZhbGlkIix0aGlzLl9tZXNzYWdlS2V5PSJpbnZhbGlkIiksdGhpcy5oYXNWaWV3KCkmJnRoaXMuZ2V0VmlldygpLnNldE1lc3NhZ2UodGhpcy5nZXRNZXNzYWdlKCkpLCF0aGlzLl92YWxpZClyZXR1cm4gdGhpcy5fdmFsdWU9ZSx0aGlzO3ZhciByPXRoaXMuZmlsdGVyVmFsdWUoZSksaT1yIGluc3RhbmNlb2YgcWw/ci5pc0VxdWFsVG8odGhpcy5fdmFsdWUpOnRoaXMuX3ZhbHVlPT09cjtyZXR1cm4gaXx8KHRoaXMuX3ZhbHVlPXIsdGhpcy5oYXNWaWV3KCkmJnRoaXMuZ2V0VmlldygpIT09dCYmdGhpcy5nZXRWaWV3KCkudXBkYXRlVmFsdWUoKSx0aGlzLl9kZWxlZ2F0ZSYmdGhpcy5fZGVsZWdhdGUhPT10JiZ2b2lkIDAhPT10aGlzLl9kZWxlZ2F0ZS5maWVsZFZhbHVlRGlkQ2hhbmdlJiZ0aGlzLmdldERlbGVnYXRlKCkuZmllbGRWYWx1ZURpZENoYW5nZSh0aGlzLHIpKSx0aGlzfX0se2tleToicmV2YWxpZGF0ZVZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFZhbHVlKHRoaXMuZ2V0VmFsdWUoKSl9fSx7a2V5OiJ2YWxpZGF0ZVZhbHVlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PXRoaXMuX3ZhbGlkYXRlVmFsdWVDYWxsYmFja3x8dGhpcy5fdmFsaWRhdGVWYWx1ZUNhbGxiYWNrKGUsdGhpcyl9fSx7a2V5OiJmaWx0ZXJWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT10aGlzLl9maWx0ZXJWYWx1ZUNhbGxiYWNrP3RoaXMuX2ZpbHRlclZhbHVlQ2FsbGJhY2soZSx0aGlzKTplfX0se2tleToiaXNSYW5kb21pemFibGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmRvbWl6YWJsZX19LHtrZXk6InJhbmRvbWl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDtpZighdGhpcy5pc1JhbmRvbWl6YWJsZSgpKXJldHVybiB0aGlzO3ZhciB0PXRoaXMucmFuZG9taXplVmFsdWUoZXx8bmV3IGlsKTtyZXR1cm4gbnVsbCE9PXQ/dGhpcy5zZXRWYWx1ZSh0KTp0aGlzfX0se2tleToicmFuZG9taXplVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJhbmRvbWl6ZVZhbHVlV2l0aENhbGxiYWNrKGUpfX0se2tleToicmFuZG9taXplVmFsdWVXaXRoQ2FsbGJhY2siLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09dGhpcy5fcmFuZG9taXplVmFsdWVDYWxsYmFjaz90aGlzLl9yYW5kb21pemVWYWx1ZUNhbGxiYWNrKGUsdGhpcyk6bnVsbH19LHtrZXk6ImlzQ3VzdG9tUmFuZG9taXphdGlvblNldCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX3JhbmRvbWl6ZVZhbHVlQ2FsbGJhY2t9fSx7a2V5OiJzZXJpYWxpemVWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5pc1ZhbGlkKCkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGZpZWxkIHZhbHVlcyBjYW4ndCBiZSBzZXJpYWxpemVkLiIpO3ZhciBlPXRoaXMuZ2V0VmFsdWUoKTtpZigiYm9vbGVhbiIhPXR5cGVvZiBlJiYibnVtYmVyIiE9dHlwZW9mIGUmJiJzdHJpbmciIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IEVycm9yKCJGaWVsZCB2YWx1ZSBzZXJpYWxpemF0aW9uIGlzIG5vdCBwb3NzaWJsZS4gR2VuZXJpYyBmaWVsZHMgY2FuIG9ubHkgc2VyaWFsaXplIGJvb2xlYW4sIG51bWJlciwgc3RyaW5nIG9yIG51bGwgdmFsdWVzIHNhZmVseS4gIisiUmVjZWl2ZWQgdmFsdWUgdHlwZSAnIi5jb25jYXQoZ3QoZSksIicuIikpO3JldHVybiBlfX0se2tleToiZXh0cmFjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2V0VmFsdWUodGhpcy5leHRyYWN0VmFsdWUoZSkpLHRoaXN9fSx7a2V5OiJleHRyYWN0VmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlfX0se2tleToiZGlkQ3JlYXRlVmlldyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5nZXRWaWV3KCkuc2V0TWVzc2FnZSh0aGlzLmdldE1lc3NhZ2UoKSl9fV0pLG59KHR1KSxydT1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLl8kaW5wdXQ9bnVsbCxlfXJldHVybiBidChuLFt7a2V5OiJ1cGRhdGVWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fJGlucHV0LmNoZWNrZWQ9dGhpcy5nZXRNb2RlbCgpLmdldFZhbHVlKCksdGhpc319LHtrZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1BdCh3dChuLnByb3RvdHlwZSksInJlbmRlciIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gZS5jbGFzc0xpc3QuYWRkKCJmaWVsZC1ib29sZWFuIiksZX19LHtrZXk6InJlbmRlckZpZWxkIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fJGlucHV0PWJuLmNyZWF0ZUVsZW1lbnQoImlucHV0Iix7Y2xhc3NOYW1lOiJmaWVsZC1ib29sZWFuX19pbnB1dCIsdHlwZToiY2hlY2tib3giLGlkOnRoaXMuZ2V0SWQoKSxvbkNoYW5nZTp0aGlzLmlucHV0VmFsdWVEaWRDaGFuZ2UuYmluZCh0aGlzKSxjaGVja2VkOnRoaXMuZ2V0TW9kZWwoKS5nZXRWYWx1ZSgpLG9uRm9jdXM6ZnVuY3Rpb24odCl7cmV0dXJuIGUuZm9jdXMoKX0sb25CbHVyOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJsdXIoKX19KTt2YXIgdD1ibi5jcmVhdGVFbGVtZW50KCJsYWJlbCIse2NsYXNzTmFtZToiZmllbGQtYm9vbGVhbl9fdG9nZ2xlIixodG1sRm9yOnRoaXMuZ2V0SWQoKX0sW2JuLmNyZWF0ZUVsZW1lbnQoInNwYW4iLHtjbGFzc05hbWU6ImZpZWxkLWJvb2xlYW5fX2Nob2ljZSJ9LHRoaXMuZ2V0TW9kZWwoKS5nZXRUcnVlTGFiZWwoKSksYm4uY3JlYXRlRWxlbWVudCgic3BhbiIse2NsYXNzTmFtZToiZmllbGQtYm9vbGVhbl9fY2hvaWNlIn0sdGhpcy5nZXRNb2RlbCgpLmdldEZhbHNlTGFiZWwoKSldKSxyPUF0KHd0KG4ucHJvdG90eXBlKSwicmVuZGVyRmllbGQiLHRoaXMpLmNhbGwodGhpcyk7cmV0dXJuIHIuYXBwZW5kQ2hpbGQodGhpcy5fJGlucHV0KSxyLmFwcGVuZENoaWxkKHQpLHJ9fSx7a2V5OiJpbnB1dFZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmdldE1vZGVsKCkudmlld1ZhbHVlRGlkQ2hhbmdlKHRoaXMsdGhpcy5fJGlucHV0LmNoZWNrZWQpfX1dKSxufShLbCksaXU9WyEwLDEsIjEiLCJ0cnVlIl0sYXU9WyExLDAsIjAiLCJmYWxzZSJdLG91PWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbihlKXt2YXIgcixpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4geXQodGhpcyxuKSwocj10LmNhbGwodGhpcyxlLGkpKS5fdmlld1Byb3RvdHlwZT1ydSxyLl90cnVlTGFiZWw9aS50cnVlTGFiZWx8fCJZZXMiLHIuX2ZhbHNlTGFiZWw9aS5mYWxzZUxhYmVsfHwiTm8iLHJ9cmV0dXJuIGJ0KG4sW3trZXk6ImdldFRydWVMYWJlbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJ1ZUxhYmVsfX0se2tleToiZ2V0RmFsc2VMYWJlbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFsc2VMYWJlbH19LHtrZXk6InZhbGlkYXRlVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybi0xPT09aXUuaW5kZXhPZihlKSYmLTE9PT1hdS5pbmRleE9mKGUpP3trZXk6ImJvb2xlYW5JbnZhbGlkIixtZXNzYWdlOiJUaGUgdmFsdWUgaXMgbm90IGEgYm9vbGVhbiJ9OkF0KHd0KG4ucHJvdG90eXBlKSwidmFsaWRhdGVWYWx1ZSIsdGhpcykuY2FsbCh0aGlzLGUpfX0se2tleToiZmlsdGVyVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBBdCh3dChuLnByb3RvdHlwZSksImZpbHRlclZhbHVlIix0aGlzKS5jYWxsKHRoaXMsLTEhPT1pdS5pbmRleE9mKGUpKX19LHtrZXk6InJhbmRvbWl6ZVZhbHVlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1BdCh3dChuLnByb3RvdHlwZSksInJhbmRvbWl6ZVZhbHVlIix0aGlzKS5jYWxsKHRoaXMsZSk7cmV0dXJuIG51bGwhPT10P3Q6ZS5uZXh0Qm9vbGVhbigpfX0se2tleToidmlld1ZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuc2V0VmFsdWUodCxlKX19XSksbn0obnUpLHN1PWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3ZhciBlO3JldHVybiB5dCh0aGlzLG4pLChlPXQuY2FsbCh0aGlzKSkuXyRpbnB1dD1udWxsLGV9cmV0dXJuIGJ0KG4sW3trZXk6InVwZGF0ZVZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoKS5nZXRWYWx1ZSgpLHQ9RmwuaGV4U3RyaW5nRnJvbUJ5dGVzKGUpO3JldHVybiB0PUJsLmNodW5rKHQsMikuam9pbigiICIpLHRoaXMuXyRpbnB1dC52YWx1ZT10LHRoaXN9fSx7a2V5OiJyZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9QXQod3Qobi5wcm90b3R5cGUpLCJyZW5kZXIiLHRoaXMpLmNhbGwodGhpcyk7cmV0dXJuIGUuY2xhc3NMaXN0LmFkZCgiZmllbGQtYnl0ZSIpLGV9fSx7a2V5OiJyZW5kZXJGaWVsZCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuXyRpbnB1dD1ibi5jcmVhdGVFbGVtZW50KCJpbnB1dCIse2NsYXNzTmFtZToiZmllbGQtYnl0ZV9faW5wdXQiLGlkOnRoaXMuZ2V0SWQoKSx0eXBlOiJ0ZXh0IixzcGVsbGNoZWNrOiExLG9uSW5wdXQ6dGhpcy5pbnB1dFZhbHVlRGlkQ2hhbmdlLmJpbmQodGhpcyksb25Gb2N1czpmdW5jdGlvbih0KXtyZXR1cm4gZS5mb2N1cygpfSxvbkJsdXI6ZnVuY3Rpb24odCl7cmV0dXJuIGUuYmx1cigpfX0pO3ZhciB0PUF0KHd0KG4ucHJvdG90eXBlKSwicmVuZGVyRmllbGQiLHRoaXMpLmNhbGwodGhpcyk7cmV0dXJuIHQuY2xhc3NMaXN0LnJlbW92ZSgiZmllbGRfX2ZpZWxkIiksdC5jbGFzc0xpc3QuYWRkKCJmaWVsZC1ieXRlX19maWVsZCIpLHQuYXBwZW5kQ2hpbGQodGhpcy5fJGlucHV0KSx0fX0se2tleToiaW5wdXRWYWx1ZURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9QmwucmVtb3ZlV2hpdGVzcGFjZXModGhpcy5fJGlucHV0LnZhbHVlKTtpZihudWxsPT09dC5tYXRjaCgvXlswLTlhLWZdKyQvZ2kpKXJldHVybiB0aGlzLnNldE1lc3NhZ2UoIlRoZSB2YWx1ZSBjb250YWlucyBub24taGV4YWRlY2ltYWwgY2hhcmFjdGVycyIpO3RoaXMuY2xlYXJNZXNzYWdlKCk7dmFyIG49RmwuYnl0ZXNGcm9tSGV4U3RyaW5nKHQpO3RoaXMuZ2V0TW9kZWwoKS52aWV3VmFsdWVEaWRDaGFuZ2UodGhpcyxuKX19XSksbn0oS2wpLGx1PWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbihlKXt2YXIgcixpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4geXQodGhpcyxuKSwocj10LmNhbGwodGhpcyxlLGkpKS5fdmlld1Byb3RvdHlwZT1zdSxyLl92YWx1ZT1pLnZhbHVlfHxuZXcgVWludDhBcnJheSxyLl9taW5TaXplPW51bGwsci5fbWF4U2l6ZT1udWxsLHIuX3JhbmRvbWl6ZVNpemU9aS5yYW5kb21pemVTaXplfHxudWxsLHIuc2V0TWluU2l6ZShpLm1pblNpemV8fG51bGwsITEpLHIuc2V0TWF4U2l6ZShpLm1heFNpemV8fG51bGwsITEpLHJ9cmV0dXJuIGJ0KG4sW3trZXk6ImdldE1pblNpemUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pblNpemV9fSx7a2V5OiJzZXRNaW5TaXplIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO3JldHVybiB0aGlzLl9taW5TaXplPT09ZT90aGlzOih0aGlzLl9taW5TaXplPW51bGwhPT1lP3BhcnNlSW50KGUpOm51bGwsdD90aGlzLnJldmFsaWRhdGVWYWx1ZSgpOnRoaXMpfX0se2tleToiZ2V0TWF4U2l6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4U2l6ZX19LHtrZXk6InNldE1heFNpemUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuX21heFNpemU9PT1lP3RoaXM6KHRoaXMuX21heFNpemU9bnVsbCE9PWU/cGFyc2VJbnQoZSk6bnVsbCx0P3RoaXMucmV2YWxpZGF0ZVZhbHVlKCk6dGhpcyl9fSx7a2V5OiJ2YWxpZGF0ZVZhbHVlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/bnVsbCE9PXRoaXMuX21pblNpemUmJmUubGVuZ3RoPHRoaXMuX21pblNpemU/e2tleToiYnl0ZVNpemVUb29TaG9ydCIsbWVzc2FnZToiVGhlIHZhbHVlIG11c3QgYmUgYXQgbGVhc3QgIi5jb25jYXQodGhpcy5fbWluU2l6ZSwiICIpKyIiLmNvbmNhdCgxPT09dGhpcy5fbWluU2l6ZT8iYnl0ZSI6ImJ5dGVzIiwiIGxvbmcsICIpKyJmb3VuZCAiLmNvbmNhdChlLmxlbmd0aCwiICIpLmNvbmNhdCgxPT09ZS5sZW5ndGg/ImJ5dGUiOiJieXRlcyIpfTpudWxsIT09dGhpcy5fbWF4U2l6ZSYmZS5sZW5ndGg+dGhpcy5fbWF4U2l6ZT97a2V5OiJieXRlU2l6ZVRvb0xvbmciLG1lc3NhZ2U6IlRoZSB2YWx1ZSBtdXN0IG5vdCBleGNlZWQgIi5jb25jYXQodGhpcy5fbWF4U2l6ZSwiICIpKyIiLmNvbmNhdCgxPT09dGhpcy5fbWF4U2l6ZT8iYnl0ZSI6ImJ5dGVzIiwiIGluIGxlbmd0aCwgIikrImZvdW5kICIuY29uY2F0KGUubGVuZ3RoLCIgIikuY29uY2F0KDE9PT1lLmxlbmd0aD8iYnl0ZSI6ImJ5dGVzIil9OkF0KHd0KG4ucHJvdG90eXBlKSwidmFsaWRhdGVWYWx1ZSIsdGhpcykuY2FsbCh0aGlzLGUpOntrZXk6ImJ5dGVVbmV4cGVjdGVkVHlwZSIsbWVzc2FnZToiVGhlIHZhbHVlIGlzIGV4cGVjdGVkIHRvIGJlIG9mIHR5cGUgVWludDhBcnJheSJ9fX0se2tleToicmFuZG9taXplVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PUF0KHd0KG4ucHJvdG90eXBlKSwicmFuZG9taXplVmFsdWUiLHRoaXMpLmNhbGwodGhpcyxlKTtyZXR1cm4gbnVsbCE9PXQ/dDpudWxsIT09dGhpcy5fcmFuZG9taXplU2l6ZT9lLm5leHRCeXRlcyh0aGlzLl9yYW5kb21pemVTaXplKTpudWxsIT09dGhpcy5nZXRNaW5TaXplKCk/ZS5uZXh0Qnl0ZXModGhpcy5nZXRNaW5TaXplKCkpOnRoaXMuaXNWYWxpZCgpP2UubmV4dEJ5dGVzKHRoaXMuZ2V0VmFsdWUoKS5sZW5ndGgpOm51bGx9fSx7a2V5OiJzZXJpYWxpemVWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gRmwuYmFzZTY0U3RyaW5nRnJvbUJ5dGVzKHRoaXMuZ2V0VmFsdWUoKSl9fSx7a2V5OiJleHRyYWN0VmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoIlZhbHVlIG9mIGZpZWxkICciLmNvbmNhdCh0aGlzLmdldE5hbWUoKSwiJyBpcyBleHBlY3RlZCB0byBiZSBhIHZhbGlkICIpKyJiYXNlNjQgc3RyaW5nLiIpO3JldHVybiBGbC5ieXRlc0Zyb21CYXNlNjRTdHJpbmcoZSl9fSx7a2V5OiJ2aWV3VmFsdWVEaWRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5zZXRWYWx1ZSh0LGUpfX1dKSxufShudSksdXU9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5fc3R5bGU9ImRlZmF1bHQiLGUuXyRzZWxlY3Q9bnVsbCxlLl8kJHJhZGlvPVtdLGV9cmV0dXJuIGJ0KG4sW3trZXk6ImdldFN0eWxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHlsZX19LHtrZXk6InNldFN0eWxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc3R5bGUhPT1lJiYodGhpcy5fc3R5bGU9ZSx0aGlzLnJlZnJlc2goKSksdGhpc319LHtrZXk6InVwZGF0ZVZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoKS5nZXRTZWxlY3RlZEluZGV4KCk7cmV0dXJuInJhZGlvIj09PXRoaXMuZ2V0U3R5bGUoKT90aGlzLl8kJHJhZGlvLmZvckVhY2goKGZ1bmN0aW9uKHQsbil7dC5jaGVja2VkPW49PT1lfSkpOnRoaXMuXyRzZWxlY3QudmFsdWU9ZSx0aGlzfX0se2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPUF0KHd0KG4ucHJvdG90eXBlKSwicmVuZGVyIix0aGlzKS5jYWxsKHRoaXMpO3JldHVybiBlLmNsYXNzTmFtZSs9IiBmaWVsZC1lbnVtIGZpZWxkLWVudW0tLSIuY29uY2F0KHRoaXMuZ2V0U3R5bGUoKSksZX19LHtrZXk6InJlbmRlckZpZWxkIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmdldE1vZGVsKCkuZ2V0RWxlbWVudExhYmVscygpLHI9dGhpcy5nZXRNb2RlbCgpLmdldEVsZW1lbnREZXNjcmlwdGlvbnMoKSxpPUF0KHd0KG4ucHJvdG90eXBlKSwicmVuZGVyRmllbGQiLHRoaXMpLmNhbGwodGhpcyk7aWYoaS5jbGFzc0xpc3QucmVtb3ZlKCJmaWVsZF9fZmllbGQiKSxpLmNsYXNzTGlzdC5hZGQoImZpZWxkLWVudW1fX2ZpZWxkIiksInJhZGlvIj09PXRoaXMuZ2V0U3R5bGUoKSl7dGhpcy5fJCRyYWRpbz1bXTt2YXIgYT1ibi5jcmVhdGVFbGVtZW50KCJkaXYiLHtjbGFzc05hbWU6ImZpZWxkLWVudW1fX29wdGlvbnMiLHJvbGU6InJhZGlvZ3JvdXAiLGlkOnRoaXMuZ2V0SWQoKX0pO2kuYXBwZW5kQ2hpbGQoYSksdC5tYXAoKGZ1bmN0aW9uKHQsbil7dmFyIHI9IiIuY29uY2F0KGUuZ2V0SWQoKSwiLSIpLmNvbmNhdChuKzEpLGk9Ym4uY3JlYXRlRWxlbWVudCgiaW5wdXQiLHt0eXBlOiJyYWRpbyIsY2xhc3NOYW1lOiJmaWVsZC1lbnVtX19vcHRpb24tcmFkaW8iLGlkOnIsb25DaGFuZ2U6ZS52YWx1ZURpZENoYW5nZS5iaW5kKGUpLG5hbWU6ZS5nZXRJZCgpfSksbz1ibi5jcmVhdGVFbGVtZW50KCJkaXYiLHtjbGFzc05hbWU6ImZpZWxkLWVudW1fX29wdGlvbiJ9LFtpLGJuLmNyZWF0ZUVsZW1lbnQoImxhYmVsIix7aHRtbEZvcjpyLGNsYXNzTmFtZToiZmllbGQtZW51bV9fb3B0aW9uLWxhYmVsIn0sdCldKTtlLl8kJHJhZGlvLnB1c2goaSksYS5hcHBlbmRDaGlsZChvKX0pKX1lbHNle3ZhciBvPXQubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBibi5jcmVhdGVFbGVtZW50KCJvcHRpb24iLHt2YWx1ZTp0LHRpdGxlOnJbdF18fCIifSxlKX0pKTt0aGlzLl8kc2VsZWN0PWJuLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIse2NsYXNzTmFtZToiZmllbGQtZW51bV9fc2VsZWN0IixpZDp0aGlzLmdldElkKCksb25DaGFuZ2U6dGhpcy52YWx1ZURpZENoYW5nZS5iaW5kKHRoaXMpLG9uRm9jdXM6ZnVuY3Rpb24odCl7cmV0dXJuIGUuZm9jdXMoKX0sb25CbHVyOmZ1bmN0aW9uKHQpe3JldHVybiBlLmJsdXIoKX19LG8pLGkuYXBwZW5kQ2hpbGQodGhpcy5fJHNlbGVjdCl9cmV0dXJuIGl9fSx7a2V5OiJ2YWx1ZURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9InJhZGlvIj09PXRoaXMuZ2V0U3R5bGUoKT90aGlzLl8kJHJhZGlvLmZpbmRJbmRleCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hlY2tlZH0pKTpwYXJzZUludCh0aGlzLl8kc2VsZWN0LnZhbHVlKSxuPXRoaXMuZ2V0TW9kZWwoKS5nZXRFbGVtZW50QXQodCk7dGhpcy5nZXRNb2RlbCgpLnZpZXdWYWx1ZURpZENoYW5nZSh0aGlzLG4pfX1dKSxufShLbCksY3U9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKGUscil7dmFyIGk7cmV0dXJuIHl0KHRoaXMsbiksKGk9dC5jYWxsKHRoaXMsZSxyKSkuX3ZpZXdQcm90b3R5cGU9dXUsaS5fZWxlbWVudHM9W10saS5fbGFiZWxzPVtdLGkuX2Rlc2NyaXB0aW9ucz1bXSxpLl9zdHlsZT1yLnN0eWxlfHwiZGVmYXVsdCIsaS5zZXRFbGVtZW50cyhyLmVsZW1lbnRzLHIubGFiZWxzfHxudWxsLHIuZGVzY3JpcHRpb25zfHxudWxsLCExKSxpfXJldHVybiBidChuLFt7a2V5OiJnZXRFbGVtZW50cyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWxlbWVudHN9fSx7a2V5OiJnZXRFbGVtZW50TGFiZWxzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYWJlbHN9fSx7a2V5OiJnZXRFbGVtZW50RGVzY3JpcHRpb25zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXNjcmlwdGlvbnN9fSx7a2V5OiJzZXRFbGVtZW50cyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxyPSEoYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10pfHxhcmd1bWVudHNbM107aWYoMD09PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQXJyYXkgb2YgZWxlbWVudHMgY2FuJ3QgYmUgZW1wdHkuIik7aWYobnVsbCE9PXQmJmUubGVuZ3RoIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJFbGVtZW50IGFuZCBsYWJlbCBhcnJheXMgcmVxdWlyZSB0aGUgc2FtZSBsZW5ndGguIik7aWYobnVsbCE9PW4mJmUubGVuZ3RoIT09bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJFbGVtZW50IGFuZCBkZXNjcmlwdGlvbiBhcnJheXMgcmVxdWlyZSB0aGUgc2FtZSBsZW5ndGguIik7cmV0dXJuIHRoaXMuX2VsZW1lbnRzPWUsdGhpcy5fbGFiZWxzPW51bGwhPT10P3Q6ZSx0aGlzLl9kZXNjcmlwdGlvbnM9bnVsbCE9PW4/bjplLm1hcCgoZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pKSxudWxsPT09dGhpcy5fdmFsdWUmJih0aGlzLl92YWx1ZT10aGlzLl9lbGVtZW50c1swXSksdGhpcy5oYXNWaWV3KCkmJnRoaXMuZ2V0VmlldygpLnJlZnJlc2goKSxyP3RoaXMucmV2YWxpZGF0ZVZhbHVlKCk6dGhpc319LHtrZXk6ImdldEVsZW1lbnRBdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU8dGhpcy5fZWxlbWVudHMubGVuZ3RoP3RoaXMuX2VsZW1lbnRzW2VdOm51bGx9fSx7a2V5OiJnZXRTZWxlY3RlZEluZGV4Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbGVtZW50cy5pbmRleE9mKHRoaXMuZ2V0VmFsdWUoKSl9fSx7a2V5OiJzZXRTZWxlY3RlZEluZGV4Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9lbGVtZW50c1tlXTtyZXR1cm4gdGhpcy5zZXRWYWx1ZSh0KX19LHtrZXk6ImdldFN0eWxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHlsZX19LHtrZXk6InNldFN0eWxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc3R5bGU9ZSx0aGlzLmhhc1ZpZXcoKSYmdGhpcy5nZXRWaWV3KCkuc2V0U3R5bGUoZSksdGhpc319LHtrZXk6InZhbGlkYXRlVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybi0xPT09dGhpcy5fZWxlbWVudHMuaW5kZXhPZihlKT97a2V5OiJlbnVtTm90SW5IYXlzdGFjayIsbWVzc2FnZToiVGhlIHZhbHVlIG11c3QgYmUgb2NjdXIgaW4gdGhlIGxpc3Qgb2YgZWxlbWVudHMifTpBdCh3dChuLnByb3RvdHlwZSksInZhbGlkYXRlVmFsdWUiLHRoaXMpLmNhbGwodGhpcyxlKX19LHtrZXk6InJhbmRvbWl6ZVZhbHVlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1BdCh3dChuLnByb3RvdHlwZSksInJhbmRvbWl6ZVZhbHVlIix0aGlzKS5jYWxsKHRoaXMsZSk7cmV0dXJuIG51bGwhPT10P3Q6ZS5uZXh0Q2hvaWNlKHRoaXMuX2VsZW1lbnRzKX19LHtrZXk6InZpZXdWYWx1ZURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnNldFZhbHVlKHQsZSl9fSx7a2V5OiJkaWRDcmVhdGVWaWV3Iix2YWx1ZTpmdW5jdGlvbihlKXtBdCh3dChuLnByb3RvdHlwZSksImRpZENyZWF0ZVZpZXciLHRoaXMpLmNhbGwodGhpcyxlKSx0aGlzLmdldFZpZXcoKS5zZXRTdHlsZSh0aGlzLmdldFN0eWxlKCkpfX1dKSxufShudSksaHU9Ilx0XG5cdlxmXHIgwqDhmoDigIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcdTIwMjhcdTIwMjlcdWZlZmYiLGR1PSJbIitodSsiXSIsZnU9UmVnRXhwKCJeIitkdStkdSsiKiIpLGd1PVJlZ0V4cChkdStkdSsiKiQiKSxwdT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49U3RyaW5nKGIodCkpO3JldHVybiAxJmUmJihuPW4ucmVwbGFjZShmdSwiIikpLDImZSYmKG49bi5yZXBsYWNlKGd1LCIiKSksbn19LHZ1PXtzdGFydDpwdSgxKSxlbmQ6cHUoMiksdHJpbTpwdSgzKX0seXU9U2UuZixtdT1NLmYsYnU9UC5mLGt1PXZ1LnRyaW0sd3U9Ik51bWJlciIsX3U9cy5OdW1iZXIsU3U9X3UucHJvdG90eXBlLHh1PXAocHIoU3UpKT09d3UsSXU9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksYSxvLHMsbCx1PV8oZSwhMSk7aWYoInN0cmluZyI9PXR5cGVvZiB1JiZ1Lmxlbmd0aD4yKWlmKDQzPT09KHQ9KHU9a3UodSkpLmNoYXJDb2RlQXQoMCkpfHw0NT09PXQpe2lmKDg4PT09KG49dS5jaGFyQ29kZUF0KDIpKXx8MTIwPT09bilyZXR1cm4gTmFOfWVsc2UgaWYoNDg9PT10KXtzd2l0Y2godS5jaGFyQ29kZUF0KDEpKXtjYXNlIDY2OmNhc2UgOTg6cj0yLGk9NDk7YnJlYWs7Y2FzZSA3OTpjYXNlIDExMTpyPTgsaT01NTticmVhaztkZWZhdWx0OnJldHVybit1fWZvcihvPShhPXUuc2xpY2UoMikpLmxlbmd0aCxzPTA7czxvO3MrKylpZigobD1hLmNoYXJDb2RlQXQocykpPDQ4fHxsPmkpcmV0dXJuIE5hTjtyZXR1cm4gcGFyc2VJbnQoYSxyKX1yZXR1cm4rdX07aWYoUGUod3UsIV91KCIgMG8xIil8fCFfdSgiMGIxIil8fF91KCIrMHgxIikpKXtmb3IodmFyIEN1LFZ1PWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8MT8wOmUsbj10aGlzO3JldHVybiBuIGluc3RhbmNlb2YgVnUmJih4dT9sKChmdW5jdGlvbigpe1N1LnZhbHVlT2YuY2FsbChuKX0pKTpwKG4pIT13dSk/d28obmV3IF91KEl1KHQpKSxuLFZ1KTpJdSh0KX0sRXU9dT95dShfdSk6Ik1BWF9WQUxVRSxNSU5fVkFMVUUsTmFOLE5FR0FUSVZFX0lORklOSVRZLFBPU0lUSVZFX0lORklOSVRZLEVQU0lMT04saXNGaW5pdGUsaXNJbnRlZ2VyLGlzTmFOLGlzU2FmZUludGVnZXIsTUFYX1NBRkVfSU5URUdFUixNSU5fU0FGRV9JTlRFR0VSLHBhcnNlRmxvYXQscGFyc2VJbnQsaXNJbnRlZ2VyIi5zcGxpdCgiLCIpLEF1PTA7RXUubGVuZ3RoPkF1O0F1KyspeChfdSxDdT1FdVtBdV0pJiYheChWdSxDdSkmJmJ1KFZ1LEN1LG11KF91LEN1KSk7VnUucHJvdG90eXBlPVN1LFN1LmNvbnN0cnVjdG9yPVZ1LGFlKHMsd3UsVnUpfU9lKHt0YXJnZXQ6Ik51bWJlciIsc3RhdDohMH0se01BWF9TQUZFX0lOVEVHRVI6OTAwNzE5OTI1NDc0MDk5MX0pLE9lKHt0YXJnZXQ6Ik51bWJlciIsc3RhdDohMH0se01JTl9TQUZFX0lOVEVHRVI6LTkwMDcxOTkyNTQ3NDA5OTF9KTt2YXIgTXUsVHUsTHUsUHU9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5fJGlucHV0PW51bGwsZS5fZGlzcGxheUVuYWJsZWQ9ITEsZS5fJGRpc3BsYXk9bnVsbCxlLl8kZGlzcGxheVZhbHVlPW51bGwsZS5fJGRpc3BsYXlEZXNjcmlwdGlvbj1udWxsLGV9cmV0dXJuIGJ0KG4sW3trZXk6InVwZGF0ZVZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoKS5nZXRWYWx1ZSgpO3JldHVybiB0aGlzLl8kaW5wdXQudmFsdWU9ZS50b1N0cmluZygpLHRoaXMuX3VwZGF0ZVZhbHVlRGlzcGxheSgpLHRoaXN9fSx7a2V5OiJfdXBkYXRlVmFsdWVEaXNwbGF5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoKS5nZXRWYWx1ZSgpLHQ9dGhpcy5nZXRNb2RlbCgpLmdldFZhbHVlRGVzY3JpcHRpb24oKSxuPW51bGwhPT10O3JldHVybiB0aGlzLl9kaXNwbGF5RW5hYmxlZCE9PW4mJih0aGlzLl9kaXNwbGF5RW5hYmxlZD1uLG4/dGhpcy5fJGRpc3BsYXkuY2xhc3NMaXN0LmFkZCgiZmllbGQtbnVtYmVyX19kaXNwbGF5LS1lbmFibGVkIik6KHRoaXMuXyRkaXNwbGF5LmNsYXNzTGlzdC5yZW1vdmUoImZpZWxkLW51bWJlcl9fZGlzcGxheS0tZW5hYmxlZCIpLHRoaXMuXyRkaXNwbGF5VmFsdWUuaW5uZXJUZXh0PSIiLHRoaXMuXyRkaXNwbGF5RGVzY3JpcHRpb24uaW5uZXJUZXh0PSIiKSksbiYmKHRoaXMuXyRkaXNwbGF5VmFsdWUuaW5uZXJUZXh0PWUudG9TdHJpbmcoKSx0aGlzLl8kZGlzcGxheURlc2NyaXB0aW9uLmlubmVyVGV4dD10KSx0aGlzfX0se2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPUF0KHd0KG4ucHJvdG90eXBlKSwicmVuZGVyIix0aGlzKS5jYWxsKHRoaXMpO3JldHVybiBlLmNsYXNzTGlzdC5hZGQoImZpZWxkLW51bWJlciIpLGV9fSx7a2V5OiJyZW5kZXJGaWVsZCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuXyRpbnB1dD1ibi5jcmVhdGVFbGVtZW50KCJpbnB1dCIse2NsYXNzTmFtZToiZmllbGQtbnVtYmVyX19pbnB1dCIsaWQ6dGhpcy5nZXRJZCgpLHR5cGU6Im51bWJlciIsb25JbnB1dDp0aGlzLmlucHV0VmFsdWVEaWRDaGFuZ2UuYmluZCh0aGlzKSxvbkZvY3VzOmZ1bmN0aW9uKHQpe3JldHVybiBlLmZvY3VzKCl9LG9uQmx1cjpmdW5jdGlvbih0KXtyZXR1cm4gZS5ibHVyKCl9fSksdGhpcy5fJGRpc3BsYXlWYWx1ZT1ibi5jcmVhdGVFbGVtZW50KCJzcGFuIix7Y2xhc3NOYW1lOiJmaWVsZC1udW1iZXJfX2Rpc3BsYXktdmFsdWUifSksdGhpcy5fJGRpc3BsYXlEZXNjcmlwdGlvbj1ibi5jcmVhdGVFbGVtZW50KCJzcGFuIix7Y2xhc3NOYW1lOiJmaWVsZC1udW1iZXJfX2Rpc3BsYXktZGVzY3JpcHRpb24ifSksdGhpcy5fJGRpc3BsYXk9Ym4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJmaWVsZC1udW1iZXJfX2Rpc3BsYXkifSxbdGhpcy5fJGRpc3BsYXlWYWx1ZSx0aGlzLl8kZGlzcGxheURlc2NyaXB0aW9uXSk7dmFyIHQ9Ym4uY3JlYXRlRWxlbWVudCgiYnV0dG9uIix7Y2xhc3NOYW1lOiJmaWVsZC1udW1iZXJfX2J0bi1zdGVwLWRvd24iLG9uQ2xpY2s6dGhpcy5zdGVwRG93bkJ1dHRvbkRpZENsaWNrLmJpbmQodGhpcyl9LCJTdGVwIERvd24iKSxyPWJuLmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToiZmllbGQtbnVtYmVyX192YWx1ZSJ9LFt0aGlzLl8kaW5wdXQsdGhpcy5fJGRpc3BsYXldKSxpPWJuLmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIse2NsYXNzTmFtZToiZmllbGQtbnVtYmVyX19idG4tc3RlcC11cCIsb25DbGljazp0aGlzLnN0ZXBVcEJ1dHRvbkRpZENsaWNrLmJpbmQodGhpcyl9LCJTdGVwIFVwIiksYT1BdCh3dChuLnByb3RvdHlwZSksInJlbmRlckZpZWxkIix0aGlzKS5jYWxsKHRoaXMpO3JldHVybiBhLmNsYXNzTGlzdC5yZW1vdmUoImZpZWxkX19maWVsZCIpLGEuY2xhc3NMaXN0LmFkZCgiZmllbGQtbnVtYmVyX19maWVsZCIpLGEuYXBwZW5kQ2hpbGQodCksYS5hcHBlbmRDaGlsZChyKSxhLmFwcGVuZENoaWxkKGkpLGF9fSx7a2V5OiJpbnB1dFZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmdldE1vZGVsKCkudmlld1ZhbHVlRGlkQ2hhbmdlKHRoaXMsdGhpcy5fJGlucHV0LnZhbHVlKSx0aGlzLl91cGRhdGVWYWx1ZURpc3BsYXkoKX19LHtrZXk6InN0ZXBEb3duQnV0dG9uRGlkQ2xpY2siLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldE1vZGVsKCkuc3RlcERvd24oKSxlLnByZXZlbnREZWZhdWx0KCksITF9fSx7a2V5OiJzdGVwVXBCdXR0b25EaWRDbGljayIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0TW9kZWwoKS5zdGVwVXAoKSxlLnByZXZlbnREZWZhdWx0KCksITF9fV0pLG59KEtsKSxCdT1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oZSxyKXt2YXIgaTtyZXR1cm4geXQodGhpcyxuKSwoaT10LmNhbGwodGhpcyxlLHIpKS5fdmlld1Byb3RvdHlwZT1QdSxpLl9pbnRlZ2VyPXIuaW50ZWdlcnx8ITEsaS5fdXNlQmlnSW50PXIudXNlQmlnSW50JiZpLl9pbnRlZ2VyLGkuX3N0ZXA9ci5zdGVwfHwxLGkuX21pbj12b2lkIDAhPT1yLm1pbj9yLm1pbjppLl9pbnRlZ2VyJiYhaS5fdXNlQmlnSW50P051bWJlci5NSU5fU0FGRV9JTlRFR0VSOm51bGwsaS5fbWF4PXZvaWQgMCE9PXIubWF4P3IubWF4OmkuX2ludGVnZXImJiFpLl91c2VCaWdJbnQ/TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI6bnVsbCxpLl9yb3RhdGU9dm9pZCAwIT09ci5yb3RhdGU/ci5yb3RhdGU6dm9pZCAwIT09ci5taW4mJnZvaWQgMCE9PXIubWF4LGkuX2Rlc2NyaWJlVmFsdWVDYWxsYmFjaz1yLmRlc2NyaWJlVmFsdWV8fG51bGwsaX1yZXR1cm4gYnQobixbe2tleToiaXNJbnRlZ2VyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlZ2VyfX0se2tleToic2V0SW50ZWdlciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludGVnZXI9ZSx0aGlzLnJldmFsaWRhdGVWYWx1ZSgpfX0se2tleToiZ2V0U3RlcCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlcH19LHtrZXk6InNldFN0ZXAiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdGVwPWUsdGhpc319LHtrZXk6InN0ZXBWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEwMCxuPXRoaXMuZ2V0VmFsdWUoKSxyPTAsaT0hMTtmb3IoImJpZ2ludCIhPXR5cGVvZiBuJiYiYmlnaW50IiE9dHlwZW9mIGV8fChuPUJpZ0ludChuKSxlPUJpZ0ludChlKSk7IWkmJnIrKzx0JiYodGhpcy5fcm90YXRlfHxlPjB8fG4hPXRoaXMuX21pbikmJih0aGlzLl9yb3RhdGV8fGU8MHx8biE9dGhpcy5fbWF4KTspbis9ZSx0aGlzLl9yb3RhdGUmJm4+dGhpcy5fbWF4JiZ0aGlzLl9yb3RhdGU/bj10aGlzLl9taW46dGhpcy5fcm90YXRlJiZuPHRoaXMuX21pbiYmdGhpcy5fcm90YXRlJiYobj10aGlzLl9tYXgrZSksaT0hMD09PXRoaXMudmFsaWRhdGVWYWx1ZShuKTtyZXR1cm4gaT9uOm51bGx9fSx7a2V5OiJzdGVwVXAiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGVwVmFsdWUodGhpcy5fc3RlcCk7cmV0dXJuIG51bGwhPT1lP3RoaXMuc2V0VmFsdWUoZSk6dGhpc319LHtrZXk6InN0ZXBEb3duIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RlcFZhbHVlKC10aGlzLl9zdGVwKTtyZXR1cm4gbnVsbCE9PWU/dGhpcy5zZXRWYWx1ZShlKTp0aGlzfX0se2tleToiZ2V0TWluIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW59fSx7a2V5OiJzZXRNaW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9taW49ZSx0aGlzLnJldmFsaWRhdGVWYWx1ZSgpfX0se2tleToiZ2V0TWF4Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXh9fSx7a2V5OiJzZXRNYXgiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9tYXg9ZSx0aGlzLnJldmFsaWRhdGVWYWx1ZSgpfX0se2tleToiaXNSb3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0ZX19LHtrZXk6InNldFJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3JvdGF0ZT1lJiZudWxsIT09dGhpcy5fbWluJiZudWxsIT09dGhpcy5fbWF4LHRoaXN9fSx7a2V5OiJnZXRWYWx1ZURlc2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVmFsaWQoKSYmbnVsbCE9PXRoaXMuX2Rlc2NyaWJlVmFsdWVDYWxsYmFjaz90aGlzLl9kZXNjcmliZVZhbHVlQ2FsbGJhY2sodGhpcy5nZXRWYWx1ZSgpLHRoaXMpOm51bGx9fSx7a2V5OiJzZXROZWVkc1ZhbHVlRGVzY3JpcHRpb25VcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5oYXNWaWV3KCkmJnRoaXMuZ2V0VmlldygpLnVwZGF0ZVZhbHVlKCl9fSx7a2V5OiJ2YWxpZGF0ZVZhbHVlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmZpbHRlclZhbHVlKGUpO3JldHVybiJiaWdpbnQiPT10eXBlb2YgdHx8IWlzTmFOKHQpJiZpc0Zpbml0ZSh0KT9udWxsIT09dGhpcy5fbWluJiZ0PHRoaXMuX21pbj97a2V5OiJudW1iZXJUb29TbWFsbCIsbWVzc2FnZToiVGhlIHZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICIuY29uY2F0KHRoaXMuX21pbil9Om51bGwhPT10aGlzLl9tYXgmJnQ+PXRoaXMuX21heD97a2V5OiJudW1iZXJUb29MYXJnZSIsbWVzc2FnZToiVGhlIHZhbHVlIG11c3QgYmUgbGVzcyB0aGFuICIuY29uY2F0KHRoaXMuX21heCl9OkF0KHd0KG4ucHJvdG90eXBlKSwidmFsaWRhdGVWYWx1ZSIsdGhpcykuY2FsbCh0aGlzLHQpOntrZXk6Im51bWJlck5vdE51bWVyaWMiLG1lc3NhZ2U6IlRoZSB2YWx1ZSBpcyBub3QgbnVtZXJpYyJ9fX0se2tleToiZmlsdGVyVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX3VzZUJpZ0ludCYmImJpZ2ludCI9PXR5cGVvZiBlKTtlbHNlIGlmKHRoaXMuX3VzZUJpZ0ludCYmImJpZ2ludCIhPXR5cGVvZiBlKXt2YXIgdD1wYXJzZUludChlKTt0Pj1OdW1iZXIuTUlOX1NBRkVfSU5URUdFUiYmdDw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI/ZT10OmlzTmFOKHQpfHwoZT1CaWdJbnQoZSkpfWVsc2UgZT10aGlzLl9pbnRlZ2VyP3BhcnNlSW50KGUpOnBhcnNlRmxvYXQoZSk7cmV0dXJuIEF0KHd0KG4ucHJvdG90eXBlKSwiZmlsdGVyVmFsdWUiLHRoaXMpLmNhbGwodGhpcyxlKX19LHtrZXk6InJhbmRvbWl6ZVZhbHVlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1BdCh3dChuLnByb3RvdHlwZSksInJhbmRvbWl6ZVZhbHVlIix0aGlzKS5jYWxsKHRoaXMsZSk7cmV0dXJuIG51bGwhPT10P3Q6bnVsbCE9PXRoaXMuX21pbiYmbnVsbCE9PXRoaXMuX21heD90aGlzLl9pbnRlZ2VyP2UubmV4dEludGVnZXIodGhpcy5fbWluLE1hdGguY2VpbCh0aGlzLl9tYXgpLTEpOmUubmV4dEZsb2F0KHRoaXMuX21pbix0aGlzLl9tYXgpOm51bGx9fSx7a2V5OiJzZXJpYWxpemVWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFZhbHVlKCk7cmV0dXJuImJpZ2ludCI9PXR5cGVvZiBlP2UudG9TdHJpbmcoKTplfX0se2tleToidmlld1ZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuc2V0VmFsdWUodCxlKX19XSksbn0obnUpLE91PWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3ZhciBlO3JldHVybiB5dCh0aGlzLG4pLChlPXQuY2FsbCh0aGlzKSkuXyRpbnB1dD1udWxsLGV9cmV0dXJuIGJ0KG4sW3trZXk6InVwZGF0ZVZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8kaW5wdXQudmFsdWU9dGhpcy5nZXRNb2RlbCgpLmdldFZhbHVlKCkuZ2V0U3RyaW5nKCksdGhpc319LHtrZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1BdCh3dChuLnByb3RvdHlwZSksInJlbmRlciIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gZS5jbGFzc0xpc3QuYWRkKCJmaWVsZC10ZXh0IiksZX19LHtrZXk6InJlbmRlckZpZWxkIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fJGlucHV0PWJuLmNyZWF0ZUVsZW1lbnQoImlucHV0Iix7Y2xhc3NOYW1lOiJmaWVsZC10ZXh0X19pbnB1dCIsaWQ6dGhpcy5nZXRJZCgpLHR5cGU6InRleHQiLHNwZWxsY2hlY2s6ITEsb25JbnB1dDp0aGlzLmlucHV0VmFsdWVEaWRDaGFuZ2UuYmluZCh0aGlzKSxvbkZvY3VzOmZ1bmN0aW9uKHQpe3JldHVybiBlLmZvY3VzKCl9LG9uQmx1cjpmdW5jdGlvbih0KXtyZXR1cm4gZS5ibHVyKCl9fSk7dmFyIHQ9QXQod3Qobi5wcm90b3R5cGUpLCJyZW5kZXJGaWVsZCIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gdC5jbGFzc0xpc3QucmVtb3ZlKCJmaWVsZF9fZmllbGQiKSx0LmNsYXNzTGlzdC5hZGQoImZpZWxkLXRleHRfX2ZpZWxkIiksdC5hcHBlbmRDaGlsZCh0aGlzLl8kaW5wdXQpLHR9fSx7a2V5OiJpbnB1dFZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmdldE1vZGVsKCkudmlld1ZhbHVlRGlkQ2hhbmdlKHRoaXMsdGhpcy5fJGlucHV0LnZhbHVlKX19XSksbn0oS2wpLFJ1PWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbihlKXt2YXIgcixpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4geXQodGhpcyxuKSwocj10LmNhbGwodGhpcyxlLGkpKS5fdmlld1Byb3RvdHlwZT1PdSxyLl92YWx1ZT1xbC53cmFwKGkudmFsdWV8fG51bGwpLHIuX21pbkxlbmd0aD1udWxsLHIuX21heExlbmd0aD1udWxsLHIuX3doaXRlbGlzdENoYXJzPW51bGwsci5fYmxhY2tsaXN0Q2hhcnM9bnVsbCxyLl91bmlxdWVDaGFycz0hMSxyLl9jYXNlU2Vuc2l0aXZpdHk9bnVsbCxyLnNldE1pbkxlbmd0aCh2b2lkIDAhPT1pLm1pbkxlbmd0aD9pLm1pbkxlbmd0aDpudWxsLCExKSxyLnNldE1heExlbmd0aCh2b2lkIDAhPT1pLm1heExlbmd0aD9pLm1heExlbmd0aDpudWxsLCExKSxyLnNldFdoaXRlbGlzdENoYXJzKGkud2hpdGVsaXN0Q2hhcnN8fG51bGwsITEpLHIuc2V0QmxhY2tsaXN0Q2hhcnMoaS5ibGFja2xpc3RDaGFyc3x8bnVsbCwhMSksci5zZXRVbmlxdWVDaGFycyhpLnVuaXF1ZUNoYXJzfHwhMSwhMSksci5zZXRDYXNlU2Vuc2l0aXZpdHkoITEhPT1pLmNhc2VTZW5zaXRpdml0eSwhMSkscn1yZXR1cm4gYnQobixbe2tleToiZ2V0TWluTGVuZ3RoIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW5MZW5ndGh9fSx7a2V5OiJzZXRNaW5MZW5ndGgiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuX21pbkxlbmd0aD09PWU/dGhpczoodGhpcy5fbWluTGVuZ3RoPW51bGwhPT1lP3BhcnNlSW50KGUpOm51bGwsdD90aGlzLnJldmFsaWRhdGVWYWx1ZSgpOnRoaXMpfX0se2tleToiZ2V0TWF4TGVuZ3RoIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhMZW5ndGh9fSx7a2V5OiJzZXRNYXhMZW5ndGgiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuX21heExlbmd0aD09PWU/dGhpczoodGhpcy5fbWF4TGVuZ3RoPW51bGwhPT1lP3BhcnNlSW50KGUpOm51bGwsdD90aGlzLnJldmFsaWRhdGVWYWx1ZSgpOnRoaXMpfX0se2tleToiZ2V0V2hpdGVsaXN0Q2hhcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3doaXRlbGlzdENoYXJzfX0se2tleToic2V0V2hpdGVsaXN0Q2hhcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuX3doaXRlbGlzdENoYXJzPW51bGwhPT1lP3FsLndyYXAoZSkuZ2V0Q29kZVBvaW50cygpOm51bGwsdD90aGlzLnJldmFsaWRhdGVWYWx1ZSgpOnRoaXN9fSx7a2V5OiJnZXRCbGFja2xpc3RDaGFycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmxhY2tsaXN0Q2hhcnN9fSx7a2V5OiJzZXRCbGFja2xpc3RDaGFycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5fYmxhY2tsaXN0Q2hhcnM9bnVsbCE9PWU/cWwud3JhcChlKS5nZXRDb2RlUG9pbnRzKCk6bnVsbCx0P3RoaXMucmV2YWxpZGF0ZVZhbHVlKCk6dGhpc319LHtrZXk6ImlzVW5pcXVlQ2hhcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VuaXF1ZUNoYXJzfX0se2tleToic2V0VW5pcXVlQ2hhcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuX3VuaXF1ZUNoYXJzPT09ZT90aGlzOih0aGlzLl91bmlxdWVDaGFycz1lLHQ/dGhpcy5yZXZhbGlkYXRlVmFsdWUoKTp0aGlzKX19LHtrZXk6ImlzQ2FzZVNlbnNpdGl2ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FzZVNlbnNpdGl2aXR5fX0se2tleToic2V0Q2FzZVNlbnNpdGl2aXR5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO3JldHVybiB0aGlzLl9jYXNlU2Vuc2l0aXZpdHk9PT1lP3RoaXM6KHRoaXMuX2Nhc2VTZW5zaXRpdml0eT1lLHQ/dGhpcy5yZXZhbGlkYXRlVmFsdWUoKTp0aGlzKX19LHtrZXk6InZhbGlkYXRlVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlLnRvU3RyaW5nKXJldHVybntrZXk6InRleHRJbnZhbGlkU3RyaW5nIixtZXNzYWdlOiJUaGUgdmFsdWUgY2FuJ3QgYmUgY2FzdGVkIHRvIGEgc3RyaW5nIn07dmFyIHQ9dGhpcy5maWx0ZXJWYWx1ZShlKTtpZihudWxsIT09dGhpcy5fbWluTGVuZ3RoJiZ0LmdldExlbmd0aCgpPHRoaXMuX21pbkxlbmd0aClyZXR1cm57a2V5OiJ0ZXh0TGVuZ3RoVG9vU2hvcnQiLG1lc3NhZ2U6IlRoZSB2YWx1ZSBtdXN0IGJlIGF0IGxlYXN0ICIuY29uY2F0KHRoaXMuX21pbkxlbmd0aCwiICIpKyIiLmNvbmNhdCgxPT09dGhpcy5fbWluTGVuZ3RoPyJjaGFyYWN0ZXIiOiJjaGFyYWN0ZXJzIiwiIGxvbmciKX07aWYobnVsbCE9PXRoaXMuX21heExlbmd0aCYmdC5nZXRMZW5ndGgoKT50aGlzLl9tYXhMZW5ndGgpcmV0dXJue2tleToidGV4dExlbmd0aFRvb0xvbmciLG1lc3NhZ2U6IlRoZSB2YWx1ZSBtdXN0IG5vdCBleGNlZWQgIi5jb25jYXQodGhpcy5fbWF4TGVuZ3RoLCIgIikrIiIuY29uY2F0KDE9PT10aGlzLl9tYXhMZW5ndGg/ImNoYXJhY3RlciI6ImNoYXJhY3RlcnMiLCIgaW4gbGVuZ3RoIil9O2lmKHRoaXMuX3VuaXF1ZUNoYXJzJiYhYWwuaXNVbmlxdWUodC5nZXRDb2RlUG9pbnRzKCkpKXJldHVybntrZXk6InRleHRDaGFyYWN0ZXJzTm90VW5pcXVlIixtZXNzYWdlOiJUaGUgdmFsdWUgbXVzdCBub3QgY29udGFpbiBkdXBsaWNhdGUgY2hhcmFjdGVycyJ9O2lmKG51bGwhPT10aGlzLl93aGl0ZWxpc3RDaGFyc3x8bnVsbCE9PXRoaXMuX2JsYWNrbGlzdENoYXJzKXtmb3IodmFyIHIsaT10aGlzLl93aGl0ZWxpc3RDaGFycyxhPXRoaXMuX2JsYWNrbGlzdENoYXJzLG89W10scz0wO3M8dC5nZXRMZW5ndGgoKTtzKyspcj10LmdldENvZGVQb2ludEF0KHMpLChudWxsIT09aSYmLTE9PT1pLmluZGV4T2Yocil8fG51bGwhPT1hJiYtMSE9PWEuaW5kZXhPZihyKSkmJm8ucHVzaCh0LmdldENoYXJBdChzKSk7aWYoby5sZW5ndGg+MClyZXR1cm4gbz1hbC51bmlxdWUobykse2tleToidGV4dEZvcmJpZGRlbkNoYXJhY3RlciIsbWVzc2FnZToiVGhlIHZhbHVlIGNvbnRhaW5zIGZvcmJpZGRlbiBjaGFyYWN0ZXJzOiAiKyInIi5jb25jYXQoby5qb2luKCIiKSwiJyIpfX1yZXR1cm4gQXQod3Qobi5wcm90b3R5cGUpLCJ2YWxpZGF0ZVZhbHVlIix0aGlzKS5jYWxsKHRoaXMsdCl9fSx7a2V5OiJmaWx0ZXJWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9cWwud3JhcChlKSwhMT09PXRoaXMuX2Nhc2VTZW5zaXRpdml0eSYmKGU9ZS50b0xvd2VyQ2FzZSgpKSxxbC53cmFwKEF0KHd0KG4ucHJvdG90eXBlKSwiZmlsdGVyVmFsdWUiLHRoaXMpLmNhbGwodGhpcyxlKSl9fSx7a2V5OiJyYW5kb21pemVWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9QXQod3Qobi5wcm90b3R5cGUpLCJyYW5kb21pemVWYWx1ZSIsdGhpcykuY2FsbCh0aGlzLGUpO2lmKG51bGwhPT10KXJldHVybiB0O2lmKHRoaXMuaXNWYWxpZCgpKXtpZih0aGlzLmlzVW5pcXVlQ2hhcnMoKSl7dmFyIHI9dGhpcy5nZXRWYWx1ZSgpLmdldENvZGVQb2ludHMoKTtyZXR1cm4gcWwud3JhcChhbC5zaHVmZmxlKHIsZSkpfWlmKG51bGwhPT10aGlzLmdldFdoaXRlbGlzdENoYXJzKCkpe2Zvcih2YXIgaT10aGlzLmdldFZhbHVlKCkuZ2V0TGVuZ3RoKCksYT1bXSxvPTA7bzxpO28rKylhLnB1c2goZS5uZXh0Q2hvaWNlKHRoaXMuZ2V0V2hpdGVsaXN0Q2hhcnMoKSkpO3JldHVybiBxbC53cmFwKGEpfX1yZXR1cm4gbnVsbH19LHtrZXk6InNlcmlhbGl6ZVZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFZhbHVlKCkuZ2V0U3RyaW5nKCl9fSx7a2V5OiJleHRyYWN0VmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoIlZhbHVlIG9mIGZpZWxkICciLmNvbmNhdCh0aGlzLmdldE5hbWUoKSwiJyBpcyBleHBlY3RlZCB0byBiZSBhIHN0cmluZy4iKSk7cmV0dXJuIHFsLndyYXAoZSl9fSx7a2V5OiJ2aWV3VmFsdWVEaWRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5zZXRWYWx1ZSh0LGUpfX1dKSxufShudSksenU9bnVsbCxOdT1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTt5dCh0aGlzLG4pLGU9dC5jYWxsKHRoaXMpO3ZhciByPXtib29sZWFuOm91LGJ5dGVzOmx1LGVudW06Y3UsbnVtYmVyOkJ1LHRleHQ6UnV9O2Zvcih2YXIgaSBpbiByKWUucmVnaXN0ZXIoaSxyW2ldKTtyZXR1cm4gZX1yZXR1cm4gYnQobixbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZS5uYW1lKXRocm93IG5ldyBFcnJvcigiRmllbGQgc3BlY2lmaWNhdGlvbiByZXF1aXJlcyBhICduYW1lJyBmaWVsZC4iKTtpZighZS50eXBlKXRocm93IG5ldyBFcnJvcigiRmllbGQgc3BlY2lmaWNhdGlvbiByZXF1aXJlcyBhICd0eXBlJyBmaWVsZC4iKTtpZighdGhpcy5leGlzdHMoZS50eXBlKSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gRmllbGQgdHlwZSAnIi5jb25jYXQoZS50eXBlLCInLiIpKTtyZXR1cm4gQXQod3Qobi5wcm90b3R5cGUpLCJjcmVhdGUiLHRoaXMpLmNhbGwodGhpcyxlLnR5cGUsZS5uYW1lLGUpfX1dLFt7a2V5OiJnZXRJbnN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXp1JiYoenU9bmV3IG4pLHp1fX1dKSxufShBbiksRnU9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGUscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10saT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbDtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLl92aWV3UHJvdG90eXBlPVhsLGUuX2RlbGVnYXRlPW51bGwsZS5fZmllbGRGYWN0b3J5PWksZS5fZmllbGRzPVtdLGUuYWRkRmllbGRzKHIpLGV9cmV0dXJuIGJ0KG4sW3trZXk6ImdldEZpZWxkcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmllbGRzLnNsaWNlKCl9fSx7a2V5OiJnZXRJbnZhbGlkRmllbGRzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWVsZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5pc1ZhbGlkKCl9KSl9fSx7a2V5OiJnZXRWaXNpYmxlRmllbGRzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWVsZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc1Zpc2libGUoKX0pKX19LHtrZXk6ImFkZEZpZWxkcyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9yRWFjaCh0aGlzLmFkZEZpZWxkLmJpbmQodGhpcykpLHRoaXN9fSx7a2V5OiJnZXRGaWVsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ZpZWxkcy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXROYW1lKCk9PT1lfSkpfHxudWxsfX0se2tleToiYWRkRmllbGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWU7aWYoIShlIGluc3RhbmNlb2YgbnUpKXt2YXIgbj1lO3ZvaWQgMD09PW4ucHJpb3JpdHkmJihuLnByaW9yaXR5PXRoaXMuX2NhbGN1bGF0ZURlZmF1bHRQcmlvcml0eSgpKSx0PXRoaXMuZ2V0RmllbGRGYWN0b3J5KCkuY3JlYXRlKG4pfWlmKHRoaXMuZ2V0RmllbGQodC5nZXROYW1lKCkpKXRocm93IG5ldyBFcnJvcigiTmFtZSAnIi5jb25jYXQodC5nZXROYW1lKCksIicgaXMgYWxyZWFkeSBhc3NpZ25lZCB0byBhIGZpZWxkLiIpKTtyZXR1cm4gdGhpcy5fZmllbGRzLnB1c2godCksdC5zZXREZWxlZ2F0ZSh0aGlzKSx0aGlzLl9zb3J0RmllbGRzKCksdC5pc1Zpc2libGUoKSYmdGhpcy5oYXNWaWV3KCkmJnRoaXMuZ2V0VmlldygpLmFkZFN1YnZpZXcodC5nZXRWaWV3KCkpLHRoaXN9fSx7a2V5OiJnZXRGaWVsZFZhbHVlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEZpZWxkKGUpO2lmKG51bGw9PT10KXRocm93IG5ldyBFcnJvcigiVGhlcmUgaXMgbm8gZmllbGQgYXNzaWduZWQgdG8gdGhlIG5hbWUgJyIuY29uY2F0KGUsIicuIikpO3JldHVybiB0LmdldFZhbHVlKCl9fSx7a2V5OiJzZXRGaWVsZFZhbHVlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0RmllbGQoZSk7aWYobnVsbD09PW4pdGhyb3cgbmV3IEVycm9yKCJUaGVyZSBpcyBubyBmaWVsZCBhc3NpZ25lZCB0byB0aGUgbmFtZSAnIi5jb25jYXQoZSwiJy4iKSk7cmV0dXJuIG4uc2V0VmFsdWUodCksdGhpc319LHtrZXk6ImdldEZpZWxkVmFsdWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB0aGlzLmdldFZpc2libGVGaWVsZHMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXtlW3QuZ2V0TmFtZSgpXT10LmdldFZhbHVlKCl9KSksZX19LHtrZXk6InNldEZpZWxkVmFsdWVzIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSl0aGlzLnNldEZpZWxkVmFsdWUodCxlW3RdKTtyZXR1cm4gdGhpc319LHtrZXk6ImdldEZpZWxkRmFjdG9yeSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX2ZpZWxkRmFjdG9yeSYmKHRoaXMuX2ZpZWxkRmFjdG9yeT1OdS5nZXRJbnN0YW5jZSgpKSx0aGlzLl9maWVsZEZhY3Rvcnl9fSx7a2V5OiJzZXRGaWVsZEZhY3RvcnkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9maWVsZEZhY3Rvcnk9ZSx0aGlzfX0se2tleToiaXNWYWxpZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuZ2V0SW52YWxpZEZpZWxkcygpLmxlbmd0aH19LHtrZXk6ImlzUmFuZG9taXphYmxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl9maWVsZHMuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNSYW5kb21pemFibGUoKX0pKX19LHtrZXk6InJhbmRvbWl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmllbGRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNWaXNpYmxlKCkmJmUuaXNSYW5kb21pemFibGUoKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5yYW5kb21pemUoKX0pKSx0aGlzfX0se2tleToiZ2V0RGVsZWdhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlfX0se2tleToic2V0RGVsZWdhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZT1lLHRoaXN9fSx7a2V5OiJzZXJpYWxpemVWYWx1ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIHRoaXMuZ2V0VmlzaWJsZUZpZWxkcygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdC5nZXROYW1lKCldPXQuc2VyaWFsaXplVmFsdWUoKX0pKSxlfX0se2tleToiZXh0cmFjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2V0RmllbGRWYWx1ZXModGhpcy5leHRyYWN0VmFsdWVzKGUpKX19LHtrZXk6ImV4dHJhY3RWYWx1ZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiIT09Z3QoZSkpdGhyb3cgbmV3IEVycm9yKCJTZXJpYWxpemVkIGZvcm0gdmFsdWVzIGlzIGV4cGVjdGVkIHRvIGJlIGFuIG9iamVjdCBtYXBwaW5nIGZpZWxkIG5hbWVzIHRvIHRoZWlyIHJlc3BlY3RpdmUgc2VyaWFsaXplZCB2YWx1ZXMuICIrIlJlY2VpdmVkIHZhbHVlIHR5cGUgJyIuY29uY2F0KGd0KGUpLCInLiIpKTt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSl7aWYoInN0cmluZyIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcigiRmllbGQgbmFtZSBpcyBleHBlY3RlZCB0byBiZSBhIHN0cmluZy4gIisiUmVjZWl2ZWQgdHlwZSAnIi5jb25jYXQoZ3QobiksIicuIikpO3ZhciByPXRoaXMuZ2V0RmllbGQobik7aWYobnVsbD09PXIpdGhyb3cgbmV3IEVycm9yKCJUaGVyZSBpcyBubyBmaWVsZCBhc3NpZ25lZCB0byB0aGUgbmFtZSAnIi5jb25jYXQobiwiJy4iKSk7dFtuXT1yLmV4dHJhY3RWYWx1ZShlW25dKX1yZXR1cm4gdH19LHtrZXk6Il9jYWxjdWxhdGVEZWZhdWx0UHJpb3JpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoMD09PXRoaXMuX2ZpZWxkcy5sZW5ndGgpcmV0dXJuIDA7Zm9yKHZhciBlPXRoaXMuX2ZpZWxkc1swXS5nZXRQcmlvcml0eSgpLHQ9MTt0PHRoaXMuX2ZpZWxkcy5sZW5ndGg7dCsrKWU9TWF0aC5taW4oZSx0aGlzLl9maWVsZHNbdF0uZ2V0UHJpb3JpdHkoKSk7cmV0dXJuIGUtMX19LHtrZXk6Il9zb3J0RmllbGRzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2ZpZWxkcy5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LmdldFByaW9yaXR5KCktZS5nZXRQcmlvcml0eSgpfSkpfX0se2tleToiZGlkQ3JlYXRlVmlldyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9maWVsZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmllbGROZWVkc0xheW91dChlKX0pKX19LHtrZXk6ImZpZWxkUHJpb3JpdHlEaWRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fc29ydEZpZWxkcygpfX0se2tleToiZmllbGROZWVkc0xheW91dCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5oYXNWaWV3KCkmJihlLmdldFZpZXcoKS5yZW1vdmVGcm9tU3VwZXJ2aWV3KCksZS5pc1Zpc2libGUoKSYmdGhpcy5nZXRWaWV3KCkuYWRkU3VidmlldyhlLmdldFZpZXcoKSkpfX0se2tleToiZmllbGRWYWx1ZURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9kZWxlZ2F0ZSYmdGhpcy5fZGVsZWdhdGUuZm9ybVZhbHVlRGlkQ2hhbmdlJiZ0aGlzLmdldERlbGVnYXRlKCkuZm9ybVZhbHVlRGlkQ2hhbmdlKHRoaXMsZSx0KX19XSksbn0odHUpLER1PWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3ZhciBlO3JldHVybiB5dCh0aGlzLG4pLChlPXQuY2FsbCh0aGlzKSkuX3BpcGU9bnVsbCxlLl92aWV3UHJvdG90eXBlPUpsLGUuX3NldHRpbmdzRm9ybT1uZXcgRnUsZS5fc2V0dGluZ3NGb3JtLnNldERlbGVnYXRlKEN0KGUpKSxlLl90aXRsZT1udWxsLGUuX2hpZGRlbj0hMSxlfXJldHVybiBidChuLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJCcmljayBzdGF0aWMgbWV0aG9kICdnZXRNZXRhJyBoYXMgbm90IGJlZW4gb3ZlcnJpZGRlbi4iKX19XSksYnQobixbe2tleToiZ2V0UGlwZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZX19LHtrZXk6Imhhc1BpcGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLl9waXBlfX0se2tleToic2V0UGlwZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3BpcGU9ZSx0aGlzfX0se2tleToiZ2V0TWV0YSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5nZXRNZXRhKCl9fSx7a2V5OiJnZXROYW1lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1ldGEoKS5uYW1lfX0se2tleToiZ2V0VGl0bGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl90aXRsZT90aGlzLmdldE1ldGEoKS50aXRsZTp0aGlzLl90aXRsZX19LHtrZXk6InNldFRpdGxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdGl0bGU9ZSYmZSE9PXRoaXMuZ2V0TWV0YSgpLnRpdGxlP2U6bnVsbCx0aGlzfX0se2tleToiaXNIaWRkZW4iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZGRlbn19LHtrZXk6InNldEhpZGRlbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLl9oaWRkZW4hPT1lJiYodGhpcy5faGlkZGVuPWUsdGhpcy5oYXNQaXBlKCkmJnRoaXMuZ2V0UGlwZSgpLmJyaWNrVmlzaWJpbGl0eURpZENoYW5nZSh0aGlzLGUpKSx0aGlzfX0se2tleToiZ2V0U2V0dGluZ3NGb3JtIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXR0aW5nc0Zvcm19fSx7a2V5OiJnZXRTZXR0aW5ncyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0dGluZ3NGb3JtLmdldEZpZWxkcygpfX0se2tleToiYWRkU2V0dGluZ3MiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zZXR0aW5nc0Zvcm0uYWRkRmllbGRzKGUpLHRoaXN9fSx7a2V5OiJnZXRTZXR0aW5nIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2V0dGluZ3NGb3JtLmdldEZpZWxkKGUpfX0se2tleToiYWRkU2V0dGluZyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NldHRpbmdzRm9ybS5hZGRGaWVsZChlKSx0aGlzfX0se2tleToiZ2V0U2V0dGluZ1ZhbHVlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2V0dGluZ3NGb3JtLmdldEZpZWxkVmFsdWUoZSl9fSx7a2V5OiJzZXRTZXR0aW5nVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3NldHRpbmdzRm9ybS5zZXRGaWVsZFZhbHVlKGUsdCksdGhpc319LHtrZXk6ImdldFNldHRpbmdWYWx1ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldHRpbmdzRm9ybS5nZXRGaWVsZFZhbHVlcygpfX0se2tleToic2V0U2V0dGluZ1ZhbHVlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NldHRpbmdzRm9ybS5zZXRGaWVsZFZhbHVlcyhlKSx0aGlzfX0se2tleToiaXNWYWxpZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0dGluZ3NGb3JtLmlzVmFsaWQoKX19LHtrZXk6ImlzU2V0dGluZ1ZhbGlkIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKyluW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gdm9pZCAwPT09bi5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4hZS5nZXRTZXR0aW5nKHQpLmlzVmFsaWQoKX0pKX19LHtrZXk6ImlzUmFuZG9taXphYmxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXR0aW5nc0Zvcm0uaXNSYW5kb21pemFibGUoKX19LHtrZXk6InJhbmRvbWl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0dGluZ3NGb3JtLnJhbmRvbWl6ZSgpLHRoaXN9fSx7a2V5OiJmb3JtVmFsdWVEaWRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtlPT09dGhpcy5fc2V0dGluZ3NGb3JtJiYodGhpcy5zZXR0aW5nVmFsdWVEaWRDaGFuZ2UodCxuKSx0aGlzLmhhc1BpcGUoKSYmdGhpcy5nZXRQaXBlKCkuYnJpY2tTZXR0aW5nRGlkQ2hhbmdlKHRoaXMpKX19LHtrZXk6InNldHRpbmdWYWx1ZURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt9fSx7a2V5OiJkaWRDcmVhdGVWaWV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmFkZFN1YnZpZXcodGhpcy5fc2V0dGluZ3NGb3JtLmdldFZpZXcoKSl9fSx7a2V5OiJ2aWV3TWVudUl0ZW1EaWRDbGljayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZXUudHJpZ2dlcigiYnJpY2tNZW51SXRlbUNsaWNrIix7YnJpY2s6dGhpcyxtZW51SXRlbTp0fSksdCl7Y2FzZSJyZW1vdmUiOnRoaXMuZ2V0UGlwZSgpLnJlbW92ZUJyaWNrKHRoaXMpO2JyZWFrO2Nhc2UiaGlkZSI6dGhpcy5zZXRIaWRkZW4oITApO2JyZWFrO2Nhc2UiZHVwbGljYXRlIjp0aGlzLmlzVmFsaWQoKSYmdGhpcy5nZXRQaXBlKCkuZHVwbGljYXRlQnJpY2sodGhpcyk7YnJlYWs7Y2FzZSJyYW5kb21pemUiOnRoaXMucmFuZG9taXplKCl9fX0se2tleToidmlld1JlcGxhY2VCdXR0b25EaWRDbGljayIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5oYXNQaXBlKCkmJihldS50cmlnZ2VyKCJicmlja1JlcGxhY2VCdXR0b25DbGljayIse2JyaWNrOnRoaXN9KSx0aGlzLmdldFBpcGUoKS5icmlja1JlcGxhY2VCdXR0b25EaWRDbGljayh0aGlzKSl9fSx7a2V5OiJzZXJpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e307ZS5uYW1lPXRoaXMuZ2V0TmFtZSgpLG51bGwhPT10aGlzLl90aXRsZSYmKGUudGl0bGU9dGhpcy5fdGl0bGUpLHRoaXMuaXNIaWRkZW4oKSYmKGUuaGlkZGVuPSEwKTt2YXIgdD10aGlzLl9zZXR0aW5nc0Zvcm0uc2VyaWFsaXplVmFsdWVzKCk7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmxlbmd0aD4wJiYoZS5zZXR0aW5ncz10KSxlfX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5pc1ZhbGlkKCkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGJyaWNrcyBjYW4ndCBiZSBjb3BpZWQuIik7dmFyIGU9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIGUuc2V0VGl0bGUodGhpcy5nZXRUaXRsZSgpKSxlLnNldEhpZGRlbih0aGlzLmlzSGlkZGVuKCkpLGUuc2V0U2V0dGluZ1ZhbHVlcyh0aGlzLmdldFNldHRpbmdWYWx1ZXMoKSksZX19XSxbe2tleToiZXh0cmFjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIGUubmFtZSl0aHJvdyBuZXcgRXJyb3IoIkJyaWNrIHByb3BlcnR5ICduYW1lJyBpcyBleHBlY3RlZCB0byBiZSBvZiB0eXBlICdzdHJpbmcnIik7dmFyIG49ZS5uYW1lO2lmKCF0LmV4aXN0cyhuKSl0aHJvdyBuZXcgRXJyb3IoIkJyaWNrIHByb3BlcnR5ICduYW1lJyByZWZlcnMgdG8gYW4gdW5rbm93biBicmljayAnIi5jb25jYXQobiwiJyIpKTt2YXIgcj10LmNyZWF0ZShuKTtpZih2b2lkIDAhPT1lLnRpdGxlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUudGl0bGUpdGhyb3cgbmV3IEVycm9yKCJPcHRpb25hbCBicmljayBwcm9wZXJ0eSAndGl0bGUnIGlzIGV4cGVjdGVkIHRvIGJlIG9mIHR5cGUgJ3N0cmluZyciKTtyLnNldFRpdGxlKGUudGl0bGUpfWlmKHZvaWQgMCE9PWUuaGlkZGVuKXtpZigiYm9vbGVhbiIhPXR5cGVvZiBlLmhpZGRlbil0aHJvdyBuZXcgRXJyb3IoIk9wdGlvbmFsIGJyaWNrIHByb3BlcnR5ICdoaWRkZW4nIGlzIGV4cGVjdGVkIHRvIGJlIG9mIHR5cGUgJ2Jvb2xlYW4nIik7ci5zZXRIaWRkZW4oZS5oaWRkZW4pfWlmKHZvaWQgMCE9PWUucmV2ZXJzZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIuc2V0UmV2ZXJzZSl0aHJvdyBuZXcgRXJyb3IoIk9wdGlvbmFsIGJyaWNrIHByb3BlcnR5ICdyZXZlcnNlJyBjYW4gb25seSBiZSBzZXQgb24gZW5jb2RlciBicmlja3MiKTtpZigiYm9vbGVhbiIhPXR5cGVvZiBlLnJldmVyc2UpdGhyb3cgbmV3IEVycm9yKCJPcHRpb25hbCBicmljayBwcm9wZXJ0eSAncmV2ZXJzZScgaXMgZXhwZWN0ZWQgdG8gYmUgb2YgdHlwZSAnYm9vbGVhbiciKTtyLnNldFJldmVyc2UoZS5yZXZlcnNlKX1yZXR1cm4gdm9pZCAwIT09ZS5zZXR0aW5ncyYmci5nZXRTZXR0aW5nc0Zvcm0oKS5leHRyYWN0KGUuc2V0dGluZ3MpLHJ9fV0pLG59KHR1KSxqdT1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLl8kZW5jb2RlQWN0aW9uPW51bGwsZS5fJGRlY29kZUFjdGlvbj1udWxsLGV9cmV0dXJuIGJ0KG4sW3trZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1BdCh3dChuLnByb3RvdHlwZSksInJlbmRlciIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gZS5jbGFzc0xpc3QuYWRkKCJlbmNvZGVyIiksZX19LHtrZXk6InJlbmRlckhlYWRlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl8kZW5jb2RlQWN0aW9uPWJuLmNyZWF0ZUVsZW1lbnQoImEiLHtjbGFzc05hbWU6ImJyaWNrX19hY3Rpb24gYnJpY2tfX2FjdGlvbi0tYWN0aXZlIixocmVmOiIjIixvbkNsaWNrOnRoaXMuYWN0aW9uRGlkQ2xpY2suYmluZCh0aGlzLCJlbmNvZGUiKSxkcmFnZ2FibGU6ITF9LCJFbmNvZGUiKSx0aGlzLl8kZGVjb2RlQWN0aW9uPWJuLmNyZWF0ZUVsZW1lbnQoImEiLHtjbGFzc05hbWU6ImJyaWNrX19hY3Rpb24iLGhyZWY6IiMiLG9uQ2xpY2s6dGhpcy5hY3Rpb25EaWRDbGljay5iaW5kKHRoaXMsImRlY29kZSIpLGRyYWdnYWJsZTohMX0sIkRlY29kZSIpO3ZhciBlPWJuLmNyZWF0ZUVsZW1lbnQoInVsIix7Y2xhc3NOYW1lOiJicmlja19fYWN0aW9ucyJ9LFtibi5jcmVhdGVFbGVtZW50KCJsaSIse2NsYXNzTmFtZToiYnJpY2tfX2FjdGlvbi1pdGVtIn0sdGhpcy5fJGVuY29kZUFjdGlvbiksYm4uY3JlYXRlRWxlbWVudCgibGkiLHtjbGFzc05hbWU6ImJyaWNrX19hY3Rpb24taXRlbSJ9LHRoaXMuXyRkZWNvZGVBY3Rpb24pXSksdD1BdCh3dChuLnByb3RvdHlwZSksInJlbmRlckhlYWRlciIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gdC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpLHR9fSx7a2V5OiJyZW5kZXJDb250ZW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfX0se2tleToiYWN0aW9uRGlkQ2xpY2siLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPSJkZWNvZGUiPT09ZTt0aGlzLmdldE1vZGVsKCkuaXNSZXZlcnNlKCkhPT1uJiZ0aGlzLmdldE1vZGVsKCkudmlld0RpZFJldmVyc2UodGhpcyl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgpLmlzUmV2ZXJzZSgpO2U/KHRoaXMuXyRlbmNvZGVBY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgiYnJpY2tfX2FjdGlvbi0tYWN0aXZlIiksdGhpcy5fJGRlY29kZUFjdGlvbiYmdGhpcy5fJGRlY29kZUFjdGlvbi5jbGFzc0xpc3QuYWRkKCJicmlja19fYWN0aW9uLS1hY3RpdmUiKSk6KHRoaXMuXyRlbmNvZGVBY3Rpb24uY2xhc3NMaXN0LmFkZCgiYnJpY2tfX2FjdGlvbi0tYWN0aXZlIiksdGhpcy5fJGRlY29kZUFjdGlvbiYmdGhpcy5fJGRlY29kZUFjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCJicmlja19fYWN0aW9uLS1hY3RpdmUiKSk7dmFyIHQ9dGhpcy5nZXRNb2RlbCgpLmdldExhc3RFcnJvcigpLG49dGhpcy5nZXRNb2RlbCgpLmdldExhc3RUcmFuc2xhdGlvbk1ldGEoKTtpZihudWxsIT09bil7dmFyIHI9bi5pc0VuY29kZT8iZm9yd2FyZCI6ImJhY2t3YXJkIixpPSIiLmNvbmNhdChuLmlzRW5jb2RlIT09ZT8iRW5jb2RlZCI6IkRlY29kZWQiLCIgIik7cmV0dXJuIG51bGwhPT1uLmNoYXJDb3VudD9pKz0iIi5jb25jYXQobi5jaGFyQ291bnQsIiAiKSsiIi5jb25jYXQoMT09PW4uY2hhckNvdW50PyJjaGFyIjoiY2hhcnMiKTppKz0iIi5jb25jYXQobi5ieXRlQ291bnQsIiAiKSsiIi5jb25jYXQoMT09PW4uYnl0ZUNvdW50PyJieXRlIjoiYnl0ZXMiKSx0aGlzLnVwZGF0ZVN0YXR1cyhyLGkpfXJldHVybiBudWxsIT09dD90aGlzLnVwZGF0ZVN0YXR1cygiZXJyb3IiLHQubWVzc2FnZSk6dGhpc319XSksbn0oSmwpLCR1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3l0KHRoaXMsZSl9cmV0dXJuIGJ0KGUsbnVsbCxbe2tleToibW9kIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUlKHQ9dDwwPy10OnQpO3JldHVybiBuPDA/bit0Om59fSx7a2V5OiJkaXYiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGguZmxvb3IoZS90KX19LHtrZXk6ImlzQ29wcmltZSIsdmFsdWU6ZnVuY3Rpb24odCxuKXtyZXR1cm4gMT09PWUuZ2NkKHQsbil9fSx7a2V5OiJnY2QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKDswIT09dDspe3ZhciBuPWUldDtlPXQsdD1ufXJldHVybiBlfX0se2tleToieGdjZCIsdmFsdWU6ZnVuY3Rpb24odCxuKXtpZigwPT09bilyZXR1cm5bMSwwLHRdO3ZhciByPU10KGUueGdjZChuLHQlbiksMyksaT1yWzBdLGE9clsxXSxvPXJbMl07cmV0dXJuW2EsaS1hKmUuZGl2KHQsbiksb119fSx7a2V5OiJ0aW1lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ2b2lkIDAhPT13aW5kb3cucGVyZm9ybWFuY2U/d2luZG93LnBlcmZvcm1hbmNlLm5vdygpOiJ1bmRlZmluZWQiIT10eXBlb2YgcHJvY2Vzcz9wcm9jZXNzLmhydGltZSgpWzFdLzFlNjpwYXJzZUZsb2F0KChuZXcgRGF0ZSkuZ2V0VGltZSgpKX19XSksZX0oKSxxdT1mdW5jdGlvbihlKXtrdChhLGUpO3ZhciB0LG4scixpPUV0KGEpO2Z1bmN0aW9uIGEoKXt2YXIgZTtyZXR1cm4geXQodGhpcyxhKSwoZT1pLmNhbGwodGhpcykpLl92aWV3UHJvdG90eXBlPWp1LGUuX3JldmVyc2U9ITEsZS5fZW5jb2RlT25seT0hMSxlLl9sYXN0RXJyb3I9bnVsbCxlLl9sYXN0VHJhbnNsYXRpb25NZXRhPW51bGwsZX1yZXR1cm4gYnQoYSxbe2tleToiZW5jb2RlIix2YWx1ZToocj12dChyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0KXtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLmFicnVwdCgicmV0dXJuIix0aGlzLnRyYW5zbGF0ZSh0LCEwKSk7Y2FzZSAxOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImRlY29kZSIsdmFsdWU6KG49dnQocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsdGhpcy50cmFuc2xhdGUodCwhMSkpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJ0cmFuc2xhdGUiLHZhbHVlOih0PXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQsbil7dmFyIHIsaTtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKGUucHJldj0wLHI9JHUudGltZSgpLG4hPT10aGlzLl9yZXZlcnNlfHwhdGhpcy5pc0VuY29kZU9ubHkoKSl7ZS5uZXh0PTQ7YnJlYWt9dGhyb3cgbmV3IFJsKCJEZWNvZGluZyBpcyBub3QgZGVmaW5lZCBpbiBicmljayAnIi5jb25jYXQodGhpcy5nZXRNZXRhKCkudGl0bGUsIiciKSk7Y2FzZSA0OmlmKCEoKGk9dGhpcy5nZXRTZXR0aW5nc0Zvcm0oKS5nZXRJbnZhbGlkRmllbGRzKCkpLmxlbmd0aD4wKSl7ZS5uZXh0PTc7YnJlYWt9dGhyb3cgbmV3IFJsKCJDYW4ndCAiLmNvbmNhdChuPyJlbmNvZGUiOiJkZWNvZGUiLCIgd2l0aCBpbnZhbGlkIHNldHRpbmdzOiAiKStpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0TGFiZWwoKSsiICgiKyhlLmdldE1lc3NhZ2UoKXx8Im5vbmUiKSsiKSJ9KSkuam9pbigiLCAiKSk7Y2FzZSA3OmlmKHQ9cWwud3JhcCh0KSxuPT09dGhpcy5fcmV2ZXJzZSl7ZS5uZXh0PTI2O2JyZWFrfXJldHVybiBlLnQwPXFsLGUubmV4dD0xMix0aGlzLndpbGxFbmNvZGUodCk7Y2FzZSAxMjpyZXR1cm4gZS50MT1lLnNlbnQsdD1lLnQwLndyYXAuY2FsbChlLnQwLGUudDEpLGUudDI9cWwsZS5uZXh0PTE3LHRoaXMucGVyZm9ybUVuY29kZSh0KTtjYXNlIDE3OnJldHVybiBlLnQzPWUuc2VudCx0PWUudDIud3JhcC5jYWxsKGUudDIsZS50MyksZS50ND1xbCxlLm5leHQ9MjIsdGhpcy5kaWRFbmNvZGUodCk7Y2FzZSAyMjplLnQ1PWUuc2VudCx0PWUudDQud3JhcC5jYWxsKGUudDQsZS50NSksZS5uZXh0PTQxO2JyZWFrO2Nhc2UgMjY6cmV0dXJuIGUudDY9cWwsZS5uZXh0PTI5LHRoaXMud2lsbERlY29kZSh0KTtjYXNlIDI5OnJldHVybiBlLnQ3PWUuc2VudCx0PWUudDYud3JhcC5jYWxsKGUudDYsZS50NyksZS50OD1xbCxlLm5leHQ9MzQsdGhpcy5wZXJmb3JtRGVjb2RlKHQpO2Nhc2UgMzQ6cmV0dXJuIGUudDk9ZS5zZW50LHQ9ZS50OC53cmFwLmNhbGwoZS50OCxlLnQ5KSxlLnQxMD1xbCxlLm5leHQ9MzksdGhpcy5kaWREZWNvZGUodCk7Y2FzZSAzOTplLnQxMT1lLnNlbnQsdD1lLnQxMC53cmFwLmNhbGwoZS50MTAsZS50MTEpO2Nhc2UgNDE6cmV0dXJuIHRoaXMuX2xhc3RFcnJvcj1udWxsLHRoaXMuX2xhc3RUcmFuc2xhdGlvbk1ldGE9e2lzRW5jb2RlOm4sZHVyYXRpb246JHUudGltZSgpLXIsYnl0ZUNvdW50OnQubmVlZHNCeXRlRW5jb2RpbmcoKT9udWxsOnQuZ2V0U2l6ZSgpLGNoYXJDb3VudDp0Lm5lZWRzVGV4dEVuY29kaW5nKCk/bnVsbDp0LmdldExlbmd0aCgpfSx0aGlzLnVwZGF0ZVZpZXcoKSxlLmFicnVwdCgicmV0dXJuIix0KTtjYXNlIDQ3OnRocm93IGUucHJldj00NyxlLnQxMj1lLmNhdGNoKDApLHRoaXMuX2xhc3RFcnJvcj1lLnQxMix0aGlzLl9sYXN0VHJhbnNsYXRpb25NZXRhPW51bGwsdGhpcy51cGRhdGVWaWV3KCksZS50MTI7Y2FzZSA1MzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyxbWzAsNDddXSl9KSkpLGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImlzUmV2ZXJzZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV2ZXJzZX19LHtrZXk6InNldFJldmVyc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yZXZlcnNlIT09ZSYmKHRoaXMuX3JldmVyc2U9ZSx0aGlzLnVwZGF0ZVZpZXcoKSx0aGlzLmhhc1BpcGUoKSYmdGhpcy5nZXRQaXBlKCkuZW5jb2RlckRpZFJldmVyc2UodGhpcyxlKSksdGhpc319LHtrZXk6ImlzRW5jb2RlT25seSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5jb2RlT25seX19LHtrZXk6InNldEVuY29kZU9ubHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9lbmNvZGVPbmx5PWUsdGhpc319LHtrZXk6ImdldExhc3RFcnJvciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFzdEVycm9yfX0se2tleToiZ2V0TGFzdFRyYW5zbGF0aW9uTWV0YSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFzdFRyYW5zbGF0aW9uTWV0YX19LHtrZXk6InNlcmlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1BdCh3dChhLnByb3RvdHlwZSksInNlcmlhbGl6ZSIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5pc1JldmVyc2UoKSYmKGUucmV2ZXJzZT0hMCksZX19LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9QXQod3QoYS5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMpO3JldHVybiBlLnNldFJldmVyc2UodGhpcy5pc1JldmVyc2UoKSksZX19LHtrZXk6IndpbGxFbmNvZGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLndpbGxUcmFuc2xhdGUoZSwhMCl9fSx7a2V5OiJwZXJmb3JtRW5jb2RlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wZXJmb3JtVHJhbnNsYXRlKGUsITApfX0se2tleToiZGlkRW5jb2RlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kaWRUcmFuc2xhdGUoZSwhMCl9fSx7a2V5OiJ3aWxsRGVjb2RlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy53aWxsVHJhbnNsYXRlKGUsITEpfX0se2tleToicGVyZm9ybURlY29kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGVyZm9ybVRyYW5zbGF0ZShlLCExKX19LHtrZXk6ImRpZERlY29kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGlkVHJhbnNsYXRlKGUsITEpfX0se2tleToid2lsbFRyYW5zbGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZX19LHtrZXk6InBlcmZvcm1UcmFuc2xhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV9fSx7a2V5OiJkaWRUcmFuc2xhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV9fSx7a2V5OiJ2aWV3RGlkUmV2ZXJzZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5zZXRSZXZlcnNlKCF0aGlzLmlzUmV2ZXJzZSgpKSxldS50cmlnZ2VyKCJlbmNvZGVyUmV2ZXJzZSIse2VuY29kZXI6dGhpcyxyZXZlcnNlOnRoaXMuaXNSZXZlcnNlKCl9KX19XSksYX0oRHUpLFV1PWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3ZhciBlO3JldHVybiB5dCh0aGlzLG4pLChlPXQuY2FsbCh0aGlzKSkuX21vZGU9MCxlLnJlZ2lzdGVyU2VwYXJhdG9yU2V0dGluZygpLGV9cmV0dXJuIGJ0KG4sW3trZXk6InNldENoYXJhY3RlclRvQmxvY2tNb2RlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlPTAsdGhpc319LHtrZXk6InNldEJsb2NrVG9DaGFyYWN0ZXJNb2RlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlPTEsdGhpc319LHtrZXk6InJlZ2lzdGVyU2VwYXJhdG9yU2V0dGluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRTZXR0aW5nKHtuYW1lOiJzZXBhcmF0b3IiLHR5cGU6InRleHQiLHZhbHVlOiIgIixtaW5MZW5ndGg6MSxyYW5kb21pemFibGU6ITEscHJpb3JpdHk6LTEwfSl9fSx7a2V5OiJnZXRTZXBhcmF0b3IiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJzZXBhcmF0b3IiKX19LHtrZXk6InBlcmZvcm1FbmNvZGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKHRoaXMuX21vZGUpe2Nhc2UgMDp2YXIgbj1lLmdldENvZGVQb2ludHMoKS5tYXAoKGZ1bmN0aW9uKG4scil7cmV0dXJuIHQucGVyZm9ybUNoYXJFbmNvZGVUb0Jsb2NrKG4scixlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09ZX0pKS5tYXAocWwud3JhcCk7cmV0dXJuIHFsLmpvaW4obix0aGlzLmdldFNlcGFyYXRvcigpKTtjYXNlIDE6cmV0dXJuIGUuc3BsaXQodGhpcy5nZXRTZXBhcmF0b3IoKSkubWFwKChmdW5jdGlvbihuLHIsaSl7cmV0dXJuIHQucGVyZm9ybUJsb2NrRW5jb2RlVG9DaGFyKG4scixpLGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lfSkpfX19LHtrZXk6InBlcmZvcm1EZWNvZGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKHRoaXMuX21vZGUpe2Nhc2UgMDpyZXR1cm4gZS5zcGxpdCh0aGlzLmdldFNlcGFyYXRvcigpKS5tYXAoKGZ1bmN0aW9uKG4scixpKXtyZXR1cm4gdC5wZXJmb3JtQmxvY2tEZWNvZGVUb0NoYXIobixyLGksZSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWV9KSk7Y2FzZSAxOnZhciBuPWUuZ2V0Q29kZVBvaW50cygpLm1hcCgoZnVuY3Rpb24obixyKXtyZXR1cm4gdC5wZXJmb3JtQ2hhckRlY29kZVRvQmxvY2sobixyLGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lfSkpLm1hcChxbC53cmFwKTtyZXR1cm4gcWwuam9pbihuLHRoaXMuZ2V0U2VwYXJhdG9yKCkpfX19LHtrZXk6InBlcmZvcm1DaGFyRW5jb2RlVG9CbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe319LHtrZXk6InBlcmZvcm1CbG9ja0VuY29kZVRvQ2hhciIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scil7fX0se2tleToicGVyZm9ybUNoYXJEZWNvZGVUb0Jsb2NrIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7fX0se2tleToicGVyZm9ybUJsb2NrRGVjb2RlVG9DaGFyIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXt9fV0pLG59KHF1KSxXdT17bmFtZToiYTF6MjYiLHRpdGxlOiJBMVoyNiIsY2F0ZWdvcnk6IkNpcGhlcnMiLHR5cGU6ImVuY29kZXIifSxHdT1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLmFkZFNldHRpbmdzKFt7bmFtZToiYWxwaGFiZXQiLHR5cGU6InRleHQiLHZhbHVlOiJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIsdW5pcXVlQ2hhcnM6ITAsbWluTGVuZ3RoOjJ9LHtuYW1lOiJjYXNlU2Vuc2l0aXZpdHkiLHR5cGU6ImJvb2xlYW4iLHZhbHVlOiExLHJhbmRvbWl6YWJsZTohMX1dKSxlfXJldHVybiBidChuLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIFd1fX1dKSxidChuLFt7a2V5OiJ3aWxsRW5jb2RlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRTZXR0aW5nVmFsdWUoImNhc2VTZW5zaXRpdml0eSIpP2U6ZS50b0xvd2VyQ2FzZSgpfX0se2tleToicGVyZm9ybUNoYXJFbmNvZGVUb0Jsb2NrIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImNhc2VTZW5zaXRpdml0eSIpLGk9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImFscGhhYmV0Iik7cnx8KGk9aS50b0xvd2VyQ2FzZSgpKTt2YXIgYT1pLmluZGV4T2ZDb2RlUG9pbnQoZSk7cmV0dXJuLTE9PT1hP251bGw6KGErPTEpLnRvU3RyaW5nKCl9fSx7a2V5OiJwZXJmb3JtQmxvY2tEZWNvZGVUb0NoYXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJjYXNlU2Vuc2l0aXZpdHkiKSxhPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJhbHBoYWJldCIpO2l8fChhPWEudG9Mb3dlckNhc2UoKSk7dmFyIG89cGFyc2VJbnQoZSk7cmV0dXJuIGlzTmFOKG8pfHxvPDF8fG8+YS5nZXRMZW5ndGgoKT9udWxsOmEuZ2V0Q29kZVBvaW50QXQoby0xKX19XSksbn0oVXUpLEh1PXtuYW1lOiJwb2x5Yml1cy1zcXVhcmUiLHRpdGxlOiJQb2x5Yml1cyBzcXVhcmUiLGNhdGVnb3J5OiJQb2x5Yml1cyBzcXVhcmUgY2lwaGVycyIsdHlwZToiZW5jb2RlciJ9LEt1PWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3ZhciBlO3JldHVybiB5dCh0aGlzLG4pLChlPXQuY2FsbCh0aGlzKSkuYWRkU2V0dGluZ3MoW3tuYW1lOiJhbHBoYWJldCIsdHlwZToidGV4dCIsdmFsdWU6ImFiY2RlZmdoaWtsbW5vcHFyc3R1dnd4eXoiLHVuaXF1ZUNoYXJzOiEwLG1pbkxlbmd0aDoyLHZhbGlkYXRlVmFsdWU6ZS52YWxpZGF0ZUFscGhhYmV0VmFsdWUuYmluZChDdChlKSksY2FzZVNlbnNpdGl2aXR5OiExfSx7bmFtZToicm93cyIsdHlwZToidGV4dCIsdmFsdWU6IjEyMzQ1Iix1bmlxdWVDaGFyczohMCxtaW5MZW5ndGg6Mix3aWR0aDo2LHJhbmRvbWl6YWJsZTohMSxjYXNlU2Vuc2l0aXZpdHk6ITF9LHtuYW1lOiJjb2x1bW5zIix0eXBlOiJ0ZXh0Iix2YWx1ZToiMTIzNDUiLHVuaXF1ZUNoYXJzOiEwLG1pbkxlbmd0aDoyLHdpZHRoOjYscmFuZG9taXphYmxlOiExLGNhc2VTZW5zaXRpdml0eTohMX0se25hbWU6InNlcGFyYXRvciIsdHlwZToidGV4dCIsdmFsdWU6IiIscmFuZG9taXphYmxlOiExLGNhc2VTZW5zaXRpdml0eTohMSx2YWxpZGF0ZVZhbHVlOmUudmFsaWRhdGVTZXBhcmF0b3JWYWx1ZS5iaW5kKEN0KGUpKX0se25hbWU6ImNhc2VTZW5zaXRpdml0eSIsdHlwZToiYm9vbGVhbiIsd2lkdGg6Nix2YWx1ZTohMSxyYW5kb21pemFibGU6ITF9LHtuYW1lOiJpbmNsdWRlRm9yZWlnbkNoYXJzIix0eXBlOiJib29sZWFuIixsYWJlbDoiRm9yZWlnbiBDaGFycyIsd2lkdGg6Nix2YWx1ZTohMSxyYW5kb21pemFibGU6ITEsdHJ1ZUxhYmVsOiJJbmNsdWRlIixmYWxzZUxhYmVsOiJJZ25vcmUifV0pLGV9cmV0dXJuIGJ0KG4sbnVsbCxbe2tleToiZ2V0TWV0YSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gSHV9fV0pLGJ0KG4sW3trZXk6IndpbGxUcmFuc2xhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5nZXRTZXR0aW5nVmFsdWUoImNhc2VTZW5zaXRpdml0eSIpfHwoZT1lLnRvTG93ZXJDYXNlKCkpLHQpe3ZhciBuPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJhbHBoYWJldCIpLmdldENvZGVQb2ludHMoKTstMSE9PW4uaW5kZXhPZigxMDUpJiYtMT09PW4uaW5kZXhPZigxMDYpJiYoZT1lLmdldFN0cmluZygpLnJlcGxhY2UoL2ovZywiaSIpKX1yZXR1cm4gZX19LHtrZXk6InBlcmZvcm1FbmNvZGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT10aGlzLmdldFNldHRpbmdWYWx1ZSgiYWxwaGFiZXQiKS5nZXRDb2RlUG9pbnRzKCksYT10aGlzLmdldFNldHRpbmdWYWx1ZSgic2VwYXJhdG9yIikuZ2V0Q29kZVBvaW50cygpLG89dGhpcy5nZXRTZXR0aW5nVmFsdWUoImluY2x1ZGVGb3JlaWduQ2hhcnMiKSxzPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJyb3dzIikuZ2V0Q29kZVBvaW50cygpLGw9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImNvbHVtbnMiKS5nZXRDb2RlUG9pbnRzKCksdT1sLmxlbmd0aCxjPWUuZ2V0Q29kZVBvaW50cygpLGg9YS5sZW5ndGgsZD1jLmxlbmd0aCxmPW5ldyBBcnJheShkKihoKzIpKSxnPTAscD0hMSx2PTA7djxkO3YrKyl7aWYodD1jW3ZdLG49aS5pbmRleE9mKHQpLGc+MCYmKC0xIT09bnx8byYmIXApKWZvcihyPTA7cjxoO3IrKylmW2crK109YVtyXTtwPSExLC0xIT09bj8oZltnKytdPXNbTWF0aC5mbG9vcihuL3UpXSxmW2crK109bFtuJXVdKTpvJiYoZltnKytdPXQscD0hMCl9cmV0dXJuIGYuc2xpY2UoMCxnKX19LHtrZXk6InBlcmZvcm1EZWNvZGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT10aGlzLmdldFNldHRpbmdWYWx1ZSgiYWxwaGFiZXQiKS5nZXRDb2RlUG9pbnRzKCksYT10aGlzLmdldFNldHRpbmdWYWx1ZSgic2VwYXJhdG9yIikuZ2V0Q29kZVBvaW50cygpLG89dGhpcy5nZXRTZXR0aW5nVmFsdWUoImluY2x1ZGVGb3JlaWduQ2hhcnMiKSxzPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJyb3dzIikuZ2V0Q29kZVBvaW50cygpLGw9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImNvbHVtbnMiKS5nZXRDb2RlUG9pbnRzKCksdT1hbC5yZXBsYWNlU2xpY2UoZS5nZXRDb2RlUG9pbnRzKCksYSksYz1pLmxlbmd0aCxoPWwubGVuZ3RoLGQ9dS5sZW5ndGgsZj1uZXcgQXJyYXkoZCksZz0wLHA9MDtnPGQ7KXtmb3IodD1udWxsO251bGw9PT10JiZnPGQ7KS0xIT09KHI9cy5pbmRleE9mKHVbZ10pKT90PXI6byYmKGZbcCsrXT11W2ddKSxnKys7Zm9yKG49bnVsbDtudWxsPT09biYmZzxkOyktMSE9PShyPXMuaW5kZXhPZih1W2ddKSk/bj1yOm8mJihmW3ArK109dVtnXSksZysrO2lmKG51bGwhPT10JiZudWxsIT09bil7aWYoKHI9dCpoK24pPj1jKXRocm93IG5ldyBSbCgiUG9seWJpdXMgc3F1YXJlIGNlbGwgYXQgY29vcmRpbmF0ZXMgIi5jb25jYXQodCwiLCIpLmNvbmNhdChuLCIgYXJlIG5vdCAiKSsiZGVmaW5lZCBieSB0aGUgYWxwaGFiZXQuIik7ZltwKytdPWlbcl19ZWxzZSBpZihudWxsIT09dHx8bnVsbCE9PW4pdGhyb3cgbmV3IFJsKCJSZWFjaGVkIHVuZXhwZWN0ZWQgZW5kIG9mIGNvbnRlbnQuIFRoZSBsYXN0IHNldCBvZiBQb2x5Yml1cyBzcXVhcmUgY29vcmRpbmF0ZXMgaXMgaW5jb21wbGV0ZS4iKX1yZXR1cm4gZi5zbGljZSgwLHApfX0se2tleToic2V0dGluZ1ZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3N3aXRjaChlLmdldE5hbWUoKSl7Y2FzZSJjYXNlU2Vuc2l0aXZpdHkiOnRoaXMuZ2V0U2V0dGluZygiYWxwaGFiZXQiKS5zZXRDYXNlU2Vuc2l0aXZpdHkodCksdGhpcy5nZXRTZXR0aW5nKCJyb3dzIikuc2V0Q2FzZVNlbnNpdGl2aXR5KHQpLHRoaXMuZ2V0U2V0dGluZygiY29sdW1ucyIpLnNldENhc2VTZW5zaXRpdml0eSh0KSx0aGlzLmdldFNldHRpbmcoInNlcGFyYXRvciIpLnNldENhc2VTZW5zaXRpdml0eSh0KTticmVhaztjYXNlImNvbHVtbnMiOmNhc2Uicm93cyI6dGhpcy5nZXRTZXR0aW5nKCJhbHBoYWJldCIpLnJldmFsaWRhdGVWYWx1ZSgpfX19LHtrZXk6InZhbGlkYXRlQWxwaGFiZXRWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldExlbmd0aCgpLHI9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImNvbHVtbnMiKS5nZXRMZW5ndGgoKSxpPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJyb3dzIikuZ2V0TGVuZ3RoKCk7cmV0dXJuIG4+aSpyP3trZXk6InBvbHliaXVzU3F1YXJlQWxwaGFiZXRUb29Mb25nIixtZXNzYWdlOiJUaGUgYWxwaGFiZXQgc2l6ZSAiLmNvbmNhdChuLCIgaXMgdG9vIGJpZyBmb3IgdGhlIGdpdmVuICIpKyIiLmNvbmNhdChpLCLDlyIpLmNvbmNhdChyLCIgUG9seWJpdXMgc3F1YXJlIGRlZmluZWQgYnkgdGhlIHNldHRpbmdzICIpKyInY29sdW1ucycgYW5kICdyb3dzJy4ifTohKG48PShpLTEpKnIpfHx7a2V5OiJwb2x5Yml1c1NxdWFyZUFscGhhYmV0VG9vU2hvcnQiLG1lc3NhZ2U6IlRoZSBhbHBoYWJldCBzaXplICIuY29uY2F0KG4sIiBpcyB0b28gc2hvcnQgZm9yIHRoZSBnaXZlbiAiKSsiIi5jb25jYXQoaSwiw5ciKS5jb25jYXQociwiIFBvbHliaXVzIHNxdWFyZSBkZWZpbmVkIGJ5IHRoZSBzZXR0aW5ncyAiKSsiJ2NvbHVtbnMnIGFuZCAncm93cycuIn19fSx7a2V5OiJ2YWxpZGF0ZVNlcGFyYXRvclZhbHVlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJyb3dzIikuZ2V0Q29kZVBvaW50cygpO3JldHVybiBuLmNvbmNhdCh0aGlzLmdldFNldHRpbmdWYWx1ZSgiY29sdW1ucyIpLmdldENvZGVQb2ludHMoKSksISh2b2lkIDAhPT1lLmdldENvZGVQb2ludHMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PW4uaW5kZXhPZihlKX0pKSl8fHtrZXk6InBvbHliaXVzU3F1YXJlU2VwYXJhdG9ySW52YWxpZCIsbWVzc2FnZToiVGhlIHNlcGFyYXRvciBzaGFsbCBub3QgY29udGFpbiBjaGFyYWN0ZXJzIGZyb20gdGhlIFBvbHliaXVzIHNxdWFyZSByb3dzIG9yIGNvbHVtbnMifX19XSksbn0ocXUpLFh1PXtuYW1lOiJhZGZneC1jaXBoZXIiLHRpdGxlOiJBREZHWCBjaXBoZXIiLGNhdGVnb3J5OiJQb2x5Yml1cyBzcXVhcmUgY2lwaGVycyIsdHlwZToiZW5jb2RlciJ9LFp1PSJhZGZneCIsWXU9W3tuYW1lOiJhZGZneCIsbGFiZWw6IkFERkdYIixzcXVhcmVQb3NpdGlvbnM6ImFkZmd4IixhbHBoYWJldDoienl4d3Z1dHNycXBvbm1sa2loZ2ZlZGNiYSJ9LHtuYW1lOiJhZGZndngiLGxhYmVsOiJBREZHVlgiLHNxdWFyZVBvc2l0aW9uczoiYWRmZ3Z4IixhbHBoYWJldDoiOTg3NjU0MzIxMHp5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhIn1dLEp1PSJhYmNkZWZnaGlrbG1ub3BxcnN0dXZ3eHl6IixRdT1mdW5jdGlvbihlKXtrdChyLGUpO3ZhciB0LG49RXQocik7ZnVuY3Rpb24gcigpe3ZhciBlO3l0KHRoaXMsciksKGU9bi5jYWxsKHRoaXMpKS5hZGRTZXR0aW5ncyhbe25hbWU6InZhcmlhbnQiLHR5cGU6ImVudW0iLHZhbHVlOlp1LGVsZW1lbnRzOll1Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZX0pKSxsYWJlbHM6WXUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sYWJlbH0pKSxyYW5kb21pemFibGU6ITF9LHtuYW1lOiJhbHBoYWJldCIsdHlwZToidGV4dCIsdmFsdWU6SnUsdW5pcXVlQ2hhcnM6ITAsYmxhY2tsaXN0Q2hhcnM6IiAiLG1pbkxlbmd0aDowLG1heExlbmd0aDoyNSxjYXNlU2Vuc2l0aXZpdHk6ITF9LHtuYW1lOiJrZXkiLHR5cGU6InRleHQiLHZhbHVlOiJjYXJnbyIsbWluTGVuZ3RoOjIsbWF4TGVuZ3RoOjI0LGNhc2VTZW5zaXRpdml0eTohMX1dKTt2YXIgdD1lLmNvbnN0cnVjdG9yLmdldFZhcmlhbnQoWnUpO3JldHVybiBlLl9wb2x5Yml1c1NxdWFyZT1uZXcgS3UsZS5fcG9seWJpdXNTcXVhcmUuc2V0U2V0dGluZ1ZhbHVlcyh7YWxwaGFiZXQ6SnUscm93czp0LnNxdWFyZVBvc2l0aW9ucyxjb2x1bW5zOnQuc3F1YXJlUG9zaXRpb25zLHNlcGFyYXRvcjoiIixjYXNlU2Vuc2l0aXZpdHk6ITEsaW5jbHVkZUZvcmVpZ25DaGFyczohMX0pLGV9cmV0dXJuIGJ0KHIsbnVsbCxbe2tleToiZ2V0TWV0YSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gWHV9fV0pLGJ0KHIsW3trZXk6InBlcmZvcm1FbmNvZGUiLHZhbHVlOih0PXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciBuLHIsaSxhLG8scyxsLHUsYyxoLGQsZjtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBuPXQuZ2V0U3RyaW5nKCksImFkZmd4Ij09PXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJ2YXJpYW50IikmJihuPW4ucmVwbGFjZSgvai9naSwiaSIpKSxyPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJrZXkiKSxpPXIuZ2V0TGVuZ3RoKCksYT10aGlzLm1hcEVsZW1lbnRzVG9Tb3J0ZWRQb3NpdGlvbihyLmdldENoYXJzKCkpLGUubmV4dD04LHRoaXMuX3BvbHliaXVzU3F1YXJlLmVuY29kZShuKTtjYXNlIDg6Zm9yKG89ZS5zZW50LHM9by5nZXRMZW5ndGgoKSxsPW5ldyBBcnJheShzK2kpLGY9MCx1PTA7dTxpO3UrKylmb3IoYz1hW3VdLGg9MDtoKmkrYzxzO2grKylkPWgqaStjLGxbZisrXT1vLmdldENvZGVQb2ludEF0KGQpO3JldHVybiBlLmFicnVwdCgicmV0dXJuIixhbC5qb2luU2xpY2VzKGFsLmNodW5rKGwuc2xpY2UoMCxmKSw1KSxbMzJdKSk7Y2FzZSAxNDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJwZXJmb3JtRGVjb2RlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxhPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJ2YXJpYW50Iiksbz10aGlzLmNvbnN0cnVjdG9yLmdldFZhcmlhbnQoYSkscz1xbC53cmFwKG8uc3F1YXJlUG9zaXRpb25zKS5nZXRDb2RlUG9pbnRzKCksbD1lLmdldENvZGVQb2ludHMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09cy5pbmRleE9mKGUpfSkpLHU9bC5sZW5ndGgsYz10aGlzLmdldFNldHRpbmdWYWx1ZSgia2V5IiksaD1jLmdldExlbmd0aCgpLGQ9dGhpcy5tYXBFbGVtZW50c1RvU29ydGVkUG9zaXRpb24oYy5nZXRDaGFycygpKSxmPXUlaHx8aCxnPU1hdGguY2VpbCh1L2gpLHA9bmV3IEFycmF5KHUpLHY9MDtmb3IodD0wO3Q8aDt0KyspZm9yKGk9KG49ZFt0XSk+PWY/Zy0xOmcscj0wO3I8aTtyKyspcFtyKmgrbl09bFt2KytdO3JldHVybiB0aGlzLl9wb2x5Yml1c1NxdWFyZS5kZWNvZGUocCl9fSx7a2V5OiJtYXBFbGVtZW50c1RvU29ydGVkUG9zaXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPWUubGVuZ3RoLHI9bmV3IEFycmF5KG4pLGk9ZS5zbGljZSgpLGE9ZS5zbGljZSgpLnNvcnQoKSxvPTA7bzxuO28rKyl0PWkuaW5kZXhPZihhW29dKSxyW29dPXQsZGVsZXRlIGlbdF07cmV0dXJuIHJ9fSx7a2V5OiJzZXR0aW5nVmFsdWVEaWRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUuZ2V0TmFtZSgpKXtjYXNlInZhcmlhbnQiOnZhciBuPXRoaXMuY29uc3RydWN0b3IuZ2V0VmFyaWFudCh0KTt0aGlzLl9wb2x5Yml1c1NxdWFyZS5zZXRTZXR0aW5nVmFsdWVzKHtyb3dzOm4uc3F1YXJlUG9zaXRpb25zLGNvbHVtbnM6bi5zcXVhcmVQb3NpdGlvbnN9KTt2YXIgcj10aGlzLmdldFNldHRpbmcoImFscGhhYmV0Iik7ci5pc1ZhbGlkKCkmJnRoaXMuX3BvbHliaXVzU3F1YXJlLnNldFNldHRpbmdWYWx1ZSgiYWxwaGFiZXQiLHIuZ2V0VmFsdWUoKS5leHRlbmQobi5hbHBoYWJldCkpLHRoaXMuZ2V0U2V0dGluZygiYWxwaGFiZXQiKS5zZXRNYXhMZW5ndGgobi5hbHBoYWJldC5sZW5ndGgpLHRoaXMuZ2V0U2V0dGluZygia2V5Iikuc2V0TWF4TGVuZ3RoKG4uYWxwaGFiZXQubGVuZ3RoLTEpO2JyZWFrO2Nhc2UiYWxwaGFiZXQiOnZhciBpPXRoaXMuY29uc3RydWN0b3IuZ2V0VmFyaWFudCh0aGlzLmdldFNldHRpbmdWYWx1ZSgidmFyaWFudCIpKTt0aGlzLl9wb2x5Yml1c1NxdWFyZS5zZXRTZXR0aW5nVmFsdWUoImFscGhhYmV0Iix0LmV4dGVuZChpLmFscGhhYmV0KSl9fX1dLFt7a2V5OiJnZXRWYXJpYW50Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gWXUuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWV9KSl8fG51bGx9fV0pLHJ9KHF1KSxlYz17bmFtZToiYWZmaW5lLWNpcGhlciIsdGl0bGU6IkFmZmluZSBjaXBoZXIiLGNhdGVnb3J5OiJDaXBoZXJzIix0eXBlOiJlbmNvZGVyIn0sdGM9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5hZGRTZXR0aW5ncyhbe25hbWU6ImEiLHR5cGU6Im51bWJlciIsbGFiZWw6IlNsb3BlIC8gYSIsdmFsdWU6NSxpbnRlZ2VyOiEwLG1pbjoxLHZhbGlkYXRlVmFsdWU6ZS52YWxpZGF0ZVNsb3BlVmFsdWUuYmluZChDdChlKSkscmFuZG9taXplVmFsdWU6ZS5yYW5kb21pemVTbG9wZVZhbHVlLmJpbmQoQ3QoZSkpLHdpZHRoOjZ9LHtuYW1lOiJiIix0eXBlOiJudW1iZXIiLGxhYmVsOiJJbnRlcmNlcHQgLyBiIix2YWx1ZTo4LGludGVnZXI6ITAsbWluOjEscmFuZG9taXplVmFsdWU6ZS5yYW5kb21pemVJbnRlcmNlcHRWYWx1ZS5iaW5kKEN0KGUpKSx3aWR0aDo2fSx7bmFtZToiYWxwaGFiZXQiLHR5cGU6InRleHQiLHZhbHVlOiJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIsdW5pcXVlQ2hhcnM6ITAsbWluTGVuZ3RoOjIscmFuZG9taXphYmxlOiExLGNhc2VTZW5zaXRpdml0eTohMX0se25hbWU6ImNhc2VTdHJhdGVneSIsdHlwZToiZW51bSIsdmFsdWU6Im1haW50YWluIixlbGVtZW50czpbIm1haW50YWluIiwiaWdub3JlIiwic3RyaWN0Il0sbGFiZWxzOlsiTWFpbnRhaW4gY2FzZSIsIklnbm9yZSBjYXNlIiwiU3RyaWN0IChBIOKJoCBhKSJdLHdpZHRoOjYscmFuZG9taXphYmxlOiExfSx7bmFtZToiaW5jbHVkZUZvcmVpZ25DaGFycyIsdHlwZToiYm9vbGVhbiIsbGFiZWw6IkZvcmVpZ24gQ2hhcnMiLHZhbHVlOiEwLHdpZHRoOjYsdHJ1ZUxhYmVsOiJJbmNsdWRlIixmYWxzZUxhYmVsOiJJZ25vcmUiLHJhbmRvbWl6YWJsZTohMX1dKSxlfXJldHVybiBidChuLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGVjfX1dKSxidChuLFt7a2V5OiJwZXJmb3JtVHJhbnNsYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9dGhpcy5nZXRTZXR0aW5nVmFsdWVzKCksaT1yLmEsYT1yLmIsbz1yLmNhc2VTdHJhdGVneSxzPXIuaW5jbHVkZUZvcmVpZ25DaGFycyxsPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJhbHBoYWJldCIpOyJzdHJpY3QiIT09byYmKG49KGw9bC50b0xvd2VyQ2FzZSgpKS50b1VwcGVyQ2FzZSgpKTt2YXIgdSxjLGgsZCxmLGcscD1sLmdldExlbmd0aCgpLHY9ZS5nZXRMZW5ndGgoKSx5PW5ldyBBcnJheSh2KS5maWxsKDApLG09MDtmb3IoaD0wO2g8djtoKyspdT1lLmdldENvZGVQb2ludEF0KGgpLGM9ITEsLTE9PT0oZj1sLmluZGV4T2ZDb2RlUG9pbnQodSkpJiYic3RyaWN0IiE9PW8mJihmPW4uaW5kZXhPZkNvZGVQb2ludCh1KSxjPSEwKSwtMT09PWY/cyYmKHlbbSsrXT11KToodD9nPSR1Lm1vZChpKmYrYSxwKTooZD0kdS54Z2NkKGkscClbMF0sZz0kdS5tb2QoZCooZi1hKSxwKSkseVttKytdPSJtYWludGFpbiI9PT1vJiZjP24uZ2V0Q29kZVBvaW50QXQoZyk6bC5nZXRDb2RlUG9pbnRBdChnKSk7cmV0dXJuIHkuc2xpY2UoMCxtKX19LHtrZXk6InNldHRpbmdWYWx1ZURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZS5nZXROYW1lKCkpe2Nhc2UiYWxwaGFiZXQiOnRoaXMuZ2V0U2V0dGluZygiYSIpLnJldmFsaWRhdGVWYWx1ZSgpO2JyZWFrO2Nhc2UiY2FzZVN0cmF0ZWd5Ijp0aGlzLmdldFNldHRpbmcoImFscGhhYmV0Iikuc2V0Q2FzZVNlbnNpdGl2aXR5KCJzdHJpY3QiPT09dCl9fX0se2tleToidmFsaWRhdGVTbG9wZVZhbHVlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFNldHRpbmcoImFscGhhYmV0Iik7aWYoIXQuaXNWYWxpZCgpKXJldHVybiExO3ZhciBuPXQuZ2V0VmFsdWUoKS5nZXRMZW5ndGgoKTtyZXR1cm4hISR1LmlzQ29wcmltZShlLG4pfHx7a2V5OiJhZmZpbmVDaXBoZXJGdW5jdGlvbkludmFsaWQiLG1lc3NhZ2U6IlRoZSB2YWx1ZSBtdXN0IGJlIGNob3NlbiBzdWNoIHRoYXQgaXQgaXMgY29wcmltZSB0byB0aGUgc2l6ZSAiKyJvZiB0aGUgYWxwaGFiZXQgKCIuY29uY2F0KG4sIikiKX19fSx7a2V5OiJyYW5kb21pemVTbG9wZVZhbHVlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0U2V0dGluZygiYWxwaGFiZXQiKTtpZihuLmlzVmFsaWQoKSl7dmFyIHI9bi5nZXRWYWx1ZSgpLGk9ci5nZXRMZW5ndGgoKSxhPXIuZ2V0Q29kZVBvaW50cygpLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCsxfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGU+MSYmJHUuaXNDb3ByaW1lKGUsaSl9KSk7cmV0dXJuIGEubGVuZ3RoPjA/ZS5uZXh0Q2hvaWNlKGEpOjF9cmV0dXJuIG51bGx9fSx7a2V5OiJyYW5kb21pemVJbnRlcmNlcHRWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmdldFNldHRpbmcoImFscGhhYmV0IikuaXNWYWxpZCgpKXt2YXIgbj10aGlzLmdldFNldHRpbmcoImFscGhhYmV0IikuZ2V0VmFsdWUoKS5nZXRMZW5ndGgoKTtyZXR1cm4gZS5uZXh0SW50ZWdlcigxLG4tMSl9cmV0dXJuIG51bGx9fV0pLG59KHF1KSxuYz17bmFtZToiYWxwaGFiZXRpY2FsLXN1YnN0aXR1dGlvbiIsdGl0bGU6IkFscGhhYmV0aWNhbCBzdWJzdGl0dXRpb24iLGNhdGVnb3J5OiJDaXBoZXJzIix0eXBlOiJlbmNvZGVyIn0scmM9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5hZGRTZXR0aW5ncyhbe25hbWU6InBsYWludGV4dEFscGhhYmV0Iix0eXBlOiJ0ZXh0Iix2YWx1ZToiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLHVuaXF1ZUNoYXJzOiEwLG1pbkxlbmd0aDoyLGNhc2VTZW5zaXRpdml0eTohMSxyYW5kb21pemFibGU6ITF9LHtuYW1lOiJjaXBoZXJ0ZXh0QWxwaGFiZXQiLHR5cGU6InRleHQiLHZhbHVlOiJ6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYSIsdW5pcXVlQ2hhcnM6ITAsbWluTGVuZ3RoOjAsY2FzZVNlbnNpdGl2aXR5OiExLHZhbGlkYXRlVmFsdWU6ZS52YWxpZGF0ZUNpcGhlcnRleHRWYWx1ZS5iaW5kKEN0KGUpKSxyYW5kb21pemVWYWx1ZTplLnJhbmRvbWl6ZUNpcGhlcnRleHRWYWx1ZS5iaW5kKEN0KGUpKX0se25hbWU6ImNhc2VTdHJhdGVneSIsdHlwZToiZW51bSIsdmFsdWU6Im1haW50YWluIixlbGVtZW50czpbIm1haW50YWluIiwiaWdub3JlIiwic3RyaWN0Il0sbGFiZWxzOlsiTWFpbnRhaW4gY2FzZSIsIklnbm9yZSBjYXNlIiwiU3RyaWN0IChBIOKJoCBhKSJdLHdpZHRoOjYscmFuZG9taXphYmxlOiExfSx7bmFtZToiaW5jbHVkZUZvcmVpZ25DaGFycyIsdHlwZToiYm9vbGVhbiIsbGFiZWw6IkZvcmVpZ24gQ2hhcnMiLHZhbHVlOiEwLHRydWVMYWJlbDoiSW5jbHVkZSIsZmFsc2VMYWJlbDoiSWdub3JlIix3aWR0aDo2LHJhbmRvbWl6YWJsZTohMX1dKSxlfXJldHVybiBidChuLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5jfX1dKSxidChuLFt7a2V5OiJwZXJmb3JtVHJhbnNsYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT10aGlzLmdldFNldHRpbmdWYWx1ZSgiY2FzZVN0cmF0ZWd5IiksYT10aGlzLmdldFNldHRpbmdWYWx1ZSgiaW5jbHVkZUZvcmVpZ25DaGFycyIpLG89dGhpcy5nZXRTZXR0aW5nVmFsdWUoInBsYWludGV4dEFscGhhYmV0Iikscz10aGlzLmdldFNldHRpbmdWYWx1ZSgiY2lwaGVydGV4dEFscGhhYmV0IikuZXh0ZW5kKG8pO2lmKCF0KXt2YXIgbD1bbyxzXTtzPWxbMF0sbz1sWzFdfSJzdHJpY3QiIT09aSYmKG89by50b0xvd2VyQ2FzZSgpLHM9cy50b0xvd2VyQ2FzZSgpLG49by50b1VwcGVyQ2FzZSgpLHI9cy50b1VwcGVyQ2FzZSgpKTtmb3IodmFyIHUsYyxoLGQ9ZS5nZXRDb2RlUG9pbnRzKCksZj1uZXcgQXJyYXkoZC5sZW5ndGgpLmZpbGwoMCksZz0wLHA9MDtwPGQubGVuZ3RoO3ArKyl1PWRbcF0saD0hMSwtMT09PShjPW8uaW5kZXhPZkNvZGVQb2ludCh1KSkmJiJzdHJpY3QiIT09aSYmKGM9bi5pbmRleE9mQ29kZVBvaW50KHUpLGg9ITApLC0xIT09Yz9mW2crK109Im1haW50YWluIj09PWkmJmg/ci5nZXRDb2RlUG9pbnRBdChjKTpzLmdldENvZGVQb2ludEF0KGMpOmEmJihmW2crK109dSk7cmV0dXJuIGYuc2xpY2UoMCxnKX19LHtrZXk6InNldHRpbmdWYWx1ZURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZS5nZXROYW1lKCkpe2Nhc2UicGxhaW50ZXh0QWxwaGFiZXQiOnRoaXMuZ2V0U2V0dGluZygiY2lwaGVydGV4dEFscGhhYmV0IikucmV2YWxpZGF0ZVZhbHVlKCk7YnJlYWs7Y2FzZSJjYXNlU3RyYXRlZ3kiOnRoaXMuZ2V0U2V0dGluZygicGxhaW50ZXh0QWxwaGFiZXQiKS5zZXRDYXNlU2Vuc2l0aXZpdHkoInN0cmljdCI9PT10KSx0aGlzLmdldFNldHRpbmcoImNpcGhlcnRleHRBbHBoYWJldCIpLnNldENhc2VTZW5zaXRpdml0eSgic3RyaWN0Ij09PXQpfX19LHtrZXk6InZhbGlkYXRlQ2lwaGVydGV4dFZhbHVlIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKCF0aGlzLmlzU2V0dGluZ1ZhbGlkKCJwbGFpbnRleHRBbHBoYWJldCIpKXJldHVybiExO3ZhciBuPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJwbGFpbnRleHRBbHBoYWJldCIpO3JldHVybiEoZS5nZXRMZW5ndGgoKT5uLmdldExlbmd0aCgpKXx8e2tleToiYWxwaGFiZXRDb250YWluc1VudXNlZENoYXJhY3RlcnMiLG1lc3NhZ2U6IlRoZSBjaXBoZXJ0ZXh0IGFscGhhYmV0IGlzIGxvbmdlciB0aGFuIHRoZSBwbGFpbnRleHQgYWxwaGFiZXQifX19LHtrZXk6InJhbmRvbWl6ZUNpcGhlcnRleHRWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5nZXRTZXR0aW5nKCJwbGFpbnRleHRBbHBoYWJldCIpLmlzVmFsaWQoKSlyZXR1cm4gbnVsbDt2YXIgbj10aGlzLmdldFNldHRpbmdWYWx1ZSgicGxhaW50ZXh0QWxwaGFiZXQiKTtyZXR1cm4gcWwud3JhcChhbC5zaHVmZmxlKG4uZ2V0Q29kZVBvaW50cygpKSl9fV0pLG59KHF1KSxpYz17bmFtZToiYXNjaWk4NSIsdGl0bGU6IkFzY2lpODUiLGNhdGVnb3J5OiJFbmNvZGluZyIsdHlwZToiZW5jb2RlciJ9LGFjPVt7bmFtZToib3JpZ2luYWwiLGxhYmVsOiJPcmlnaW5hbCIsYWxwaGFiZXQ6bnVsbCx6ZXJvVHVwbGVDaGFyOiJ6In0se25hbWU6Ilo4NSIsbGFiZWw6Ilo4NSAoWmVyb01RKSIsYWxwaGFiZXQ6IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaLi06Kz1eIS8qPyY8PigpW117fUAlJCMiLHplcm9UdXBsZUNoYXI6bnVsbH1dLG9jPWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3ZhciBlO3JldHVybiB5dCh0aGlzLG4pLChlPXQuY2FsbCh0aGlzKSkuYWRkU2V0dGluZyh7bmFtZToidmFyaWFudCIsdHlwZToiZW51bSIsbGFiZWw6IlZhcmlhbnQiLHZhbHVlOiJvcmlnaW5hbCIsZWxlbWVudHM6YWMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSkpLGxhYmVsczphYy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxhYmVsfSkpLHJhbmRvbWl6YWJsZTohMX0pLGV9cmV0dXJuIGJ0KG4sbnVsbCxbe2tleToiZ2V0TWV0YSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaWN9fV0pLGJ0KG4sW3trZXk6InBlcmZvcm1FbmNvZGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT10aGlzLGE9ZS5nZXRCeXRlcygpLG89YWMuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZT09PWkuZ2V0U2V0dGluZ1ZhbHVlKCJ2YXJpYW50Iil9KSkscz1hLmxlbmd0aCxsPSIiLHU9MDt1PHM7dSs9NClpZihyPShhW3VdPDwyNCkrKChhW3UrMV18fDApPDwxNikrKChhW3UrMl18fDApPDw4KSsoYVt1KzNdfHwwKT4+PjAsbnVsbD09PW8uemVyb1R1cGxlQ2hhcnx8cj4wKXtmb3IodD1bXSxuPTA7bjw1O24rKyl0LnB1c2gociU4NSkscj1NYXRoLmZsb29yKHIvODUpO3Q9dC5yZXZlcnNlKCksczx1KzQmJnQuc3BsaWNlKHMtKHUrNCksNCksbCs9dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09by5hbHBoYWJldD9TdHJpbmcuZnJvbUNoYXJDb2RlKGUrMzMpOm8uYWxwaGFiZXRbZV19KSkuam9pbigiIil9ZWxzZSBsKz1vLnplcm9UdXBsZUNoYXI7cmV0dXJuIGx9fSx7a2V5OiJ3aWxsRGVjb2RlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmdldFN0cmluZygpLm1hdGNoKC88figuKz8pfj4vKTtyZXR1cm4gbnVsbCE9PXQ/dFsxXTplfX0se2tleToicGVyZm9ybURlY29kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixpPXRoaXMsYT1CbC5yZW1vdmVXaGl0ZXNwYWNlcyhlLmdldFN0cmluZygpKSxvPWFjLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWU9PT1pLmdldFNldHRpbmdWYWx1ZSgidmFyaWFudCIpfSkpLHM9YS5sZW5ndGgsbD1bXSx1PTA7dTxzOylhW3VdPT09by56ZXJvVHVwbGVDaGFyPyhsLnB1c2goMCwwLDAsMCksdSsrKToocj1bKG49NTIyMDA2MjUqKHQ9YS5zdWJzdHIodSw1KS5zcGxpdCgiIikubWFwKChmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PT1vLmFscGhhYmV0P2UuY2hhckNvZGVBdCgwKS0zMzpvLmFscGhhYmV0LmluZGV4T2YoZSk7aWYobjwwfHxuPjg0KXRocm93IG5ldyBSbCgiSW52YWxpZCBjaGFyYWN0ZXIgJyIuY29uY2F0KGUsIicgYXQgaW5kZXggIikuY29uY2F0KHQpKTtyZXR1cm4gbn0pKSlbMF0rNjE0MTI1KnRbMV0rNzIyNSoodSsyPHM/dFsyXTo4NCkrODUqKHUrMzxzP3RbM106ODQpKyh1KzQ8cz90WzRdOjg0KSk+PjI0JjI1NSxuPj4xNiYyNTUsbj4+OCYyNTUsMjU1Jm5dLHM8dSs1JiZyLnNwbGljZShzLSh1KzUpLDUpLGwucHVzaC5hcHBseShsLHIpLHUrPTUpO3JldHVybiBuZXcgVWludDhBcnJheShsKX19XSksbn0ocXUpLHNjPXtuYW1lOiJiYWNvbi1jaXBoZXIiLHRpdGxlOiJCYWNvbiBjaXBoZXIiLGNhdGVnb3J5OiJDaXBoZXJzIix0eXBlOiJlbmNvZGVyIn0sbGM9W3tuYW1lOiJvcmlnaW5hbCIsbGFiZWw6Ik9yaWdpbmFsIixhbHBoYWJldDoiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLGNvZGVBbHBoYWJldDoiYWFhYWFhYWFhYmFhYWJhYWFhYmJhYWJhYWFhYmFiYWFiYmFhYWJiYmFiYWFhYWJhYWFhYmFhYmFiYWJhYWJhYmJhYmJhYWFiYmFiYWJiYmFhYmJiYmJhYWFhYmFhYWJiYWFiYWJhYWJiYmFhYmJiYWJhYWJhYmFiYmFiYmFiYWJiYiJ9LHtuYW1lOiJ1bmlxdWUiLGxhYmVsOiJVbmlxdWUgY29kZXMgZm9yIGVhY2ggbGV0dGVyIixhbHBoYWJldDoiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLGNvZGVBbHBoYWJldDoiYWFhYWFhYWFhYmFhYWJhYWFhYmJhYWJhYWFhYmFiYWFiYmFhYWJiYmFiYWFhYWJhYWJhYmFiYWFiYWJiYWJiYWFhYmJhYmFiYmJhYWJiYmJiYWFhYWJhYWFiYmFhYmFiYWFiYmJhYmFhYmFiYWJiYWJiYWJhYmJiYmJhYWFiYmFhYiJ9XSx1Yz1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLmFkZFNldHRpbmdzKFt7bmFtZToidmFyaWFudCIsdHlwZToiZW51bSIsbGFiZWw6IlZhcmlhbnQiLHZhbHVlOiJvcmlnaW5hbCIsZWxlbWVudHM6bGMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSkpLGxhYmVsczpsYy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxhYmVsfSkpLHJhbmRvbWl6YWJsZTohMX0se25hbWU6ImFNYXJrIixsYWJlbDoiTGV0dGVyIDEiLHR5cGU6InRleHQiLHdpZHRoOjYsdmFsdWU6ImEiLG1pbkxlbmd0aDoxLG1heExlbmd0aDoxLHJhbmRvbWl6YWJsZTohMSx2YWxpZGF0ZVZhbHVlOmUudmFsaWRhdGVMZXR0ZXJTZXR0aW5nVmFsdWUuYmluZChDdChlKSl9LHtuYW1lOiJiTWFyayIsbGFiZWw6IkxldHRlciAyIix0eXBlOiJ0ZXh0Iix3aWR0aDo2LHZhbHVlOiJiIixtaW5MZW5ndGg6MSxtYXhMZW5ndGg6MSxyYW5kb21pemFibGU6ITEsdmFsaWRhdGVWYWx1ZTplLnZhbGlkYXRlTGV0dGVyU2V0dGluZ1ZhbHVlLmJpbmQoQ3QoZSkpfV0pLGV9cmV0dXJuIGJ0KG4sbnVsbCxbe2tleToiZ2V0TWV0YSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gc2N9fV0pLGJ0KG4sW3trZXk6InZhbGlkYXRlTGV0dGVyU2V0dGluZ1ZhbHVlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0U2V0dGluZygiYU1hcmsiPT09dC5nZXROYW1lKCk/ImJNYXJrIjoiYU1hcmsiKTtyZXR1cm4gbi5pc1ZhbGlkKCkmJiFlLmlzRXF1YWxUbyhuLmdldFZhbHVlKCkpfX0se2tleToicGVyZm9ybUVuY29kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49dGhpcy5fZ2V0VmFyaWFudCgpLHI9bi5hbHBoYWJldCxpPW4uY29kZXMsYT1uLmNvZGVMZW5ndGgsbz10aGlzLmdldFNldHRpbmdWYWx1ZSgiYU1hcmsiKS5nZXRDaGFyQXQoMCkscz10aGlzLmdldFNldHRpbmdWYWx1ZSgiYk1hcmsiKS5nZXRDaGFyQXQoMCksbD1lLnRvTG93ZXJDYXNlKCksdT0iIixjPTA7YzxsLmdldExlbmd0aCgpO2MrKyktMSE9PSh0PXIuaW5kZXhPZihsLmdldENoYXJBdChjKSkpJiYodSs9aVt0XSk7cmV0dXJuImEiPT09byYmImIiPT09c3x8KHU9dS5zcGxpdCgiIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iYSI9PT1lP286c30pKS5qb2luKCIiKSksYWwuY2h1bmsocWwud3JhcCh1KS5nZXRDaGFycygpLGEpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuam9pbigiIil9KSkuam9pbigiICIpfX0se2tleToicGVyZm9ybURlY29kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLl9nZXRWYXJpYW50KCkscj1uLmFscGhhYmV0LGk9bi5jb2RlcyxhPW4uY29kZUxlbmd0aCxvPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJhTWFyayIpLmdldENvZGVQb2ludEF0KDApLHM9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImJNYXJrIikuZ2V0Q29kZVBvaW50QXQoMCksbD1lLmdldENvZGVQb2ludHMoKSx1PSIiO2Zvcih0PTA7dDxsLmxlbmd0aDt0Kyspc3dpdGNoKGxbdF0pe2Nhc2Ugbzp1Kz0iYSI7YnJlYWs7Y2FzZSBzOnUrPSJiIn12YXIgYyxoPUJsLmNodW5rKHUsYSksZD0iIjtmb3IodD0wO3Q8aC5sZW5ndGg7dCsrKS0xIT09KGM9aS5pbmRleE9mKGhbdF0pKSYmKGQrPXJbY10pO3JldHVybiBkfX0se2tleToiX2dldFZhcmlhbnQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZXR0aW5nVmFsdWUoInZhcmlhbnQiKSx0PWxjLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lfSkpLG49dC5hbHBoYWJldCxyPXQuY29kZUFscGhhYmV0LGk9ci5sZW5ndGgvbi5sZW5ndGg7cmV0dXJue2FscGhhYmV0Om4sY29kZXM6QmwuY2h1bmsocixpKSxjb2RlTGVuZ3RoOml9fX1dKSxufShxdSksY2M9e25hbWU6ImJhc2UzMiIsdGl0bGU6IkJhc2UzMiIsY2F0ZWdvcnk6IkVuY29kaW5nIix0eXBlOiJlbmNvZGVyIn0saGM9W3tuYW1lOiJiYXNlMzIiLGxhYmVsOiJCYXNlMzIgKFJGQyAzNTQ4LCBSRkMgNDY0OCkiLGFscGhhYmV0OiJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjIzNDU2NyIscGFkZGluZzo2MSxkZWNvZGVNYXA6ezQ4OjE0LDQ5Ojh9fSx7bmFtZToiYmFzZTMyaGV4IixsYWJlbDoiQmFzZTMyaGV4IChSRkMgNDY0OCkiLGFscGhhYmV0OiIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVViIscGFkZGluZzo2MX0se25hbWU6InotYmFzZS0zMiIsbGFiZWw6InotYmFzZS0zMiIsYWxwaGFiZXQ6InlibmRyZmc4ZWprbWNwcXhvdDF1d2lzemEzNDVoNzY5IixwYWRkaW5nOm51bGx9LHtuYW1lOiJjcm9ja2ZvcmQtYmFzZTMyIixsYWJlbDoiQ3JvY2tmb3JkJ3MgQmFzZTMyIixhbHBoYWJldDoiMDEyMzQ1Njc4OUFCQ0RFRkdISktNTlBRUlNUVldYWVoiLHBhZGRpbmc6bnVsbCxkZWNvZGVDb250ZW50RmlsdGVyOiJ1cHBlcmNhc2UiLGRlY29kZU1hcDp7Nzk6MCw3MzoxLDc2OjF9fSx7bmFtZToiY3VzdG9tIixsYWJlbDoiQ3VzdG9tIn1dLGRjPWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3ZhciBlO3JldHVybiB5dCh0aGlzLG4pLChlPXQuY2FsbCh0aGlzKSkuYWRkU2V0dGluZ3MoW3tuYW1lOiJ2YXJpYW50Iix0eXBlOiJlbnVtIix2YWx1ZTpoY1swXS5uYW1lLGVsZW1lbnRzOmhjLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZX0pKSxsYWJlbHM6aGMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sYWJlbH0pKSxyYW5kb21pemFibGU6ITF9LHtuYW1lOiJhbHBoYWJldCIsdHlwZToidGV4dCIsdmFsdWU6aGNbMF0uYWxwaGFiZXQsdW5pcXVlQ2hhcnM6ITAsbWluTGVuZ3RoOjMyLG1heExlbmd0aDozMixjYXNlU2Vuc2l0aXZpdHk6ITAsdmlzaWJsZTohMX0se25hbWU6InBhZGRpbmciLHR5cGU6InRleHQiLHZhbHVlOiI9IixibGFja2xpc3RDaGFyczpoY1swXS5hbHBoYWJldCxtaW5MZW5ndGg6MCxtYXhMZW5ndGg6MSxyYW5kb21pemFibGU6ITEsdmlzaWJsZTohMX1dKSxlfXJldHVybiBidChuLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGNjfX1dKSxidChuLFt7a2V5OiJwZXJmb3JtRW5jb2RlIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPXRoaXMuZ2V0VmFyaWFudE9wdGlvbnMoKSxpPXIuYWxwaGFiZXQsYT1yLnBhZGRpbmcsbz1pLmdldENvZGVQb2ludHMoKSxzPWUuZ2V0Qnl0ZXMoKSxsPXMubGVuZ3RoLHU9OCpNYXRoLmNlaWwobC81KSxjPW5ldyBBcnJheSh1KSxoPTAsZD0zLGY9MCxnPTA7ZzxsO2crKyluPWZ8KHQ9c1tnXSk+PmQsY1toKytdPW9bMzEmbl0sZD41JiYobj10Pj4oZC09NSksY1toKytdPW9bMzEmbl0pLGY9dDw8KGQ9NS1kKSxkPTgtZDtpZigzIT09ZCYmKGNbaCsrXT1vWzMxJmZdKSxudWxsIT09YSl7Zm9yKDtoPHU7KWNbaCsrXT1hO3JldHVybiBjfXJldHVybiBjLnNsaWNlKDAsaCl9fSx7a2V5OiJwZXJmb3JtRGVjb2RlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFZhcmlhbnRPcHRpb25zKCksbj10LmFscGhhYmV0LHI9dC5kZWNvZGVNYXAsaT10LnBhZGRpbmc7InVwcGVyY2FzZSI9PT10LmRlY29kZUNvbnRlbnRGaWx0ZXImJihlPWUudG9VcHBlckNhc2UoKSk7Zm9yKHZhciBhPTA7YTxuLmdldExlbmd0aCgpO2ErKylyW24uZ2V0Q29kZVBvaW50QXQoYSldPWE7Zm9yKHZhciBvLHMsbD1lLmdldENvZGVQb2ludHMoKSx1PWwubGVuZ3RoLGM9NSpNYXRoLmNlaWwodS84KSxoPW5ldyBVaW50OEFycmF5KGMpLGQ9MCxmPTgsZz0wLHA9MDtwPHU7cCsrKWlmKChvPWxbcF0pPT09aSk7ZWxzZXtpZih2b2lkIDA9PT1yW29dKXRocm93IG5ldyBSbCgiVW5leHBlY3RlZCBjb2RlIHBvaW50IGF0IGluZGV4ICIuY29uY2F0KHApKTtzPTI1NSZyW29dLChmLT01KT4wP2d8PXM8PGY6ZjwwPyhoW2QrK109Z3xzPj4tZixnPXM8PChmKz04KSYyNTUpOihoW2QrK109Z3xzLGY9OCxnPTApfXJldHVybiBoLnNsaWNlKDAsZCl9fSx7a2V5OiJzZXR0aW5nVmFsdWVEaWRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUuZ2V0TmFtZSgpKXtjYXNlInZhcmlhbnQiOnRoaXMuZ2V0U2V0dGluZygiYWxwaGFiZXQiKS5zZXRWaXNpYmxlKCJjdXN0b20iPT09dCksdGhpcy5nZXRTZXR0aW5nKCJwYWRkaW5nIikuc2V0VmlzaWJsZSgiY3VzdG9tIj09PXQpO2JyZWFrO2Nhc2UiYWxwaGFiZXQiOnRoaXMuZ2V0U2V0dGluZygicGFkZGluZyIpLnNldEJsYWNrbGlzdENoYXJzKHQpfX19LHtrZXk6ImdldFZhcmlhbnRPcHRpb25zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJ2YXJpYW50Iik7aWYoImN1c3RvbSI9PT1lKXt2YXIgdD10aGlzLmdldFNldHRpbmdWYWx1ZSgicGFkZGluZyIpO3JldHVybnthbHBoYWJldDp0aGlzLmdldFNldHRpbmdWYWx1ZSgiYWxwaGFiZXQiKSxwYWRkaW5nOjE9PT10LmdldExlbmd0aCgpP3QuZ2V0Q29kZVBvaW50QXQoMCk6bnVsbCxkZWNvZGVDb250ZW50RmlsdGVyOm51bGwsZGVjb2RlTWFwOnt9fX12YXIgbj1oYy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZX0pKTtyZXR1cm4gbi5hbHBoYWJldD1xbC53cmFwKG4uYWxwaGFiZXQpLG4uZGVjb2RlTWFwPW4uZGVjb2RlTWFwfHx7fSxufX1dKSxufShxdSksZmM9e25hbWU6ImJhc2U2NCIsdGl0bGU6IkJhc2U2NCIsY2F0ZWdvcnk6IkVuY29kaW5nIix0eXBlOiJlbmNvZGVyIn0sZ2M9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5IixwYz1be25hbWU6ImJhc2U2NCIsbGFiZWw6IkJhc2U2NCAoUkZDIDM1NDgsIFJGQyA0NjQ4KSIsZGVzY3JpcHRpb246bnVsbCxhbHBoYWJldDoiIi5jb25jYXQoZ2MsIisvIil9LHtuYW1lOiJiYXNlNjR1cmwiLGxhYmVsOiJCYXNlNjR1cmwgKFJGQyA0NjQ4IMKnNSkiLGRlc2NyaXB0aW9uOiJVUkwgYW5kIEZpbGVuYW1lIFNhZmUgQWxwaGFiZXQiLGFscGhhYmV0OiIiLmNvbmNhdChnYywiLV8iKSxwYWRkaW5nT3B0aW9uYWw6ITB9LHtuYW1lOiJyZmMyMDQ1IixsYWJlbDoiVHJhbnNmZXIgZW5jb2RpbmcgZm9yIE1JTUUgKFJGQyAyMDQ1KSIsZGVzY3JpcHRpb246bnVsbCxhbHBoYWJldDoiIi5jb25jYXQoZ2MsIisvIiksZm9yZWlnbkNoYXJhY3RlcnM6ITAsbWF4TGluZUxlbmd0aDo3Nn0se25hbWU6InJmYzE0MjEiLGxhYmVsOiJPcmlnaW5hbCBCYXNlNjQgKFJGQyAxNDIxKSIsZGVzY3JpcHRpb246IlByaXZhY3ktRW5oYW5jZWQgTWFpbCAoUEVNKSIsYWxwaGFiZXQ6IiIuY29uY2F0KGdjLCIrLyIpLG1heExpbmVMZW5ndGg6NjR9LHtuYW1lOiJjdXN0b20iLGxhYmVsOiJDdXN0b20ifV0sdmM9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5hZGRTZXR0aW5ncyhbe25hbWU6InZhcmlhbnQiLHR5cGU6ImVudW0iLHZhbHVlOnBjWzBdLm5hbWUsZWxlbWVudHM6cGMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSkpLGxhYmVsczpwYy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxhYmVsfSkpLGRlc2NyaXB0aW9uczpwYy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlc2NyaXB0aW9ufSkpLHJhbmRvbWl6YWJsZTohMX0se25hbWU6ImFscGhhYmV0Iix0eXBlOiJ0ZXh0Iix2YWx1ZTpwY1swXS5hbHBoYWJldCx1bmlxdWVDaGFyczohMCxtaW5MZW5ndGg6NjQsbWF4TGVuZ3RoOjY0LGNhc2VTZW5zaXRpdml0eTohMCx2aXNpYmxlOiExfSx7bmFtZToicGFkZGluZyIsdHlwZToidGV4dCIsdmFsdWU6Ij0iLGJsYWNrbGlzdENoYXJzOnBjWzBdLmFscGhhYmV0LG1pbkxlbmd0aDoxLG1heExlbmd0aDoxLHJhbmRvbWl6YWJsZTohMSx2aXNpYmxlOiExLHdpZHRoOjZ9LHtuYW1lOiJwYWRkaW5nT3B0aW9uYWwiLHR5cGU6ImJvb2xlYW4iLHZhbHVlOiExLHJhbmRvbWl6YWJsZTohMSx2aXNpYmxlOiExLHdpZHRoOjZ9XSksZX1yZXR1cm4gYnQobixudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmY319XSksYnQobixbe2tleToicGVyZm9ybUVuY29kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEZsLmJhc2U2NFN0cmluZ0Zyb21CeXRlcyhlLmdldEJ5dGVzKCksdGhpcy5nZXRWYXJpYW50T3B0aW9ucygpKX19LHtrZXk6InBlcmZvcm1EZWNvZGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBGbC5ieXRlc0Zyb21CYXNlNjRTdHJpbmcoZS5nZXRTdHJpbmcoKSx0aGlzLmdldFZhcmlhbnRPcHRpb25zKCkpfX0se2tleToic2V0dGluZ1ZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3N3aXRjaChlLmdldE5hbWUoKSl7Y2FzZSJ2YXJpYW50Ijp0aGlzLmdldFNldHRpbmcoImFscGhhYmV0Iikuc2V0VmlzaWJsZSgiY3VzdG9tIj09PXQpLHRoaXMuZ2V0U2V0dGluZygicGFkZGluZyIpLnNldFZpc2libGUoImN1c3RvbSI9PT10KSx0aGlzLmdldFNldHRpbmcoInBhZGRpbmdPcHRpb25hbCIpLnNldFZpc2libGUoImN1c3RvbSI9PT10KTticmVhaztjYXNlImFscGhhYmV0Ijp0aGlzLmdldFNldHRpbmcoInBhZGRpbmciKS5zZXRCbGFja2xpc3RDaGFycyh0KX19fSx7a2V5OiJnZXRWYXJpYW50T3B0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNldHRpbmdWYWx1ZSgidmFyaWFudCIpO3JldHVybiJjdXN0b20iPT09ZT97YWxwaGFiZXQ6dGhpcy5nZXRTZXR0aW5nVmFsdWUoImFscGhhYmV0IikuZ2V0U3RyaW5nKCkscGFkZGluZzp0aGlzLmdldFNldHRpbmdWYWx1ZSgicGFkZGluZyIpLmdldENoYXJBdCgwKSxwYWRkaW5nT3B0aW9uYWw6dGhpcy5nZXRTZXR0aW5nVmFsdWUoInBhZGRpbmdPcHRpb25hbCIpfTpwYy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZX0pKX19XSksbn0ocXUpLHljPXtuYW1lOiJiYXVkb3QtY29kZSIsdGl0bGU6IkJhdWRvdCBjb2RlIixjYXRlZ29yeToiRW5jb2RpbmciLHR5cGU6ImVuY29kZXIifSxtYz1be25hbWU6Iml0YTEiLGxhYmVsOiJPcmlnaW5hbCBCYXVkb3QgLSBJVEEgMSIsY2hhcmFjdGVyU2V0OlswLCJBIiwiRSIsIlxyIiwiWSIsIlUiLCJJIiwiTyIsIkZTIiwiSiIsIkciLCJIIiwiQiIsIkMiLCJGIiwiRCIsIiAiLCJcbiIsIlgiLCJaIiwiUyIsIlQiLCJXIiwiViIsMTI3LCJLIiwiTSIsIkwiLCJSIiwiUSIsIk4iLCJQIiwwLCIxIiwiMiIsIlxyIiwiMyIsIjQiLG51bGwsIjUiLCIgIiwiNiIsIjciLCIrIiwiOCIsIjkiLG51bGwsIjAiLCJMUyIsIlxuIiwiLCIsIjoiLCIuIixudWxsLCI/IiwiJyIsMTI3LCIoIiwiKSIsIj0iLCItIiwiLyIsbnVsbCwiJSJdfSx7bmFtZToib3JpZ2luYWwtZXUiLGxhYmVsOiJPcmlnaW5hbCBCYXVkb3QgLSBDb250aW5lbnRhbCBFdXJvcGVhbiIsZXh0ZW5kczoiaXRhMSIsb3ZlcnJpZGVzOnszOiLDiSIsMTc6IlQiLDM1OiImIiwzODoiwroiLDQzOiJoIiw0NjoiZiIsNDk6Ii4iLDUyOiI7Iiw1MzoiISIsNjI6IuKEliJ9fSx7bmFtZToib3JpZ2luYWwtdWsiLGxhYmVsOiJPcmlnaW5hbCBCYXVkb3QgLSBEb21lc3RpYyBVSyIsZXh0ZW5kczoiaXRhMSIsb3ZlcnJpZGVzOnszOiIvIiwxODoiLSIsMzU6IuKFnyIsMzg6IsKzIiw0MzoiwrkiLDQ2OiLigbUiLDQ5OiIuIiw1MDoi4oG5Iiw1Mjoi4oG3Iiw1MzoiwrIiLDYyOiLCoyIsNjM6IisifX0se25hbWU6Iml0YTIiLGxhYmVsOiJCYXVkb3QtTXVycmF5IC0gSVRBIDIiLGNoYXJhY3RlclNldDpbMCwiRSIsIlxuIiwiQSIsIiAiLCJTIiwiSSIsIlUiLCJcciIsIkQiLCJSIiwiSiIsIk4iLCJGIiwiQyIsIksiLCJUIiwiWiIsIkwiLCJXIiwiSCIsIlkiLCJQIiwiUSIsIk8iLCJCIiwiRyIsIkZTIiwiTSIsIlgiLCJWIiwxNSwwLCIzIiwiXG4iLCItIiwiICIsIiciLCI4IiwiNyIsIlxyIiw1LCI0Iiw3LCIsIiwiISIsIjoiLCIoIiwiNSIsIisiLCIpIiwiMiIsIsKjIiwiNiIsIjAiLCIxIiwiOSIsIj8iLCImIiwxNCwiLiIsIi8iLCI9IiwiTFMiXX0se25hbWU6InVzLXR0eSIsbGFiZWw6IkJhdWRvdC1NdXJyYXkgLSBVUy1UVFkiLGV4dGVuZHM6Iml0YTIiLG92ZXJyaWRlczp7Mzc6IiciLDQxOjUsNDM6Nyw0OToiKyIsNTI6IsKjIiw2MjoiPSJ9fSx7bmFtZToibXVycmF5LWNvZGUiLGxhYmVsOiJCYXVkb3QtTXVycmF5IC0gTXVycmF5IENvZGUiLGV4dGVuZHM6Iml0YTIiLG92ZXJyaWRlczp7MDoiICIsMjpudWxsLDQ6MTUsODoiXG4iLDMxOiIqIiwzMjoiICIsMzQ6bnVsbCwzNTpudWxsLDM2OiJMUyIsNDA6IlxuIiw0MToiwrIiLDQzOiLigbciLDQ0OiItIiw0NToi4oWfIiw0NjoiKCIsNDc6IuKBuSIsNDk6Ii4iLDUwOiIvIiw1Mjoi4oG1Iiw1ODoiwrMiLDYwOiIsIiw2MToiwqMiLDYyOiIpIiw2MzoiKiJ9fV0sYmM9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5fdmFyaWFudENoYXJhY3RlclNldD1bXSxlLmFkZFNldHRpbmcoe25hbWU6InZhcmlhbnQiLHR5cGU6ImVudW0iLHZhbHVlOiJpdGEyIixlbGVtZW50czptYy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWV9KSksbGFiZWxzOm1jLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubGFiZWx9KSkscmFuZG9taXphYmxlOiExfSksZX1yZXR1cm4gYnQobixudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB5Y319XSksYnQobixbe2tleToicGVyZm9ybUVuY29kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj10aGlzLmdldFNldHRpbmdWYWx1ZSgidmFyaWFudCIpLGk9dGhpcy5nZXRWYXJpYW50Q2hhcmFjdGVyU2V0KHIpLGE9aS5pbmRleE9mKCJGUyIpJTMyLG89aS5pbmRleE9mKCJMUyIpJTMyLHM9ZS5nZXRDb2RlUG9pbnRzKCksbD1zLmxlbmd0aCx1PVtdLGM9ITEsaD0wO2g8bDtoKyspbj1zW2hdLC0xPT09KHQ9aS5pbmRleE9mKG4pKSYmbj49OTcmJm48PTEyMiYmKHQ9aS5pbmRleE9mKG4tMzIpKSx0Pj0wJiZ0PDMyPyhjJiYodS5wdXNoKG8pLGM9ITEpLHUucHVzaCh0KSk6dD49MzImJihjfHwodS5wdXNoKGEpLGM9ITApLHUucHVzaCh0LTMyKSk7cmV0dXJuIGFsLnJlc2l6ZUJpdFNpemVkQXJyYXkodSw1LDgpfX0se2tleToicGVyZm9ybURlY29kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj10aGlzLmdldFNldHRpbmdWYWx1ZSgidmFyaWFudCIpLGk9dGhpcy5nZXRWYXJpYW50Q2hhcmFjdGVyU2V0KHIpLGE9aS5pbmRleE9mKCJGUyIpJTMyLG89aS5pbmRleE9mKCJMUyIpJTMyLHM9YWwucmVzaXplQml0U2l6ZWRBcnJheShlLmdldEJ5dGVzKCksOCw1LCEwKSxsPW5ldyBBcnJheShzLmxlbmd0aCksdT0hMSxjPTAsaD0wO2g8cy5sZW5ndGg7aCsrKXQ9c1toXSx1fHx0IT09YT91JiZ0PT09bz91PSExOm51bGwhPT0obj1pW3QrKHU/MzI6MCldKSYmKGxbYysrXT1uKTp1PSEwO3JldHVybiBsLnNsaWNlKDAsYyl9fSx7a2V5OiJnZXRWYXJpYW50Q2hhcmFjdGVyU2V0Iix2YWx1ZTpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT10aGlzLl92YXJpYW50Q2hhcmFjdGVyU2V0W2VdKXJldHVybiB0aGlzLl92YXJpYW50Q2hhcmFjdGVyU2V0W2VdO3ZhciB0PW1jLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lfSkpO2lmKHZvaWQgMD09PXQpcmV0dXJuIG51bGw7dmFyIG49KHQuY2hhcmFjdGVyU2V0fHxbXSkuc2xpY2UoKTtpZih0LmV4dGVuZHMpe3ZhciByPXRoaXMuZ2V0VmFyaWFudENoYXJhY3RlclNldCh0LmV4dGVuZHMpO251bGwhPT1yJiYobj1yLnNsaWNlKCkpfWlmKHQub3ZlcnJpZGVzKWZvcih2YXIgaSBpbiB0Lm92ZXJyaWRlcyluW2ldPXQub3ZlcnJpZGVzW2ldO2Zvcih2YXIgYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgbz1uW2FdOyJGUyIhPT1vJiYiTFMiIT09byYmbnVsbCE9PW8mJihuW2FdPSJzdHJpbmciPT10eXBlb2Ygbz9qbC5jb2RlUG9pbnRzRnJvbVN0cmluZyhvKVswXTpvKX1yZXR1cm4gdGhpcy5fdmFyaWFudENoYXJhY3RlclNldFtlXT1uLG59fV0pLG59KHF1KSxrYz17bmFtZToiYmlmaWQtY2lwaGVyIix0aXRsZToiQmlmaWQgY2lwaGVyIixjYXRlZ29yeToiUG9seWJpdXMgc3F1YXJlIGNpcGhlcnMiLHR5cGU6ImVuY29kZXIifSx3Yz0iYWJjZGVmZ2hpa2xtbm9wcXJzdHV2d3h5eiIsX2M9ZnVuY3Rpb24oZSl7a3QoaSxlKTt2YXIgdCxuLHI9RXQoaSk7ZnVuY3Rpb24gaSgpe3ZhciBlO3JldHVybiB5dCh0aGlzLGkpLChlPXIuY2FsbCh0aGlzKSkuYWRkU2V0dGluZyh7bmFtZToia2V5Iix0eXBlOiJ0ZXh0Iix2YWx1ZToiIix1bmlxdWVDaGFyczohMCxtaW5MZW5ndGg6MCxjYXNlU2Vuc2l0aXZpdHk6ITF9KSxlLl9wb2x5Yml1c1NxdWFyZT1uZXcgS3UsZS5fcG9seWJpdXNTcXVhcmUuc2V0U2V0dGluZ1ZhbHVlcyh7YWxwaGFiZXQ6d2Mscm93czoiMTIzNDUiLGNvbHVtbnM6IjEyMzQ1IixzZXBhcmF0b3I6IiIsY2FzZVNlbnNpdGl2aXR5OiExLGluY2x1ZGVGb3JlaWduQ2hhcnM6ITF9KSxlfXJldHVybiBidChpLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGtjfX1dKSxidChpLFt7a2V5OiJwZXJmb3JtRW5jb2RlIix2YWx1ZToobj12dChyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGksYTtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLm5leHQ9Mix0aGlzLl9wb2x5Yml1c1NxdWFyZS5lbmNvZGUodC5nZXRTdHJpbmcoKS5yZXBsYWNlKC9qL2dpLCJpIikpO2Nhc2UgMjpmb3Iobj1lLnNlbnQscj1uLmdldExlbmd0aCgpLGk9bmV3IEFycmF5KHIpLGE9MDthPHIvMjthKyspaVthXT1uLmdldENvZGVQb2ludEF0KDIqYSksaVtyLzIrYV09bi5nZXRDb2RlUG9pbnRBdCgyKmErMSk7cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHRoaXMuX3BvbHliaXVzU3F1YXJlLmRlY29kZShpKSk7Y2FzZSA3OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6InBlcmZvcm1EZWNvZGUiLHZhbHVlOih0PXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciBuLHIsaSxhO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLHRoaXMuX3BvbHliaXVzU3F1YXJlLmVuY29kZSh0KTtjYXNlIDI6Zm9yKG49ZS5zZW50LHI9bi5nZXRMZW5ndGgoKSxpPW5ldyBBcnJheShyKSxhPTA7YTxyLzI7YSsrKWlbMiphXT1uLmdldENvZGVQb2ludEF0KGEpLGlbMiphKzFdPW4uZ2V0Q29kZVBvaW50QXQoci8yK2EpO3JldHVybiBlLmFicnVwdCgicmV0dXJuIix0aGlzLl9wb2x5Yml1c1NxdWFyZS5kZWNvZGUoaSkpO2Nhc2UgNzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJzZXR0aW5nVmFsdWVEaWRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUuZ2V0TmFtZSgpKXtjYXNlImtleSI6dGhpcy5fcG9seWJpdXNTcXVhcmUuc2V0U2V0dGluZ1ZhbHVlKCJhbHBoYWJldCIsdC5leHRlbmQod2MpKX19fV0pLGl9KHF1KSxTYz17bmFtZToiYml0d2lzZS1vcGVyYXRpb24iLHRpdGxlOiJCaXR3aXNlIG9wZXJhdGlvbiIsY2F0ZWdvcnk6IlRyYW5zZm9ybSIsdHlwZToiZW5jb2RlciJ9LHhjPXtOT1Q6Ik5PVCIsQU5EOiJOQU5EIixPUjoiTk9SIixYT1I6Ik5YT1IiLE5BTkQ6IkFORCIsTk9SOiJPUiIsTlhPUjoiWE9SIn0sSWM9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5hZGRTZXR0aW5ncyhbe25hbWU6Im9wZXJhdGlvbiIsdHlwZToiZW51bSIsdmFsdWU6Ik5PVCIsZWxlbWVudHM6WyJOT1QiLCJBTkQiLCJPUiIsIlhPUiIsIk5BTkQiLCJOT1IiLCJOWE9SIl0sbGFiZWxzOlsiTk9UIH5hIiwiQU5EIChhICYgYikiLCJPUiAoYSB8IGIpIiwiWE9SIChhIF4gYikiLCJOQU5EIH4oYSAmIGIpIiwiTk9SIH4oYSB8IGIpIiwiTlhPUiB+KGEgXiBiKSJdLHJhbmRvbWl6YWJsZTohMSxzdHlsZToicmFkaW8ifSx7bmFtZToib3BlcmFuZCIsbGFiZWw6Ik9wZXJhbmQgQiAoUmVwZWF0aW5nKSIsdHlwZToiYnl0ZXMiLHZhbHVlOm5ldyBVaW50OEFycmF5KFsxNV0pLG1pblNpemU6MSx2aXNpYmxlOiExfV0pLGV9cmV0dXJuIGJ0KG4sbnVsbCxbe2tleToiZ2V0TWV0YSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gU2N9fV0pLGJ0KG4sW3trZXk6InBlcmZvcm1UcmFuc2xhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPWUuZ2V0Qnl0ZXMoKSxpPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJvcGVyYW5kIiksYT10aGlzLmdldFNldHRpbmdWYWx1ZSgib3BlcmF0aW9uIik7cmV0dXJuIHR8fChhPXhjW2FdKSxyLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5wZXJmb3JtQnl0ZU9wZXJhdGlvbihlLGEsaVt0JWkubGVuZ3RoXSl9KSl9fSx7a2V5OiJwZXJmb3JtQnl0ZU9wZXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MDtzd2l0Y2godCl7Y2FzZSJOT1QiOnJldHVybn5lO2Nhc2UiQU5EIjpyZXR1cm4gZSZuO2Nhc2UiT1IiOnJldHVybiBlfG47Y2FzZSJYT1IiOnJldHVybiBlXm47Y2FzZSJOQU5EIjpyZXR1cm5+KGUmbik7Y2FzZSJOT1IiOnJldHVybn4oZXxuKTtjYXNlIk5YT1IiOnJldHVybn4oZV5uKTtkZWZhdWx0OnJldHVybiBlfX19LHtrZXk6InNldHRpbmdWYWx1ZURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXsib3BlcmF0aW9uIj09PWUuZ2V0TmFtZSgpJiZ0aGlzLmdldFNldHRpbmcoIm9wZXJhbmQiKS5zZXRWaXNpYmxlKCJOT1QiIT09dCl9fV0pLG59KHF1KSxDYz1zLlByb21pc2UsVmM9YSgoZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXt0aGlzLnN0b3BwZWQ9ZSx0aGlzLnJlc3VsdD10fTsoZS5leHBvcnRzPWZ1bmN0aW9uKGUsbixyLGksYSl7dmFyIG8scyxsLHUsYyxoLGQsZj16ZShuLHIsaT8yOjEpO2lmKGEpbz1lO2Vsc2V7aWYoImZ1bmN0aW9uIiE9dHlwZW9mKHM9Zm8oZSkpKXRocm93IFR5cGVFcnJvcigiVGFyZ2V0IGlzIG5vdCBpdGVyYWJsZSIpO2lmKHZvKHMpKXtmb3IobD0wLHU9ZmUoZS5sZW5ndGgpO3U+bDtsKyspaWYoKGM9aT9mKFQoZD1lW2xdKVswXSxkWzFdKTpmKGVbbF0pKSYmYyBpbnN0YW5jZW9mIHQpcmV0dXJuIGM7cmV0dXJuIG5ldyB0KCExKX1vPXMuY2FsbChlKX1mb3IoaD1vLm5leHQ7IShkPWguY2FsbChvKSkuZG9uZTspaWYoIm9iamVjdCI9PXR5cGVvZihjPW9sKG8sZixkLnZhbHVlLGkpKSYmYyYmYyBpbnN0YW5jZW9mIHQpcmV0dXJuIGM7cmV0dXJuIG5ldyB0KCExKX0pLnN0b3A9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KCEwLGUpfX0pKSxFYz0vKGlwaG9uZXxpcG9kfGlwYWQpLiphcHBsZXdlYmtpdC9pLnRlc3QoUnQpLEFjPXMubG9jYXRpb24sTWM9cy5zZXRJbW1lZGlhdGUsVGM9cy5jbGVhckltbWVkaWF0ZSxMYz1zLnByb2Nlc3MsUGM9cy5NZXNzYWdlQ2hhbm5lbCxCYz1zLkRpc3BhdGNoLE9jPTAsUmM9e30semM9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsTmM9ZnVuY3Rpb24oZSl7aWYoUmMuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PVJjW2VdO2RlbGV0ZSBSY1tlXSx0KCl9fSxGYz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtOYyhlKX19LERjPWZ1bmN0aW9uKGUpe05jKGUuZGF0YSl9LGpjPWZ1bmN0aW9uKGUpe3MucG9zdE1lc3NhZ2UoZSsiIixBYy5wcm90b2NvbCsiLy8iK0FjLmhvc3QpfTtNYyYmVGN8fChNYz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO2FyZ3VtZW50cy5sZW5ndGg+bjspdC5wdXNoKGFyZ3VtZW50c1tuKytdKTtyZXR1cm4gUmNbKytPY109ZnVuY3Rpb24oKXsoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSkuYXBwbHkodm9pZCAwLHQpfSxNdShPYyksT2N9LFRjPWZ1bmN0aW9uKGUpe2RlbGV0ZSBSY1tlXX0sInByb2Nlc3MiPT1wKExjKT9NdT1mdW5jdGlvbihlKXtMYy5uZXh0VGljayhGYyhlKSl9OkJjJiZCYy5ub3c/TXU9ZnVuY3Rpb24oZSl7QmMubm93KEZjKGUpKX06UGMmJiFFYz8oTHU9KFR1PW5ldyBQYykucG9ydDIsVHUucG9ydDEub25tZXNzYWdlPURjLE11PXplKEx1LnBvc3RNZXNzYWdlLEx1LDEpKTohcy5hZGRFdmVudExpc3RlbmVyfHwiZnVuY3Rpb24iIT10eXBlb2YgcG9zdE1lc3NhZ2V8fHMuaW1wb3J0U2NyaXB0c3x8bChqYyl8fCJmaWxlOiI9PT1BYy5wcm90b2NvbD9NdT16YyBpbiBWKCJzY3JpcHQiKT9mdW5jdGlvbihlKXtjci5hcHBlbmRDaGlsZChWKCJzY3JpcHQiKSkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7Y3IucmVtb3ZlQ2hpbGQodGhpcyksTmMoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KEZjKGUpLDApfTooTXU9amMscy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixEYywhMSkpKTt2YXIgJGMscWMsVWMsV2MsR2MsSGMsS2MsWGMsWmM9e3NldDpNYyxjbGVhcjpUY30sWWM9TS5mLEpjPVpjLnNldCxRYz1zLk11dGF0aW9uT2JzZXJ2ZXJ8fHMuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixlaD1zLnByb2Nlc3MsdGg9cy5Qcm9taXNlLG5oPSJwcm9jZXNzIj09cChlaCkscmg9WWMocywicXVldWVNaWNyb3Rhc2siKSxpaD1yaCYmcmgudmFsdWU7aWh8fCgkYz1mdW5jdGlvbigpe3ZhciBlLHQ7Zm9yKG5oJiYoZT1laC5kb21haW4pJiZlLmV4aXQoKTtxYzspe3Q9cWMuZm4scWM9cWMubmV4dDt0cnl7dCgpfWNhdGNoKGUpe3Rocm93IHFjP1djKCk6VWM9dm9pZCAwLGV9fVVjPXZvaWQgMCxlJiZlLmVudGVyKCl9LG5oP1djPWZ1bmN0aW9uKCl7ZWgubmV4dFRpY2soJGMpfTpRYyYmIUVjPyhHYz0hMCxIYz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIiksbmV3IFFjKCRjKS5vYnNlcnZlKEhjLHtjaGFyYWN0ZXJEYXRhOiEwfSksV2M9ZnVuY3Rpb24oKXtIYy5kYXRhPUdjPSFHY30pOnRoJiZ0aC5yZXNvbHZlPyhLYz10aC5yZXNvbHZlKHZvaWQgMCksWGM9S2MudGhlbixXYz1mdW5jdGlvbigpe1hjLmNhbGwoS2MsJGMpfSk6V2M9ZnVuY3Rpb24oKXtKYy5jYWxsKHMsJGMpfSk7dmFyIGFoLG9oLHNoLGxoLHVoPWlofHxmdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMH07VWMmJihVYy5uZXh0PXQpLHFjfHwocWM9dCxXYygpKSxVYz10fSxjaD1mdW5jdGlvbihlKXt2YXIgdCxuO3RoaXMucHJvbWlzZT1uZXcgZSgoZnVuY3Rpb24oZSxyKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1uKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUsbj1yfSkpLHRoaXMucmVzb2x2ZT1SZSh0KSx0aGlzLnJlamVjdD1SZShuKX0saGg9e2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBjaChlKX19LGRoPWZ1bmN0aW9uKGUsdCl7aWYoVChlKSx3KHQpJiZ0LmNvbnN0cnVjdG9yPT09ZSlyZXR1cm4gdDt2YXIgbj1oaC5mKGUpO3JldHVybigwLG4ucmVzb2x2ZSkodCksbi5wcm9taXNlfSxmaD1mdW5jdGlvbihlKXt0cnl7cmV0dXJue2Vycm9yOiExLHZhbHVlOmUoKX19Y2F0Y2goZSl7cmV0dXJue2Vycm9yOiEwLHZhbHVlOmV9fX0sZ2g9WmMuc2V0LHBoPVdlKCJzcGVjaWVzIiksdmg9IlByb21pc2UiLHloPWllLmdldCxtaD1pZS5zZXQsYmg9aWUuZ2V0dGVyRm9yKHZoKSxraD1DYyx3aD1zLlR5cGVFcnJvcixfaD1zLmRvY3VtZW50LFNoPXMucHJvY2Vzcyx4aD1sZSgiZmV0Y2giKSxJaD1oaC5mLENoPUloLFZoPSJwcm9jZXNzIj09cChTaCksRWg9ISEoX2gmJl9oLmNyZWF0ZUV2ZW50JiZzLmRpc3BhdGNoRXZlbnQpLEFoPSJ1bmhhbmRsZWRyZWplY3Rpb24iLE1oPVBlKHZoLChmdW5jdGlvbigpe2lmKCEoJChraCkhPT1TdHJpbmcoa2gpKSl7aWYoNjY9PT1EdClyZXR1cm4hMDtpZighVmgmJiJmdW5jdGlvbiIhPXR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQpcmV0dXJuITB9aWYoRHQ+PTUxJiYvbmF0aXZlIGNvZGUvLnRlc3Qoa2gpKXJldHVybiExO3ZhciBlPWtoLnJlc29sdmUoMSksdD1mdW5jdGlvbihlKXtlKChmdW5jdGlvbigpe30pLChmdW5jdGlvbigpe30pKX07cmV0dXJuKGUuY29uc3RydWN0b3I9e30pW3BoXT10LCEoZS50aGVuKChmdW5jdGlvbigpe30pKWluc3RhbmNlb2YgdCl9KSksVGg9TWh8fCFRaSgoZnVuY3Rpb24oZSl7a2guYWxsKGUpLmNhdGNoKChmdW5jdGlvbigpe30pKX0pKSxMaD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCF3KGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sUGg9ZnVuY3Rpb24oZSx0LG4pe2lmKCF0Lm5vdGlmaWVkKXt0Lm5vdGlmaWVkPSEwO3ZhciByPXQucmVhY3Rpb25zO3VoKChmdW5jdGlvbigpe2Zvcih2YXIgaT10LnZhbHVlLGE9MT09dC5zdGF0ZSxvPTA7ci5sZW5ndGg+bzspe3ZhciBzLGwsdSxjPXJbbysrXSxoPWE/Yy5vazpjLmZhaWwsZD1jLnJlc29sdmUsZj1jLnJlamVjdCxnPWMuZG9tYWluO3RyeXtoPyhhfHwoMj09PXQucmVqZWN0aW9uJiZ6aChlLHQpLHQucmVqZWN0aW9uPTEpLCEwPT09aD9zPWk6KGcmJmcuZW50ZXIoKSxzPWgoaSksZyYmKGcuZXhpdCgpLHU9ITApKSxzPT09Yy5wcm9taXNlP2Yod2goIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGw9TGgocykpP2wuY2FsbChzLGQsZik6ZChzKSk6ZihpKX1jYXRjaChlKXtnJiYhdSYmZy5leGl0KCksZihlKX19dC5yZWFjdGlvbnM9W10sdC5ub3RpZmllZD0hMSxuJiYhdC5yZWplY3Rpb24mJk9oKGUsdCl9KSl9fSxCaD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtFaD8oKHI9X2guY3JlYXRlRXZlbnQoIkV2ZW50IikpLnByb21pc2U9dCxyLnJlYXNvbj1uLHIuaW5pdEV2ZW50KGUsITEsITApLHMuZGlzcGF0Y2hFdmVudChyKSk6cj17cHJvbWlzZTp0LHJlYXNvbjpufSwoaT1zWyJvbiIrZV0pP2kocik6ZT09PUFoJiZmdW5jdGlvbihlLHQpe3ZhciBuPXMuY29uc29sZTtuJiZuLmVycm9yJiYoMT09PWFyZ3VtZW50cy5sZW5ndGg/bi5lcnJvcihlKTpuLmVycm9yKGUsdCkpfSgiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKX0sT2g9ZnVuY3Rpb24oZSx0KXtnaC5jYWxsKHMsKGZ1bmN0aW9uKCl7dmFyIG4scj10LnZhbHVlO2lmKFJoKHQpJiYobj1maCgoZnVuY3Rpb24oKXtWaD9TaC5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLHIsZSk6QmgoQWgsZSxyKX0pKSx0LnJlamVjdGlvbj1WaHx8UmgodCk/MjoxLG4uZXJyb3IpKXRocm93IG4udmFsdWV9KSl9LFJoPWZ1bmN0aW9uKGUpe3JldHVybiAxIT09ZS5yZWplY3Rpb24mJiFlLnBhcmVudH0semg9ZnVuY3Rpb24oZSx0KXtnaC5jYWxsKHMsKGZ1bmN0aW9uKCl7Vmg/U2guZW1pdCgicmVqZWN0aW9uSGFuZGxlZCIsZSk6QmgoInJlamVjdGlvbmhhbmRsZWQiLGUsdC52YWx1ZSl9KSl9LE5oPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBmdW5jdGlvbihpKXtlKHQsbixpLHIpfX0sRmg9ZnVuY3Rpb24oZSx0LG4scil7dC5kb25lfHwodC5kb25lPSEwLHImJih0PXIpLHQudmFsdWU9bix0LnN0YXRlPTIsUGgoZSx0LCEwKSl9LERoPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCF0LmRvbmUpe3QuZG9uZT0hMCxyJiYodD1yKTt0cnl7aWYoZT09PW4pdGhyb3cgd2goIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7dmFyIGk9TGgobik7aT91aCgoZnVuY3Rpb24oKXt2YXIgcj17ZG9uZTohMX07dHJ5e2kuY2FsbChuLE5oKERoLGUscix0KSxOaChGaCxlLHIsdCkpfWNhdGNoKG4pe0ZoKGUscixuLHQpfX0pKToodC52YWx1ZT1uLHQuc3RhdGU9MSxQaChlLHQsITEpKX1jYXRjaChuKXtGaChlLHtkb25lOiExfSxuLHQpfX19O01oJiYoa2g9ZnVuY3Rpb24oZSl7X2EodGhpcyxraCx2aCksUmUoZSksYWguY2FsbCh0aGlzKTt2YXIgdD15aCh0aGlzKTt0cnl7ZShOaChEaCx0aGlzLHQpLE5oKEZoLHRoaXMsdCkpfWNhdGNoKGUpe0ZoKHRoaXMsdCxlKX19LChhaD1mdW5jdGlvbihlKXttaCh0aGlzLHt0eXBlOnZoLGRvbmU6ITEsbm90aWZpZWQ6ITEscGFyZW50OiExLHJlYWN0aW9uczpbXSxyZWplY3Rpb246ITEsc3RhdGU6MCx2YWx1ZTp2b2lkIDB9KX0pLnByb3RvdHlwZT13YShraC5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgbj1iaCh0aGlzKSxyPUloKEpuKHRoaXMsa2gpKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iIT10eXBlb2YgZXx8ZSxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsci5kb21haW49Vmg/U2guZG9tYWluOnZvaWQgMCxuLnBhcmVudD0hMCxuLnJlYWN0aW9ucy5wdXNoKHIpLDAhPW4uc3RhdGUmJlBoKHRoaXMsbiwhMSksci5wcm9taXNlfSxjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSxvaD1mdW5jdGlvbigpe3ZhciBlPW5ldyBhaCx0PXloKGUpO3RoaXMucHJvbWlzZT1lLHRoaXMucmVzb2x2ZT1OaChEaCxlLHQpLHRoaXMucmVqZWN0PU5oKEZoLGUsdCl9LGhoLmY9SWg9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1raHx8ZT09PXNoP25ldyBvaChlKTpDaChlKX0sImZ1bmN0aW9uIj09dHlwZW9mIENjJiYobGg9Q2MucHJvdG90eXBlLnRoZW4sYWUoQ2MucHJvdG90eXBlLCJ0aGVuIiwoZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiBuZXcga2goKGZ1bmN0aW9uKGUsdCl7bGguY2FsbChuLGUsdCl9KSkudGhlbihlLHQpfSkse3Vuc2FmZTohMH0pLCJmdW5jdGlvbiI9PXR5cGVvZiB4aCYmT2Uoe2dsb2JhbDohMCxlbnVtZXJhYmxlOiEwLGZvcmNlZDohMH0se2ZldGNoOmZ1bmN0aW9uKGUpe3JldHVybiBkaChraCx4aC5hcHBseShzLGFyZ3VtZW50cykpfX0pKSksT2Uoe2dsb2JhbDohMCx3cmFwOiEwLGZvcmNlZDpNaH0se1Byb21pc2U6a2h9KSxJcihraCx2aCwhMSksa28odmgpLHNoPWxlKHZoKSxPZSh7dGFyZ2V0OnZoLHN0YXQ6ITAsZm9yY2VkOk1ofSx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PUloKHRoaXMpO3JldHVybiB0LnJlamVjdC5jYWxsKHZvaWQgMCxlKSx0LnByb21pc2V9fSksT2Uoe3RhcmdldDp2aCxzdGF0OiEwLGZvcmNlZDpNaH0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGRoKHRoaXMsZSl9fSksT2Uoe3RhcmdldDp2aCxzdGF0OiEwLGZvcmNlZDpUaH0se2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49SWgodCkscj1uLnJlc29sdmUsaT1uLnJlamVjdCxhPWZoKChmdW5jdGlvbigpe3ZhciBuPVJlKHQucmVzb2x2ZSksYT1bXSxvPTAscz0xO1ZjKGUsKGZ1bmN0aW9uKGUpe3ZhciBsPW8rKyx1PSExO2EucHVzaCh2b2lkIDApLHMrKyxuLmNhbGwodCxlKS50aGVuKChmdW5jdGlvbihlKXt1fHwodT0hMCxhW2xdPWUsLS1zfHxyKGEpKX0pLGkpfSkpLC0tc3x8cihhKX0pKTtyZXR1cm4gYS5lcnJvciYmaShhLnZhbHVlKSxuLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPUloKHQpLHI9bi5yZWplY3QsaT1maCgoZnVuY3Rpb24oKXt2YXIgaT1SZSh0LnJlc29sdmUpO1ZjKGUsKGZ1bmN0aW9uKGUpe2kuY2FsbCh0LGUpLnRoZW4obi5yZXNvbHZlLHIpfSkpfSkpO3JldHVybiBpLmVycm9yJiZyKGkudmFsdWUpLG4ucHJvbWlzZX19KTt2YXIgamg9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PTAsbj1hcmd1bWVudHMubGVuZ3RoO3Q8bjt0KyspZSs9YXJndW1lbnRzW3RdLmxlbmd0aDt2YXIgcj1BcnJheShlKSxpPTA7Zm9yKHQ9MDt0PG47dCsrKWZvcih2YXIgYT1hcmd1bWVudHNbdF0sbz0wLHM9YS5sZW5ndGg7bzxzO28rKyxpKyspcltpXT1hW29dO3JldHVybiByfSwkaD1mdW5jdGlvbihlLHQsbil7dGhpcy5uYW1lPWUsdGhpcy52ZXJzaW9uPXQsdGhpcy5vcz1uLHRoaXMudHlwZT0iYnJvd3NlciJ9LHFoPWZ1bmN0aW9uKGUpe3RoaXMudmVyc2lvbj1lLHRoaXMudHlwZT0ibm9kZSIsdGhpcy5uYW1lPSJub2RlIix0aGlzLm9zPXByb2Nlc3MucGxhdGZvcm19LFVoPWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMubmFtZT1lLHRoaXMudmVyc2lvbj10LHRoaXMub3M9bix0aGlzLmJvdD1yLHRoaXMudHlwZT0iYm90LWRldmljZSJ9LFdoPWZ1bmN0aW9uKCl7dGhpcy50eXBlPSJib3QiLHRoaXMuYm90PSEwLHRoaXMubmFtZT0iYm90Iix0aGlzLnZlcnNpb249bnVsbCx0aGlzLm9zPW51bGx9LEdoPWZ1bmN0aW9uKCl7dGhpcy50eXBlPSJyZWFjdC1uYXRpdmUiLHRoaXMubmFtZT0icmVhY3QtbmF0aXZlIix0aGlzLnZlcnNpb249bnVsbCx0aGlzLm9zPW51bGx9LEhoPS8obnVoa3xHb29nbGVib3R8WWFtbXlib3R8T3BlbmJvdHxTbHVycHxNU05Cb3R8QXNrXCBKZWV2ZXNcL1Rlb21hfGlhX2FyY2hpdmVyKS8sS2g9W1siYW9sIiwvQU9MU2hpZWxkXC8oWzAtOVwuX10rKS9dLFsiZWRnZSIsL0VkZ2VcLyhbMC05XC5fXSspL10sWyJlZGdlLWlvcyIsL0VkZ2lPU1wvKFswLTlcLl9dKykvXSxbInlhbmRleGJyb3dzZXIiLC9ZYUJyb3dzZXJcLyhbMC05XC5fXSspL10sWyJrYWthb3RhbGsiLC9LQUtBT1RBTEtccyhbMC05XC5dKykvXSxbInNhbXN1bmciLC9TYW1zdW5nQnJvd3NlclwvKFswLTlcLl0rKS9dLFsic2lsayIsL1xiU2lsa1wvKFswLTkuXy1dKylcYi9dLFsibWl1aSIsL01pdWlCcm93c2VyXC8oWzAtOVwuXSspJC9dLFsiYmVha2VyIiwvQmVha2VyQnJvd3NlclwvKFswLTlcLl0rKS9dLFsiZWRnZS1jaHJvbWl1bSIsL0VkZ0E/XC8oWzAtOVwuXSspL10sWyJjaHJvbWl1bS13ZWJ2aWV3IiwvKD8hQ2hyb20uKk9QUil3dlwpLipDaHJvbSg/OmV8aXVtKVwvKFswLTlcLl0rKSg6P1xzfCQpL10sWyJjaHJvbWUiLC8oPyFDaHJvbS4qT1BSKUNocm9tKD86ZXxpdW0pXC8oWzAtOVwuXSspKDo/XHN8JCkvXSxbInBoYW50b21qcyIsL1BoYW50b21KU1wvKFswLTlcLl0rKSg6P1xzfCQpL10sWyJjcmlvcyIsL0NyaU9TXC8oWzAtOVwuXSspKDo/XHN8JCkvXSxbImZpcmVmb3giLC9GaXJlZm94XC8oWzAtOVwuXSspKD86XHN8JCkvXSxbImZ4aW9zIiwvRnhpT1NcLyhbMC05XC5dKykvXSxbIm9wZXJhLW1pbmkiLC9PcGVyYSBNaW5pLipWZXJzaW9uXC8oWzAtOVwuXSspL10sWyJvcGVyYSIsL09wZXJhXC8oWzAtOVwuXSspKD86XHN8JCkvXSxbIm9wZXJhIiwvT1BSXC8oWzAtOVwuXSspKDo/XHN8JCkvXSxbImllIiwvVHJpZGVudFwvN1wuMC4qcnZcOihbMC05XC5dKykuKlwpLipHZWNrbyQvXSxbImllIiwvTVNJRVxzKFswLTlcLl0rKTsuKlRyaWRlbnRcL1s0LTddLjAvXSxbImllIiwvTVNJRVxzKDdcLjApL10sWyJiYjEwIiwvQkIxMDtcc1RvdWNoLipWZXJzaW9uXC8oWzAtOVwuXSspL10sWyJhbmRyb2lkIiwvQW5kcm9pZFxzKFswLTlcLl0rKS9dLFsiaW9zIiwvVmVyc2lvblwvKFswLTlcLl9dKykuKk1vYmlsZS4qU2FmYXJpLiovXSxbInNhZmFyaSIsL1ZlcnNpb25cLyhbMC05XC5fXSspLipTYWZhcmkvXSxbImZhY2Vib29rIiwvRkJBVlwvKFswLTlcLl0rKS9dLFsiaW5zdGFncmFtIiwvSW5zdGFncmFtXHMoWzAtOVwuXSspL10sWyJpb3Mtd2VidmlldyIsL0FwcGxlV2ViS2l0XC8oWzAtOVwuXSspLipNb2JpbGUvXSxbImlvcy13ZWJ2aWV3IiwvQXBwbGVXZWJLaXRcLyhbMC05XC5dKykuKkdlY2tvXCkkL10sWyJzZWFyY2hib3QiLC9hbGV4YXxib3R8Y3Jhd2woZXJ8aW5nKXxmYWNlYm9va2V4dGVybmFsaGl0fGZlZWRidXJuZXJ8Z29vZ2xlIHdlYiBwcmV2aWV3fG5hZ2lvc3xwb3N0cmFua3xwaW5nZG9tfHNsdXJwfHNwaWRlcnx5YWhvbyF8eWFuZGV4L11dLFhoPVtbImlPUyIsL2lQKGhvbmV8b2R8YWQpL10sWyJBbmRyb2lkIE9TIiwvQW5kcm9pZC9dLFsiQmxhY2tCZXJyeSBPUyIsL0JsYWNrQmVycnl8QkIxMC9dLFsiV2luZG93cyBNb2JpbGUiLC9JRU1vYmlsZS9dLFsiQW1hem9uIE9TIiwvS2luZGxlL10sWyJXaW5kb3dzIDMuMTEiLC9XaW4xNi9dLFsiV2luZG93cyA5NSIsLyhXaW5kb3dzIDk1KXwoV2luOTUpfChXaW5kb3dzXzk1KS9dLFsiV2luZG93cyA5OCIsLyhXaW5kb3dzIDk4KXwoV2luOTgpL10sWyJXaW5kb3dzIDIwMDAiLC8oV2luZG93cyBOVCA1LjApfChXaW5kb3dzIDIwMDApL10sWyJXaW5kb3dzIFhQIiwvKFdpbmRvd3MgTlQgNS4xKXwoV2luZG93cyBYUCkvXSxbIldpbmRvd3MgU2VydmVyIDIwMDMiLC8oV2luZG93cyBOVCA1LjIpL10sWyJXaW5kb3dzIFZpc3RhIiwvKFdpbmRvd3MgTlQgNi4wKS9dLFsiV2luZG93cyA3IiwvKFdpbmRvd3MgTlQgNi4xKS9dLFsiV2luZG93cyA4IiwvKFdpbmRvd3MgTlQgNi4yKS9dLFsiV2luZG93cyA4LjEiLC8oV2luZG93cyBOVCA2LjMpL10sWyJXaW5kb3dzIDEwIiwvKFdpbmRvd3MgTlQgMTAuMCkvXSxbIldpbmRvd3MgTUUiLC9XaW5kb3dzIE1FL10sWyJPcGVuIEJTRCIsL09wZW5CU0QvXSxbIlN1biBPUyIsL1N1bk9TL10sWyJDaHJvbWUgT1MiLC9Dck9TL10sWyJMaW51eCIsLyhMaW51eCl8KFgxMSkvXSxbIk1hYyBPUyIsLyhNYWNfUG93ZXJQQyl8KE1hY2ludG9zaCkvXSxbIlFOWCIsL1FOWC9dLFsiQmVPUyIsL0JlT1MvXSxbIk9TLzIiLC9PU1wvMi9dXTtmdW5jdGlvbiBaaChlKXtyZXR1cm4gZT9ZaChlKToidW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50JiYidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmIlJlYWN0TmF0aXZlIj09PW5hdmlnYXRvci5wcm9kdWN0P25ldyBHaDoidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvcj9ZaChuYXZpZ2F0b3IudXNlckFnZW50KToidW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MudmVyc2lvbj9uZXcgcWgocHJvY2Vzcy52ZXJzaW9uLnNsaWNlKDEpKTpudWxsfWZ1bmN0aW9uIFloKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3JldHVybiIiIT09ZSYmS2gucmVkdWNlKChmdW5jdGlvbih0LG4pe3ZhciByPW5bMF0saT1uWzFdO2lmKHQpcmV0dXJuIHQ7dmFyIGE9aS5leGVjKGUpO3JldHVybiEhYSYmW3IsYV19KSwhMSl9KGUpO2lmKCF0KXJldHVybiBudWxsO3ZhciBuPXRbMF0scj10WzFdO2lmKCJzZWFyY2hib3QiPT09bilyZXR1cm4gbmV3IFdoO3ZhciBpPXJbMV0mJnJbMV0uc3BsaXQoL1suX10vKS5zbGljZSgwLDMpO2k/aS5sZW5ndGg8MyYmKGk9amgoaSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wO248ZTtuKyspdC5wdXNoKCIwIik7cmV0dXJuIHR9KDMtaS5sZW5ndGgpKSk6aT1bXTt2YXIgYT1pLmpvaW4oIi4iKSxvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49WGgubGVuZ3RoO3Q8bjt0Kyspe3ZhciByPVhoW3RdLGk9clswXTtpZihyWzFdLmV4ZWMoZSkpcmV0dXJuIGl9cmV0dXJuIG51bGx9KGUpLHM9SGguZXhlYyhlKTtyZXR1cm4gcyYmc1sxXT9uZXcgVWgobixhLG8sc1sxXSk6bmV3ICRoKG4sYSxvKX12YXIgSmg9bnVsbCxRaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt5dCh0aGlzLGUpfXJldHVybiBidChlLG51bGwsW3trZXk6ImlkZW50aWZ5Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT09SmgmJihKaD1aaCgpfHwhMSksSmh9fSx7a2V5OiJtYXRjaCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49ZS5pZGVudGlmeSgpO2lmKCExPT09bilyZXR1cm4hMTtmb3IodmFyIHI9LyhbYS16QS1aMC05LV0rKSg/OihbPD49XSspKFswLTkuXSspKT8vLGk9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShpKSxvPTA7bzxpO28rKylhW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4gdm9pZCAwIT09YS5maW5kKChmdW5jdGlvbihlKXt2YXIgaT1NdChlLm1hdGNoKHIpLDQpLGE9aVsxXSxvPWlbMl0scz1pWzNdO3JldHVybiBhPT09bi5uYW1lJiYodm9pZCAwPT09c3x8dC5tYXRjaFZlcnNpb24obi52ZXJzaW9uLG8scykpfSkpfX0se2tleToibWF0Y2hWZXJzaW9uIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWUuc3BsaXQoIi4iKSxpPW4uc3BsaXQoIi4iKSxhPU1hdGgubWluKHIubGVuZ3RoLGkubGVuZ3RoKSxvPSI9IixzPS0xOyI9Ij09PW8mJisrczxhOylyW3NdPXBhcnNlSW50KHJbc10sMTApLGlbc109cGFyc2VJbnQoaVtzXSwxMCksbz1yW3NdIT09aVtzXT9yW3NdPGlbc10/IjwiOiI+IjoiPSI7cmV0dXJuIj0iPT09byYmKG89ci5sZW5ndGghPT1pLmxlbmd0aD9yLmxlbmd0aDxpLmxlbmd0aD8iPCI6Ij4iOiI9IiksLTEhPT10LmluZGV4T2Yobyl9fSx7a2V5OiJpc05vZGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF0Y2goIm5vZGUiKX19LHtrZXk6ImlzQnJvd3NlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvd319LHtrZXk6InBsYWNlQnJvd3NlckF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtpZihlLmlzQnJvd3NlcigpJiYhMSE9PWUuaWRlbnRpZnkoKSl7dmFyIHQ9ZS5pZGVudGlmeSgpLG49dC5uYW1lLHI9dC52ZXJzaW9uO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LmJyb3dzZXI9IiIuY29uY2F0KG4sIi8iKS5jb25jYXQocil9cmV0dXJuIHRoaXN9fV0pLGV9KCksZWQ9e25hbWU6ImJsb2NrLWNpcGhlciIsdGl0bGU6IkJsb2NrIENpcGhlciIsY2F0ZWdvcnk6Ik1vZGVybiBjcnlwdG9ncmFwaHkiLHR5cGU6ImVuY29kZXIifSx0ZD1be25hbWU6ImFlcy0xMjgiLGxhYmVsOiJBRVMtMTI4IixibG9ja1NpemU6MTYsa2V5U2l6ZToxNixicm93c2VyQWxnb3JpdGhtOiJhZXMiLG5vZGVBbGdvcml0aG06ImFlcy0xMjgifSx7bmFtZToiYWVzLTE5MiIsbGFiZWw6IkFFUy0xOTIiLGJsb2NrU2l6ZToxNixrZXlTaXplOjI0LGJyb3dzZXJBbGdvcml0aG06ITEsbm9kZUFsZ29yaXRobToiYWVzLTE5MiJ9LHtuYW1lOiJhZXMtMjU2IixsYWJlbDoiQUVTLTI1NiIsYmxvY2tTaXplOjE2LGtleVNpemU6MzIsYnJvd3NlckFsZ29yaXRobToiYWVzIixub2RlQWxnb3JpdGhtOiJhZXMtMjU2In1dLG5kPVt7bmFtZToiZWNiIixsYWJlbDoiRUNCIChFbGVjdHJvbmljIENvZGUgQm9vaykiLGhhc0lWOiExLGJyb3dzZXJNb2RlOiExLG5vZGVNb2RlOiEwfSx7bmFtZToiY2JjIixsYWJlbDoiQ0JDIChDaXBoZXIgQmxvY2sgQ2hhaW5pbmcpIixoYXNJVjohMCxicm93c2VyTW9kZTohMCxub2RlTW9kZTohMH0se25hbWU6ImN0ciIsbGFiZWw6IkNUUiAoQ291bnRlcikiLGhhc0lWOiEwLGJyb3dzZXJNb2RlOiEwLG5vZGVNb2RlOiEwfV0scmQ9ZnVuY3Rpb24oZSl7a3QoYSxlKTt2YXIgdCxuLGk9RXQoYSk7ZnVuY3Rpb24gYSgpe3ZhciBlO3l0KHRoaXMsYSksZT1pLmNhbGwodGhpcyk7dmFyIHQ9YS5nZXRBbGdvcml0aG1zKCksbj10WzBdLHI9YS5nZXRNb2RlcygpLG89YS5pc1BhZGRpbmdBdmFpbGFibGUoKTtyZXR1cm4gZS5hZGRTZXR0aW5ncyhbe25hbWU6ImFsZ29yaXRobSIsdHlwZToiZW51bSIsdmFsdWU6bi5uYW1lLGVsZW1lbnRzOnQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSkpLGxhYmVsczp0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubGFiZWx9KSkscmFuZG9taXphYmxlOiExLHdpZHRoOm8/ODoxMn0se25hbWU6InBhZGRpbmciLHR5cGU6ImJvb2xlYW4iLHZhbHVlOiExLHJhbmRvbWl6YWJsZTohMSx3aWR0aDpvPzQ6MTIsdmlzaWJsZTpvfSx7bmFtZToibW9kZSIsdHlwZToiZW51bSIsdmFsdWU6ImNiYyIsZWxlbWVudHM6ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWV9KSksbGFiZWxzOnIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sYWJlbH0pKSxyYW5kb21pemFibGU6ITF9LHtuYW1lOiJrZXkiLHR5cGU6ImJ5dGVzIix2YWx1ZTpuZXcgVWludDhBcnJheShbNDMsMTI2LDIxLDIyLDQwLDE3NCwyMTAsMTY2LDE3MSwyNDcsMjEsMTM2LDksMjA3LDc5LDYwXSksbWluU2l6ZTpuLmtleVNpemUsbWF4U2l6ZTpuLmtleVNpemV9LHtuYW1lOiJpdiIsbGFiZWw6IklWIix0eXBlOiJieXRlcyIsdmFsdWU6bmV3IFVpbnQ4QXJyYXkoWzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTVdKSxtaW5TaXplOm4uYmxvY2tTaXplLG1heFNpemU6bi5ibG9ja1NpemV9XSksZX1yZXR1cm4gYnQoYSxudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBlZH19XSksYnQoYSxbe2tleToic2V0dGluZ1ZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3N3aXRjaChlLmdldE5hbWUoKSl7Y2FzZSJhbGdvcml0aG0iOnZhciBuPWEuZ2V0QWxnb3JpdGhtKHQpLmtleVNpemU7dGhpcy5nZXRTZXR0aW5nKCJrZXkiKS5zZXRNaW5TaXplKG4pLnNldE1heFNpemUobik7YnJlYWs7Y2FzZSJtb2RlIjp2YXIgcj10aGlzLmdldFNldHRpbmdWYWx1ZSgiYWxnb3JpdGhtIiksaT1hLmdldEFsZ29yaXRobShyKS5ibG9ja1NpemUsbz1hLmdldE1vZGUodCkuaGFzSVY7dGhpcy5nZXRTZXR0aW5nKCJpdiIpLnNldFZpc2libGUobykuc2V0TWluU2l6ZShpKS5zZXRNYXhTaXplKGkpfX19LHtrZXk6InBlcmZvcm1UcmFuc2xhdGUiLHZhbHVlOihuPXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQsbil7dmFyIHIsaSxhLG8scyxsLHU7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gcj10LmdldEJ5dGVzKCksaT10aGlzLmdldFNldHRpbmdWYWx1ZXMoKSxhPWkuYWxnb3JpdGhtLG89aS5tb2RlLHM9aS5rZXksbD1pLnBhZGRpbmcsdT1pLml2LGUucHJldj0yLGUubmV4dD01LHRoaXMuY3JlYXRlQ2lwaGVyKGEsbyxzLHUsbCxuLHIpO2Nhc2UgNTpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsZS5zZW50KTtjYXNlIDg6aWYoZS5wcmV2PTgsZS50MD1lLmNhdGNoKDIpLG4pe2UubmV4dD0xNDticmVha310aHJvdyBuZXcgUmwoIiIuY29uY2F0KGEsIiBkZWNyeXB0aW9uIGZhaWxlZCwgIikrInRoaXMgbWF5IGJlIGR1ZSB0byBtYWxmb3JtZWQgY29udGVudCIpO2Nhc2UgMTQ6dGhyb3cgbmV3IFJsKCIiLmNvbmNhdChhLCIgZW5jcnlwdGlvbiBmYWlsZWQiKSk7Y2FzZSAxNTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyxbWzIsOF1dKX0pKSksZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiY3JlYXRlQ2lwaGVyIix2YWx1ZToodD12dChyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0LG4saSxvLHMsbCx1KXt2YXIgYyxoLGQsZixnLHAsdix5LG09dGhpcztyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKGM9YS5nZXRBbGdvcml0aG0odCksYS5nZXRNb2RlKG4pLmhhc0lWfHwobz1uZXcgVWludDhBcnJheShbXSkpLCFRaC5pc05vZGUoKSl7ZS5uZXh0PTEwO2JyZWFrfXJldHVybiBoPWMubm9kZUFsZ29yaXRobSsiLSIrbixvPWdsb2JhbC5CdWZmZXIuZnJvbShvKSx1PWdsb2JhbC5CdWZmZXIuZnJvbSh1KSxlLmFicnVwdCgicmV0dXJuIixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj1sP3IuZGVmYXVsdC5jcmVhdGVDaXBoZXJpdihoLGksbyk6ci5kZWZhdWx0LmNyZWF0ZURlY2lwaGVyaXYoaCxpLG8pO24uc2V0QXV0b1BhZGRpbmcocyk7dmFyIGE9QnVmZmVyLmNvbmNhdChbbi51cGRhdGUodSksbi5maW5hbCgpXSk7ZShuZXcgVWludDhBcnJheShhKSl9KSkpO2Nhc2UgMTA6cmV0dXJuIGQ9Yy5icm93c2VyQWxnb3JpdGhtKyItIituLGY9d2luZG93LmNyeXB0b3x8d2luZG93Lm1zQ3J5cHRvLGc9Zi5zdWJ0bGV8fGYud2Via2l0U3VidGxlLGUubmV4dD0xNSxnLmltcG9ydEtleSgicmF3IixpLHtuYW1lOmR9LCExLFsiZW5jcnlwdCIsImRlY3J5cHQiXSk7Y2FzZSAxNTpyZXR1cm4gcD1lLnNlbnQsdj17bmFtZTpkLGl2Om8sY291bnRlcjpvLGxlbmd0aDpjLmJsb2NrU2l6ZX0sdm9pZCAwIT09KHk9bD9nLmVuY3J5cHQodixwLHUpOmcuZGVjcnlwdCh2LHAsdSkpLm9uY29tcGxldGUmJih5PW5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3kub25jb21wbGV0ZT1lLmJpbmQobSx5LnJlc3VsdCkseS5vbmVycm9yPXR9KSkpLGUuYWJydXB0KCJyZXR1cm4iLHkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpfSkpKTtjYXNlIDIwOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpLGZ1bmN0aW9uKGUsbixyLGksYSxvLHMpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfV0sW3trZXk6ImlzUGFkZGluZ0F2YWlsYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gUWguaXNOb2RlKCl9fSx7a2V5OiJnZXRBbGdvcml0aG0iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0ZC5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZX0pKX19LHtrZXk6ImdldEFsZ29yaXRobXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9UWguaXNOb2RlKCk7cmV0dXJuIHRkLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYnJvd3NlckFsZ29yaXRobSYmIWV8fHQubm9kZUFsZ29yaXRobSYmZX0pKX19LHtrZXk6ImdldE1vZGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBuZC5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZX0pKX19LHtrZXk6ImdldE1vZGVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVFoLmlzTm9kZSgpO3JldHVybiBuZC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJyb3dzZXJNb2RlJiYhZXx8dC5ub2RlTW9kZSYmZX0pKX19XSksYX0ocXUpO09lKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6YXMhPT1bXS5sYXN0SW5kZXhPZn0se2xhc3RJbmRleE9mOmFzfSk7dmFyIGlkPXtuYW1lOiJib290c3RyaW5nIix0aXRsZToiQm9vdHN0cmluZyIsY2F0ZWdvcnk6IkVuY29kaW5nIix0eXBlOiJlbmNvZGVyIn0sYWQ9IkludGVnZXIgb3ZlcmZsb3c6IElucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MiLG9kPWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3ZhciBlO3JldHVybiB5dCh0aGlzLG4pLChlPXQuY2FsbCh0aGlzKSkuYWRkU2V0dGluZ3MoW3tuYW1lOiJiYXNpY1JhbmdlU3RhcnQiLGxhYmVsOiJCYXNpYyBTdGFydCIsdHlwZToibnVtYmVyIix2YWx1ZTowLGludGVnZXI6ITAscm90YXRlOiExLG1pbjowLG1heDoxMjUsd2lkdGg6NixyYW5kb21pemFibGU6ITF9LHtuYW1lOiJiYXNpY1JhbmdlRW5kIixsYWJlbDoiQmFzaWMgRW5kIix0eXBlOiJudW1iZXIiLHZhbHVlOjEyNyxpbnRlZ2VyOiEwLHJvdGF0ZTohMSxtaW46MixtYXg6MTExNDExMSx3aWR0aDo2LHJhbmRvbWl6YWJsZTohMX0se25hbWU6ImRpZ2l0TWFwcGluZyIsdHlwZToidGV4dCIsdmFsdWU6ImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSIsdW5pcXVlQ2hhcnM6ITAsbWluTGVuZ3RoOjIsY2FzZVNlbnNpdGl2aXR5OiExLHZhbGlkYXRlVmFsdWU6ZS52YWxpZGF0ZURpZ2l0TWFwcGluZ1ZhbHVlLmJpbmQoQ3QoZSkpLHJhbmRvbWl6YWJsZTohMX0se25hbWU6ImRlbGltaXRlciIsdHlwZToidGV4dCIsdmFsdWU6Ii0iLHdpZHRoOjYsbWluTGVuZ3RoOjEsbWF4TGVuZ3RoOjEsY2FzZVNlbnNpdGl2aXR5OiExLHZhbGlkYXRlVmFsdWU6ZS52YWxpZGF0ZURlbGltaXRlclZhbHVlLmJpbmQoQ3QoZSkpLHJhbmRvbWl6YWJsZTohMX0se25hbWU6ImNhc2VTZW5zaXRpdml0eSIsdHlwZToiYm9vbGVhbiIsdmFsdWU6ITEsd2lkdGg6NixyYW5kb21pemFibGU6ITF9LHtuYW1lOiJpbml0aWFsQmlhcyIsdHlwZToibnVtYmVyIix2YWx1ZTo3MixpbnRlZ2VyOiEwLHdpZHRoOjYsdmFsaWRhdGVWYWx1ZTplLnZhbGlkYXRlSW5pdGlhbEJpYXNWYWx1ZS5iaW5kKEN0KGUpKSxyYW5kb21pemFibGU6ITF9LHtuYW1lOiJpbml0aWFsTiIsdHlwZToibnVtYmVyIix2YWx1ZToxMjgsaW50ZWdlcjohMCxtaW46MCx3aWR0aDo2LHJhbmRvbWl6YWJsZTohMX0se25hbWU6InRtaW4iLHR5cGU6Im51bWJlciIsdmFsdWU6MSxpbnRlZ2VyOiEwLHJvdGF0ZTohMSxtaW46MCxtYXg6MjYsd2lkdGg6NixyYW5kb21pemFibGU6ITF9LHtuYW1lOiJ0bWF4Iix0eXBlOiJudW1iZXIiLHZhbHVlOjI2LGludGVnZXI6ITAscm90YXRlOiExLG1pbjowLG1heDozNSx3aWR0aDo2LHJhbmRvbWl6YWJsZTohMX0se25hbWU6InNrZXciLHR5cGU6Im51bWJlciIsdmFsdWU6MzgsaW50ZWdlcjohMCxtaW46MSx3aWR0aDo2LHJhbmRvbWl6YWJsZTohMX0se25hbWU6ImRhbXAiLHR5cGU6Im51bWJlciIsdmFsdWU6NzAwLGludGVnZXI6ITAsbWluOjIsd2lkdGg6NixyYW5kb21pemFibGU6ITF9XSksZX1yZXR1cm4gYnQobixudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBpZH19XSksYnQobixbe2tleToicGVyZm9ybUVuY29kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRTZXR0aW5nVmFsdWVzKCksbj10LmluaXRpYWxCaWFzLHI9dC5pbml0aWFsTixpPXQudG1pbixhPXQudG1heCxvPXQuY2FzZVNlbnNpdGl2aXR5LHM9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImRlbGltaXRlciIpLmdldENvZGVQb2ludEF0KDApLGw9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImRpZ2l0TWFwcGluZyIpLmdldExlbmd0aCgpO298fChlPWUudG9Mb3dlckNhc2UoKSk7Zm9yKHZhciB1PWUuZ2V0Q29kZVBvaW50cygpLGM9dS5sZW5ndGgsaD1yLGQ9bixmPTAsZz1bXSxwPTA7cDx1Lmxlbmd0aDtwKyspaWYodGhpcy5faXNCYXNpYyh1W3BdKSlnLnB1c2godVtwXSk7ZWxzZSBpZih1W3BdPGgpdGhyb3cgbmV3IFJsKCJVbmV4cGVjdGVkIGNvZGUgcG9pbnQgYXQgaW5kZXggIi5jb25jYXQocCwiLCBjb25zaWRlciBjaGFuZ2luZyBpbml0aWFsIG4gIikrInRvIGluY2x1ZGUgdGhpcyBjb2RlIHBvaW50Iik7dmFyIHYseSxtLGIsayx3PWcubGVuZ3RoLF89Zy5sZW5ndGg7Zm9yKF8+MCYmZy5wdXNoKHMpO3c8Yzspe3Y9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7dmFyIFMseD1QdCh1KTt0cnl7Zm9yKHgucygpOyEoUz14Lm4oKSkuZG9uZTspKGs9Uy52YWx1ZSk+PWgmJms8diYmIXRoaXMuX2lzQmFzaWMoaykmJih2PWspfWNhdGNoKGUpe3guZShlKX1maW5hbGx5e3guZigpfWlmKHYtaD4kdS5kaXYoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVItZix3KzEpKXRocm93IG5ldyBSbChhZCk7Zis9KHYtaCkqKHcrMSksaD12O3ZhciBJLEM9UHQodSk7dHJ5e2ZvcihDLnMoKTshKEk9Qy5uKCkpLmRvbmU7KXtpZigoKGs9SS52YWx1ZSk8aHx8dGhpcy5faXNCYXNpYyhrKSkmJisrZj5OdW1iZXIuTUFYX1NBRkVfSU5URUdFUil0aHJvdyBuZXcgUmwoYWQpO2lmKGs9PT1oKXtmb3IoeT1mLG09bDshKHk8KGI9dGhpcy5fY2FsY1QobSxkLGksYSkpKTttKz1sKWcucHVzaCh0aGlzLl9iYXNpY0NvZGVQb2ludEZyb21EaWdpdChiKyR1Lm1vZCh5LWIsbC1iKSkpLHk9JHUuZGl2KHktYixsLWIpO2cucHVzaCh0aGlzLl9iYXNpY0NvZGVQb2ludEZyb21EaWdpdCh5KSksZD10aGlzLl9hZGFwdEJpYXMoZix3KzEsdz09PV8pLGY9MCx3Kyt9fX1jYXRjaChlKXtDLmUoZSl9ZmluYWxseXtDLmYoKX1mKyssaCsrfXJldHVybiBnfX0se2tleToicGVyZm9ybURlY29kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRTZXR0aW5nVmFsdWVzKCksbj10LmluaXRpYWxCaWFzLHI9dC5pbml0aWFsTixpPXQudG1pbixhPXQudG1heCxvPXQuY2FzZVNlbnNpdGl2aXR5LHM9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImRlbGltaXRlciIpLmdldENvZGVQb2ludEF0KDApLGw9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImRpZ2l0TWFwcGluZyIpLmdldExlbmd0aCgpO298fChlPWUudG9Mb3dlckNhc2UoKSk7Zm9yKHZhciB1PWUuZ2V0Q29kZVBvaW50cygpLGM9dS5sZW5ndGgsaD1yLGQ9bixmPU1hdGgubWF4KHUubGFzdEluZGV4T2YocyksMCksZz1bXSxwPTA7cDxmO3ArKyl7aWYoIXRoaXMuX2lzQmFzaWModVtwXSkpdGhyb3cgbmV3IFJsKCJGb3VuZCB1bmV4cGVjdGVkIG5vbi1iYXNpYyBjb2RlIHBvaW50IGF0ICIuY29uY2F0KHApKTtnLnB1c2godVtwXSl9Zm9yKHZhciB2LHksbSxiLGssdz0wLF89Zj4wP2YrMTowO188Yzspe2Zvcih2PXcseT0xLG09bDs7bSs9bCl7aWYoXz49Yyl0aHJvdyBuZXcgUmwoIlRoZSBpbnB1dCBlbmRzIHVuZXhwZWN0ZWRseSIpO2lmKC0xPT09KGI9dGhpcy5fZGlnaXRGcm9tQmFzaWNDb2RlUG9pbnQodVtfKytdKSkpdGhyb3cgbmV3IFJsKCJGb3VuZCB1bmV4cGVjdGVkIG5vbi1iYXNpYyBjb2RlIHBvaW50IGF0ICIuY29uY2F0KF8tMSkpO2lmKGI+JHUuZGl2KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLXcseSkpdGhyb3cgbmV3IFJsKGFkKTtpZih3Kz1iKnksYjwoaz10aGlzLl9jYWxjVChtLGQsaSxhKSkpYnJlYWs7aWYoeT4kdS5kaXYoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsbC1rKSl0aHJvdyBuZXcgUmwoYWQpO3kqPWwta31pZihkPXRoaXMuX2FkYXB0Qmlhcyh3LXYsZy5sZW5ndGgrMSwwPT09diksJHUuZGl2KHcsZy5sZW5ndGgrMSk+TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVItaCl0aHJvdyBuZXcgUmwoYWQpO2lmKGgrPSR1LmRpdih3LGcubGVuZ3RoKzEpLHc9JHUubW9kKHcsZy5sZW5ndGgrMSksdGhpcy5faXNCYXNpYyhoKSl0aHJvdyBuZXcgUmwoIlVuZXhwZWN0ZWRseSB1bndyYXBwZWQgYmFzaWMgY29kZSBwb2ludCIpO2cuc3BsaWNlKHcsMCxoKSx3Kyt9cmV0dXJuIGd9fSx7a2V5OiJfYWRhcHRCaWFzIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5nZXRTZXR0aW5nVmFsdWVzKCksaT1yLmRpZ2l0TWFwcGluZyxhPXIudG1pbixvPXIudG1heCxzPXIuc2tldyxsPWkuZ2V0TGVuZ3RoKCk7aWYobil7dmFyIHU9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImRhbXAiKTtlPSR1LmRpdihlLHUpfWVsc2UgZT0kdS5kaXYoZSwyKTtlKz0kdS5kaXYoZSx0KTtmb3IodmFyIGM9MDtlPiR1LmRpdigobC1hKSpvLDIpOyllPSR1LmRpdihlLGwtYSksYys9bDtyZXR1cm4gYyskdS5kaXYoKGwtYSsxKSplLGUrcyl9fSx7a2V5OiJfY2FsY1QiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBlPD10K24/bjplPj10K3I/cjplLXR9fSx7a2V5OiJfaXNCYXNpYyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRTZXR0aW5nVmFsdWVzKCksbj10LmJhc2ljUmFuZ2VTdGFydCxyPXQuYmFzaWNSYW5nZUVuZDtyZXR1cm4gZT49biYmZTw9cn19LHtrZXk6Il9kaWdpdEZyb21CYXNpY0NvZGVQb2ludCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJkaWdpdE1hcHBpbmciKS5pbmRleE9mQ29kZVBvaW50KGUpfX0se2tleToiX2Jhc2ljQ29kZVBvaW50RnJvbURpZ2l0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRTZXR0aW5nVmFsdWUoImRpZ2l0TWFwcGluZyIpLmdldENvZGVQb2ludEF0KGUpfX0se2tleToic2V0dGluZ1ZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3N3aXRjaChlLmdldE5hbWUoKSl7Y2FzZSJiYXNpY1JhbmdlU3RhcnQiOnRoaXMuZ2V0U2V0dGluZygiYmFzaWNSYW5nZUVuZCIpLnNldE1pbihlLmdldFZhbHVlKCkrMiksdGhpcy5nZXRTZXR0aW5nKCJkaWdpdE1hcHBpbmciKS5yZXZhbGlkYXRlVmFsdWUoKSx0aGlzLmdldFNldHRpbmcoImRlbGltaXRlciIpLnJldmFsaWRhdGVWYWx1ZSgpO2JyZWFrO2Nhc2UiYmFzaWNSYW5nZUVuZCI6dGhpcy5nZXRTZXR0aW5nKCJiYXNpY1JhbmdlU3RhcnQiKS5zZXRNYXgoZS5nZXRWYWx1ZSgpLTIpLHRoaXMuZ2V0U2V0dGluZygiZGlnaXRNYXBwaW5nIikucmV2YWxpZGF0ZVZhbHVlKCksdGhpcy5nZXRTZXR0aW5nKCJkZWxpbWl0ZXIiKS5yZXZhbGlkYXRlVmFsdWUoKTticmVhaztjYXNlImRpZ2l0TWFwcGluZyI6dmFyIG49ZS5nZXRWYWx1ZSgpLmdldExlbmd0aCgpO3RoaXMuZ2V0U2V0dGluZygidG1heCIpLnNldE1heChuLTEpLHRoaXMuZ2V0U2V0dGluZygiZGVsaW1pdGVyIikucmV2YWxpZGF0ZVZhbHVlKCksdGhpcy5nZXRTZXR0aW5nKCJpbml0aWFsQmlhcyIpLnJldmFsaWRhdGVWYWx1ZSgpO2JyZWFrO2Nhc2UidG1pbiI6dGhpcy5nZXRTZXR0aW5nKCJpbml0aWFsQmlhcyIpLnJldmFsaWRhdGVWYWx1ZSgpO2JyZWFrO2Nhc2UidG1heCI6dGhpcy5nZXRTZXR0aW5nKCJ0bWluIikuc2V0TWF4KGUuZ2V0VmFsdWUoKSk7YnJlYWs7Y2FzZSJjYXNlU2Vuc2l0aXZpdHkiOnRoaXMuZ2V0U2V0dGluZygiZGlnaXRNYXBwaW5nIikuc2V0Q2FzZVNlbnNpdGl2aXR5KHQpLHRoaXMuZ2V0U2V0dGluZygiZGVsaW1pdGVyIikuc2V0Q2FzZVNlbnNpdGl2aXR5KHQpfX19LHtrZXk6InZhbGlkYXRlRGlnaXRNYXBwaW5nVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuaXNTZXR0aW5nVmFsaWQoImJhc2ljUmFuZ2VTdGFydCIsImJhc2ljUmFuZ2VFbmQiKSlyZXR1cm4hMTt2YXIgbj10aGlzLmdldFNldHRpbmdWYWx1ZSgiYmFzaWNSYW5nZVN0YXJ0Iikscj10aGlzLmdldFNldHRpbmdWYWx1ZSgiYmFzaWNSYW5nZUVuZCIpLGk9ZS5nZXRDb2RlUG9pbnRzKCkuZmluZEluZGV4KChmdW5jdGlvbihlKXtyZXR1cm4gZTxufHxlPnJ9KSk7cmV0dXJuLTE9PT1pfHx7a2V5OiJib290c3RyaW5nRGlnaXRNYXBwaW5nSW52YWxpZCIsbWVzc2FnZToiQ2hhcmFjdGVyIGF0IGluZGV4ICIuY29uY2F0KGksIiBuZWVkcyB0byBiZSBwYXJ0IG9mIHRoZSBnaXZlbiAiKSsiYmFzaWMgY29kZSBwb2ludCByYW5nZSJ9fX0se2tleToidmFsaWRhdGVEZWxpbWl0ZXJWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5pc1NldHRpbmdWYWxpZCgiYmFzaWNSYW5nZVN0YXJ0IiwiYmFzaWNSYW5nZUVuZCIsImRpZ2l0TWFwcGluZyIpKXJldHVybiExO3ZhciBuPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlcygpLHI9bi5iYXNpY1JhbmdlU3RhcnQsaT1uLmJhc2ljUmFuZ2VFbmQsYT1uLmRpZ2l0TWFwcGluZyxvPWUuZ2V0Q29kZVBvaW50QXQoMCk7cmV0dXJuIShvPHJ8fG8+aXx8LTEhPT1hLmluZGV4T2ZDb2RlUG9pbnQobykpfHx7a2V5OiJib290c3RyaW5nRGVsaW1pdGVySW52YWxpZCIsbWVzc2FnZToiVGhlIHZhbHVlIG11c3QgYmUgcGFydCBvZiB0aGUgYmFzaWMgY29kZSBwb2ludCByYW5nZSB3aGlsZSBub3QgaGF2aW5nIGEgZGlnaXQgbWFwcGVkIHRvIGl0In19fSx7a2V5OiJ2YWxpZGF0ZUluaXRpYWxCaWFzVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuaXNTZXR0aW5nVmFsaWQoImRpZ2l0TWFwcGluZyIsInRtaW4iKSlyZXR1cm4hMTt2YXIgbj10aGlzLmdldFNldHRpbmdWYWx1ZSgiZGlnaXRNYXBwaW5nIikuZ2V0TGVuZ3RoKCkscj10aGlzLmdldFNldHRpbmdWYWx1ZSgidG1pbiIpO3JldHVybiEoJHUubW9kKGUsbik+bi1yKXx8e2tleToiYm9vdHN0cmluZ0luaXRpYWxCaWFzSW52YWxpZCIsbWVzc2FnZToiVGhlIHZhbHVlIG11c3QgYmUgY2hvc2VuIHN1Y2ggdGhhdCBpbml0aWFsX2JpYXMgbW9kIGJhc2UgPD0gYmFzZSAtIHRtaW4ifX19XSksbn0ocXUpLHNkPWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3JldHVybiB5dCh0aGlzLG4pLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBidChuLFt7a2V5OiJyZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9QXQod3Qobi5wcm90b3R5cGUpLCJyZW5kZXIiLHRoaXMpLmNhbGwodGhpcyk7cmV0dXJuIGUuY2xhc3NMaXN0LmFkZCgidmlld2VyIiksZX19LHtrZXk6InJlbmRlckhlYWRlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1ibi5jcmVhdGVFbGVtZW50KCJ1bCIse2NsYXNzTmFtZToiYnJpY2tfX2FjdGlvbnMifSxbYm4uY3JlYXRlRWxlbWVudCgibGkiLHtjbGFzc05hbWU6ImJyaWNrX19hY3Rpb24taXRlbSJ9LFtibi5jcmVhdGVFbGVtZW50KCJzcGFuIix7Y2xhc3NOYW1lOiJicmlja19fYWN0aW9uIGJyaWNrX19hY3Rpb24tLWFjdGl2ZSJ9LCJWaWV3IildKV0pLHQ9QXQod3Qobi5wcm90b3R5cGUpLCJyZW5kZXJIZWFkZXIiLHRoaXMpLmNhbGwodGhpcyk7cmV0dXJuIHQuaW5zZXJ0QmVmb3JlKGUsdC5maXJzdENoaWxkKSx0fX1dKSxufShKbCksbGQ9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5fdGV4dD0iIixlLl9kaXNhYmxlZD0hMSxlLl8kdGV4dGFyZWE9bnVsbCxlfXJldHVybiBidChuLFt7a2V5OiJnZXRUZXh0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0fX0se2tleToic2V0VGV4dCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RleHQhPT1lJiYodGhpcy5fdGV4dD1lLG51bGwhPT10aGlzLl8kdGV4dGFyZWEmJih0aGlzLl8kdGV4dGFyZWEudmFsdWU9ZSx0aGlzLmxheW91dFRleHRhcmVhKCkpKSx0aGlzfX0se2tleToiaXNEaXNhYmxlZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzYWJsZWR9fSx7a2V5OiJzZXREaXNhYmxlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2Rpc2FibGVkPWUsbnVsbCE9PXRoaXMuXyR0ZXh0YXJlYSYmKGU/dGhpcy5fJHRleHRhcmVhLmRpc2FibGVkPSJkaXNhYmxlZCI6dGhpcy5fJHRleHRhcmVhLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKSksdGhpc319LHtrZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1BdCh3dChuLnByb3RvdHlwZSksInJlbmRlciIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gZS5jbGFzc0xpc3QuYWRkKCJ2aWV3ZXItdGV4dCIpLGV9fSx7a2V5OiJyZW5kZXJDb250ZW50Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fJHRleHRhcmVhPWJuLmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIix7Y2xhc3NOYW1lOiJ2aWV3ZXItdGV4dF9fdGV4dGFyZWEiLGFyaWFMYWJlbDoiQ29udGVudCIsc3BlbGxjaGVjazohMSx2YWx1ZTp0aGlzLl90ZXh0LG9uSW5wdXQ6dGhpcy50ZXh0YXJlYVZhbHVlRGlkQ2hhbmdlLmJpbmQodGhpcyksb25Gb2N1czpmdW5jdGlvbih0KXtyZXR1cm4gZS5mb2N1cygpfSxvbkJsdXI6ZnVuY3Rpb24odCl7cmV0dXJuIGUuYmx1cigpfX0pLHRoaXMuaXNEaXNhYmxlZCgpJiYodGhpcy5fJHRleHRhcmVhLmRpc2FibGVkPSJkaXNhYmxlZCIpO3ZhciB0PUF0KHd0KG4ucHJvdG90eXBlKSwicmVuZGVyQ29udGVudCIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gdC5hcHBlbmRDaGlsZCh0aGlzLl8kdGV4dGFyZWEpLHR9fSx7a2V5OiJ0ZXh0YXJlYVZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLmlzRGlzYWJsZWQoKSlyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLCExO3ZhciB0PXRoaXMuXyR0ZXh0YXJlYS52YWx1ZTt0aGlzLl90ZXh0IT09dCYmKHRoaXMuX3RleHQ9dCx0aGlzLmdldE1vZGVsKCkudmlld1RleHREaWRDaGFuZ2UodGhpcyx0aGlzLl90ZXh0KSx0aGlzLmxheW91dFRleHRhcmVhKCkpfX0se2tleToibGF5b3V0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxheW91dFRleHRhcmVhKCksQXQod3Qobi5wcm90b3R5cGUpLCJsYXlvdXQiLHRoaXMpLmNhbGwodGhpcyl9fSx7a2V5OiJsYXlvdXRUZXh0YXJlYSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fJHRleHRhcmVhLnN0eWxlLmhlaWdodD0iIix0aGlzLl8kdGV4dGFyZWEuc3R5bGUuaGVpZ2h0PSIiLmNvbmNhdCh0aGlzLl8kdGV4dGFyZWEuc2Nyb2xsSGVpZ2h0LCJweCIpLHRoaXN9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgpLmdldEVycm9yKCk7cmV0dXJuIG51bGwhPT1lP3RoaXMudXBkYXRlU3RhdHVzKCJlcnJvciIsIkJpbmFyeSBjb250ZW50IGNhbid0IGJlIGludGVycHJldGVkIGFzIHRleHQuIFRyeSBzd2l0Y2hpbmcgdG8gdGhlIGJ5dGVzIHZpZXcuICIrZS5tZXNzYWdlKTp0aGlzLnVwZGF0ZVN0YXR1cyhudWxsKX19XSksbn0oc2QpLHVkPWZ1bmN0aW9uKGUpe2t0KHMsZSk7dmFyIHQsbixyLGksYSxvPUV0KHMpO2Z1bmN0aW9uIHMoKXt2YXIgZTtyZXR1cm4geXQodGhpcyxzKSwoZT1vLmNhbGwodGhpcykpLl9xdWV1ZWRDb250ZW50PW51bGwsZS5fZXJyb3I9bnVsbCxlfXJldHVybiBidChzLFt7a2V5OiJ2aWV3Iix2YWx1ZTooYT12dChyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbjtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKGUucHJldj0wLCEoKG49dGhpcy5nZXRTZXR0aW5nc0Zvcm0oKS5nZXRJbnZhbGlkRmllbGRzKCkpLmxlbmd0aD4wKSl7ZS5uZXh0PTQ7YnJlYWt9dGhyb3cgbmV3IFJsKCJDYW4ndCB2aWV3IGNvbnRlbnQgd2l0aCBpbnZhbGlkIHNldHRpbmdzOiAiK24ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRMYWJlbCgpfSkpLmpvaW4oIiwgIikpO2Nhc2UgNDppZih0aGlzLmhhc1ZpZXcoKSl7ZS5uZXh0PTc7YnJlYWt9cmV0dXJuIHRoaXMuX3F1ZXVlZENvbnRlbnQ9dCxlLmFicnVwdCgicmV0dXJuIik7Y2FzZSA3OnJldHVybiBlLm5leHQ9OSx0aGlzLndpbGxWaWV3KHQpO2Nhc2UgOTpyZXR1cm4gdD1lLnNlbnQsZS5uZXh0PTEyLHRoaXMucGVyZm9ybVZpZXcodCk7Y2FzZSAxMjpyZXR1cm4gZS5uZXh0PTE0LHRoaXMuZGlkVmlldyh0KTtjYXNlIDE0Om51bGwhPT10aGlzLl9lcnJvciYmKHRoaXMuX2Vycm9yPW51bGwsdGhpcy51cGRhdGVWaWV3KCkpLGUubmV4dD0yMjticmVhaztjYXNlIDE3OnRocm93IGUucHJldj0xNyxlLnQwPWUuY2F0Y2goMCksdGhpcy5fZXJyb3I9ZS50MCx0aGlzLnVwZGF0ZVZpZXcoKSxlLnQwO2Nhc2UgMjI6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMsW1swLDE3XV0pfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToid2lsbFZpZXciLHZhbHVlOihpPXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHQpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToicGVyZm9ybVZpZXciLHZhbHVlOihyPXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImRpZFZpZXciLHZhbHVlOihuPXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImRhcmUiLHZhbHVlOih0PXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciBuLHI9YXJndW1lbnRzO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIG49ci5sZW5ndGg+MSYmdm9pZCAwIT09clsxXSYmclsxXSxlLnByZXY9MSxlLm5leHQ9NCx0KCk7Y2FzZSA0Om51bGwhPT10aGlzLl9lcnJvciYmKHRoaXMuX2Vycm9yPW51bGwsdGhpcy51cGRhdGVWaWV3KCkpLGUubmV4dD0xMzticmVhaztjYXNlIDc6aWYoZS5wcmV2PTcsZS50MD1lLmNhdGNoKDEpLHRoaXMuX2Vycm9yPWUudDAsdGhpcy51cGRhdGVWaWV3KCksIW4mJmUudDAgaW5zdGFuY2VvZiBSbCl7ZS5uZXh0PTEzO2JyZWFrfXRocm93IGUudDA7Y2FzZSAxMzpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsdGhpcyk7Y2FzZSAxNDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyxbWzEsN11dKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImdldEVycm9yIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lcnJvcn19LHtrZXk6ImRpZENyZWF0ZVZpZXciLHZhbHVlOmZ1bmN0aW9uKGUpe0F0KHd0KHMucHJvdG90eXBlKSwiZGlkQ3JlYXRlVmlldyIsdGhpcykuY2FsbCh0aGlzLGUpLG51bGwhPT10aGlzLl9xdWV1ZWRDb250ZW50JiYodGhpcy52aWV3KHRoaXMuX3F1ZXVlZENvbnRlbnQpLHRoaXMuX3F1ZXVlZENvbnRlbnQ9bnVsbCl9fSx7a2V5OiJjb250ZW50RGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmhhc1BpcGUoKSYmdGhpcy5nZXRQaXBlKCkudmlld2VyQ29udGVudERpZENoYW5nZSh0aGlzLGUpfX1dKSxzfShEdSksY2Q9e25hbWU6ImJ5dGVzIix0aXRsZToiQnl0ZXMiLGNhdGVnb3J5OiJWaWV3Iix0eXBlOiJ2aWV3ZXIifSxoZD1mdW5jdGlvbihlKXtrdChyLGUpO3ZhciB0LG49RXQocik7ZnVuY3Rpb24gcigpe3ZhciBlO3JldHVybiB5dCh0aGlzLHIpLChlPW4uY2FsbCh0aGlzKSkuX3ZpZXdQcm90b3R5cGU9bGQsZS5hZGRTZXR0aW5ncyhbe25hbWU6ImZvcm1hdCIsdHlwZToiZW51bSIsd2lkdGg6Nix2YWx1ZToiaGV4YWRlY2ltYWwiLGVsZW1lbnRzOlsiaGV4YWRlY2ltYWwiLCJiaW5hcnkiXSxsYWJlbHM6WyJIZXhhZGVjaW1hbCIsIkJpbmFyeSJdLHJhbmRvbWl6YWJsZTohMX0se25hbWU6Imdyb3VwQml0cyIsbGFiZWw6Ikdyb3VwIGJ5Iix0eXBlOiJlbnVtIix3aWR0aDo2LHZhbHVlOjgsZWxlbWVudHM6W251bGwsNCw1LDYsOCwxNiwyNCwzMl0sbGFiZWxzOlsiTm9uZSIsIjQgQml0cyIsIjUgQml0cyIsIjYgQml0cyIsIkJ5dGUiLCIyIEJ5dGVzIiwiMyBCeXRlcyIsIjQgQnl0ZXMiXSxyYW5kb21pemFibGU6ITF9XSksZX1yZXR1cm4gYnQocixudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBjZH19XSksYnQocixbe2tleToicGVyZm9ybVZpZXciLHZhbHVlOih0PXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciBuLHIsaSxhLG8scztyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOm49dC5nZXRCeXRlcygpLHI9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImZvcm1hdCIpLGUudDA9cixlLm5leHQ9ImhleGFkZWNpbWFsIj09PWUudDA/NToiYmluYXJ5Ij09PWUudDA/ODoxMDticmVhaztjYXNlIDU6cmV0dXJuIGk9RmwuaGV4U3RyaW5nRnJvbUJ5dGVzKG4pLGE9NCxlLmFicnVwdCgiYnJlYWsiLDEwKTtjYXNlIDg6aT1GbC5iaW5hcnlTdHJpbmdGcm9tQnl0ZXMobiksYT0xO2Nhc2UgMTA6bnVsbCE9PShvPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJncm91cEJpdHMiKSkmJihzPW8vYSxpPUJsLmNodW5rKGkscykuam9pbigiICIpKSx0aGlzLmdldFZpZXcoKS5zZXRUZXh0KGkpO2Nhc2UgMTM6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToidmlld1RleHREaWRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczt0aGlzLmRhcmUoKGZ1bmN0aW9uKCl7dmFyIGUscj1uLmdldFNldHRpbmdWYWx1ZSgiZm9ybWF0IiksaT10O3N3aXRjaChpPWkucmVwbGFjZSgvXHMvZywiIikscil7Y2FzZSJoZXhhZGVjaW1hbCI6ZT1GbC5ieXRlc0Zyb21IZXhTdHJpbmcoaSk7YnJlYWs7Y2FzZSJiaW5hcnkiOmU9RmwuYnl0ZXNGcm9tQmluYXJ5U3RyaW5nKGkpfW4uY29udGVudERpZENoYW5nZShxbC53cmFwKGUpKX0pKX19LHtrZXk6InNldHRpbmdWYWx1ZURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZigiZ3JvdXBCaXRzIj09PWUuZ2V0TmFtZSgpKXt2YXIgbj10aGlzLmdldFNldHRpbmcoImZvcm1hdCIpLHI9WyJiaW5hcnkiXSxpPVsiQmluYXJ5Il07bnVsbCE9PXQmJnQlNCE9MHx8KHIucHVzaCgiaGV4YWRlY2ltYWwiKSxpLnB1c2goIkhleGFkZWNpbWFsIikpLC0xPT09ci5pbmRleE9mKG4uZ2V0VmFsdWUoKSkmJm4uc2V0VmFsdWUoclswXSksbi5zZXRFbGVtZW50cyhyLGkpfX19XSkscn0odWQpLGRkPXtuYW1lOiJjYWVzYXItY2lwaGVyIix0aXRsZToiQ2Flc2FyIGNpcGhlciIsY2F0ZWdvcnk6IkNpcGhlcnMiLHR5cGU6ImVuY29kZXIifSxmZD1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLmFkZFNldHRpbmdzKFt7bmFtZToic2hpZnQiLHR5cGU6Im51bWJlciIsbGFiZWw6IlNoaWZ0Iixwcmlvcml0eToxMCx2YWx1ZTo3LGludGVnZXI6ITAsdXNlQmlnSW50OiEwLGRlc2NyaWJlVmFsdWU6ZS5kZXNjcmliZVNoaWZ0VmFsdWUuYmluZChDdChlKSkscmFuZG9taXplVmFsdWU6ZS5yYW5kb21pemVTaGlmdFZhbHVlLmJpbmQoQ3QoZSkpfSx7bmFtZToiYWxwaGFiZXQiLHR5cGU6InRleHQiLHZhbHVlOiJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIsdW5pcXVlQ2hhcnM6ITAsbWluTGVuZ3RoOjIsY2FzZVNlbnNpdGl2aXR5OiExLHJhbmRvbWl6YWJsZTohMX0se25hbWU6ImNhc2VTdHJhdGVneSIsdHlwZToiZW51bSIsdmFsdWU6Im1haW50YWluIixlbGVtZW50czpbIm1haW50YWluIiwiaWdub3JlIiwic3RyaWN0Il0sbGFiZWxzOlsiTWFpbnRhaW4gY2FzZSIsIklnbm9yZSBjYXNlIiwiU3RyaWN0IChBIOKJoCBhKSJdLHdpZHRoOjYscmFuZG9taXphYmxlOiExfSx7bmFtZToiaW5jbHVkZUZvcmVpZ25DaGFycyIsdHlwZToiYm9vbGVhbiIsbGFiZWw6IkZvcmVpZ24gQ2hhcnMiLHdpZHRoOjYsdmFsdWU6ITAsdHJ1ZUxhYmVsOiJJbmNsdWRlIixmYWxzZUxhYmVsOiJJZ25vcmUiLHJhbmRvbWl6YWJsZTohMX1dKSxlfXJldHVybiBidChuLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGRkfX1dKSxidChuLFt7a2V5OiJwZXJmb3JtVHJhbnNsYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9dGhpcy5nZXRTZXR0aW5nVmFsdWVzKCksaT1yLnNoaWZ0LGE9ci5jYXNlU3RyYXRlZ3ksbz1yLmluY2x1ZGVGb3JlaWduQ2hhcnMscz10aGlzLmdldFNldHRpbmdWYWx1ZSgiYWxwaGFiZXQiKTsic3RyaWN0IiE9PWEmJihuPShzPXMudG9Mb3dlckNhc2UoKSkudG9VcHBlckNhc2UoKSk7Zm9yKHZhciBsLHUsYyxoLGQ9cy5nZXRMZW5ndGgoKSxmPWUuZ2V0TGVuZ3RoKCksZz1uZXcgQXJyYXkoZikscD0wLHY9MDt2PGY7disrKWw9ZS5nZXRDb2RlUG9pbnRBdCh2KSxoPSExLC0xPT09KHU9cy5pbmRleE9mQ29kZVBvaW50KGwpKSYmInN0cmljdCIhPT1hJiYodT1uLmluZGV4T2ZDb2RlUG9pbnQobCksaD0hMCksLTE9PT11P28mJihnW3ArK109bCk6KGM9ImJpZ2ludCIhPXR5cGVvZiBpPyR1Lm1vZCh1K2kqKHQ/MTotMSksZCk6TnVtYmVyKCR1Lm1vZChCaWdJbnQodSkraSpCaWdJbnQodD8xOi0xKSxCaWdJbnQoZCkpKSxnW3ArK109Im1haW50YWluIj09PWEmJmg/bi5nZXRDb2RlUG9pbnRBdChjKTpzLmdldENvZGVQb2ludEF0KGMpKTtyZXR1cm4gZy5zbGljZSgwLHApfX0se2tleToic2V0dGluZ1ZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3N3aXRjaChlLmdldE5hbWUoKSl7Y2FzZSJjYXNlU3RyYXRlZ3kiOnRoaXMuZ2V0U2V0dGluZygiYWxwaGFiZXQiKS5zZXRDYXNlU2Vuc2l0aXZpdHkoInN0cmljdCI9PT10KTticmVhaztjYXNlImFscGhhYmV0Ijp0aGlzLmdldFNldHRpbmcoInNoaWZ0Iikuc2V0TmVlZHNWYWx1ZURlc2NyaXB0aW9uVXBkYXRlKCl9fX0se2tleToicmFuZG9taXplU2hpZnRWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldFNldHRpbmcoImFscGhhYmV0Iik7cmV0dXJuIG4uaXNWYWxpZCgpP2UubmV4dEludGVnZXIoMSxuLmdldFZhbHVlKCkuZ2V0TGVuZ3RoKCktMSk6bnVsbH19LHtrZXk6ImRlc2NyaWJlU2hpZnRWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5nZXRTZXR0aW5nKCJhbHBoYWJldCIpLmlzVmFsaWQoKSlyZXR1cm4gbnVsbDt2YXIgbj10aGlzLmdldFNldHRpbmdWYWx1ZXMoKSxyPW4uYWxwaGFiZXQsaT1uLnNoaWZ0LGE9ci5nZXRDaGFyQXQoMCksbz0kdS5tb2QoaSwiYmlnaW50IiE9dHlwZW9mIGk/ci5nZXRMZW5ndGgoKTpCaWdJbnQoci5nZXRMZW5ndGgoKSkpLHM9ci5nZXRDaGFyQXQobyk7cmV0dXJuIiIuY29uY2F0KGEsIuKGkiIpLmNvbmNhdChzKX19XSksbn0ocXUpLGdkPXtuYW1lOiJjYXNlLXRyYW5zZm9ybSIsdGl0bGU6IkNhc2UgdHJhbnNmb3JtIixjYXRlZ29yeToiVHJhbnNmb3JtIix0eXBlOiJlbmNvZGVyIn0scGQ9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5hZGRTZXR0aW5nKHtuYW1lOiJjYXNlIix0eXBlOiJlbnVtIix2YWx1ZToibG93ZXIiLGVsZW1lbnRzOlsibG93ZXIiLCJ1cHBlciIsImNhcGl0YWxpemUiLCJhbHRlcm5hdGluZyIsImludmVyc2UiXSxsYWJlbHM6WyJMb3dlciBjYXNlIiwiVXBwZXIgY2FzZSIsIkNhcGl0YWxpemUiLCJBbHRlcm5hdGluZyBjYXNlIiwiSW52ZXJzZSBjYXNlIl0scmFuZG9taXphYmxlOiExLHN0eWxlOiJyYWRpbyJ9KSxlfXJldHVybiBidChuLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGdkfX1dKSxidChuLFt7a2V5OiJwZXJmb3JtRW5jb2RlIix2YWx1ZTpmdW5jdGlvbihlKXtzd2l0Y2godGhpcy5nZXRTZXR0aW5nVmFsdWUoImNhc2UiKSl7Y2FzZSJsb3dlciI6cmV0dXJuIGUudG9Mb3dlckNhc2UoKTtjYXNlInVwcGVyIjpyZXR1cm4gZS50b1VwcGVyQ2FzZSgpO2Nhc2UiY2FwaXRhbGl6ZSI6cmV0dXJuIHFsLndyYXAoZS5nZXRTdHJpbmcoKS5yZXBsYWNlKC9bMC05QS1aX2Etel0oPzpbXDAtXHgwOFx4MEUtXHgxRiEtXHg5Rlx4QTEtXHUxNjdGXHUxNjgxLVx1MUZGRlx1MjAwQi1cdTIwMjdcdTIwMkEtXHUyMDJFXHUyMDMwLVx1MjA1RVx1MjA2MC1cdTJGRkZcdTMwMDEtXHVEN0ZGXHVFMDAwLVx1RkVGRVx1RkYwMC1cdUZGRkZdfFtcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGXXxbXHVEODAwLVx1REJGRl0oPyFbXHVEQzAwLVx1REZGRl0pfCg/OlteXHVEODAwLVx1REJGRl18XilbXHVEQzAwLVx1REZGRl0pKi9nLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpfSkpKTtjYXNlImFsdGVybmF0aW5nIjpyZXR1cm4gcWwud3JhcChlLmdldENoYXJzKCkubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiB0JTI9PTA/ZS50b0xvd2VyQ2FzZSgpOmUudG9VcHBlckNhc2UoKX0pKS5qb2luKCIiKSk7Y2FzZSJpbnZlcnNlIjpyZXR1cm4gdGhpcy5faW52ZXJzZUNhc2UoZSk7ZGVmYXVsdDpyZXR1cm4gZX19fSx7a2V5OiJwZXJmb3JtRGVjb2RlIix2YWx1ZTpmdW5jdGlvbihlKXtzd2l0Y2godGhpcy5nZXRTZXR0aW5nVmFsdWUoImNhc2UiKSl7Y2FzZSJpbnZlcnNlIjpyZXR1cm4gdGhpcy5faW52ZXJzZUNhc2UoZSk7ZGVmYXVsdDpyZXR1cm4gZX19fSx7a2V5OiJfaW52ZXJzZUNhc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBxbC53cmFwKGUuZ2V0Q2hhcnMoKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gZSE9PXQ/dDplLnRvVXBwZXJDYXNlKCl9KSkuam9pbigiIikpfX1dKSxufShxdSksdmQ9aHMubGVmdCx5ZD1ZZSgicmVkdWNlIiksbWQ9dHQoInJlZHVjZSIsezE6MH0pO09lKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6IXlkfHwhbWR9LHtyZWR1Y2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHZkKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgYmQ9dnUudHJpbTtPZSh7dGFyZ2V0OiJTdHJpbmciLHByb3RvOiEwLGZvcmNlZDpmdW5jdGlvbihlKXtyZXR1cm4gbCgoZnVuY3Rpb24oKXtyZXR1cm4hIWh1W2VdKCl8fCLigIvCheGgjiIhPSLigIvCheGgjiJbZV0oKXx8aHVbZV0ubmFtZSE9PWV9KSl9KCJ0cmltIil9LHt0cmltOmZ1bmN0aW9uKCl7cmV0dXJuIGJkKHRoaXMpfX0pO3ZhciBrZD17bmFtZToiZW5pZ21hIix0aXRsZToiRW5pZ21hIG1hY2hpbmUiLGNhdGVnb3J5OiJDaXBoZXJzIix0eXBlOiJlbmNvZGVyIn0sd2Q9ImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IixfZD1be25hbWU6IkkiLGxhYmVsOiJFbmlnbWEgSSIsZGVzY3JpcHRpb246Ikdlcm1hbiBBcm15ICYgQWlyIEZvcmNlIixjaGFyYWN0ZXJHcm91cFNpemU6NSxwbHVnYm9hcmQ6ITAsZW50cnlSb3RvcjoiRVRXLUFCQ0RFRiIscmVmbGVjdG9yUm90b3JzOlsiVUtXLUEiLCJVS1ctQiIsIlVLVy1DIl0scmVmbGVjdG9yVGh1bWJ3aGVlbDohMSxzbG90czpbe3JvdG9yczpbIkkiLCJJSSIsIklJSSIsIklWIiwiViJdfSx7cm90b3JzOlsiSSIsIklJIiwiSUlJIiwiSVYiLCJWIl19LHtyb3RvcnM6WyJJIiwiSUkiLCJJSUkiLCJJViIsIlYiXX1dfSx7bmFtZToiTiIsbGFiZWw6J0VuaWdtYSBJICJOb3JlbmlnbWEiJyxkZXNjcmlwdGlvbjoiTm9yd2VnaWFuIFBvbGljZSBTZWN1cml0eSBTZXJ2aWNlIixjaGFyYWN0ZXJHcm91cFNpemU6NSxwbHVnYm9hcmQ6ITAsZW50cnlSb3RvcjoiRVRXLUFCQ0RFRiIscmVmbGVjdG9yUm90b3JzOlsiVUtXLU4iXSxyZWZsZWN0b3JUaHVtYndoZWVsOiExLHNsb3RzOlt7cm90b3JzOlsiSS1OIiwiSUktTiIsIklJSS1OIiwiSVYtTiIsIlYtTiJdfSx7cm90b3JzOlsiSS1OIiwiSUktTiIsIklJSS1OIiwiSVYtTiIsIlYtTiJdfSx7cm90b3JzOlsiSS1OIiwiSUktTiIsIklJSS1OIiwiSVYtTiIsIlYtTiJdfV19LHtuYW1lOiJTIixsYWJlbDonRW5pZ21hIEkgIlNvbmRlcm1hc2NoaW5lIicsZGVzY3JpcHRpb246Ikdlcm1hbiBJbnRlbGxpZ2VuY2UiLGNoYXJhY3Rlckdyb3VwU2l6ZTo1LHBsdWdib2FyZDohMCxlbnRyeVJvdG9yOiJFVFctQUJDREVGIixyZWZsZWN0b3JSb3RvcnM6WyJVS1ctUyJdLHJlZmxlY3RvclRodW1id2hlZWw6ITEsc2xvdHM6W3tyb3RvcnM6WyJJLVMiLCJJSS1TIiwiSUlJLVMiXX0se3JvdG9yczpbIkktUyIsIklJLVMiLCJJSUktUyJdfSx7cm90b3JzOlsiSS1TIiwiSUktUyIsIklJSS1TIl19XX0se25hbWU6Ik0zIixsYWJlbDoiRW5pZ21hIE0zIixkZXNjcmlwdGlvbjoiR2VybWFuIEFybXkgJiBOYXZ5IixjaGFyYWN0ZXJHcm91cFNpemU6NSxwbHVnYm9hcmQ6ITAsZW50cnlSb3RvcjoiRVRXLUFCQ0RFRiIscmVmbGVjdG9yUm90b3JzOlsiVUtXLUIiLCJVS1ctQyJdLHJlZmxlY3RvclRodW1id2hlZWw6ITEsc2xvdHM6W3tyb3RvcnM6WyJJIiwiSUkiLCJJSUkiLCJJViIsIlYiLCJWSSIsIlZJSSIsIlZJSUkiXX0se3JvdG9yczpbIkkiLCJJSSIsIklJSSIsIklWIiwiViIsIlZJIiwiVklJIiwiVklJSSJdfSx7cm90b3JzOlsiSSIsIklJIiwiSUlJIiwiSVYiLCJWIiwiVkkiLCJWSUkiLCJWSUlJIl19XX0se25hbWU6Ik00IixsYWJlbDonRW5pZ21hIE00ICJTaGFyayInLGRlc2NyaXB0aW9uOiJHZXJtYW4gU3VibWFyaW5lcyIsY2hhcmFjdGVyR3JvdXBTaXplOjQscGx1Z2JvYXJkOiEwLGVudHJ5Um90b3I6IkVUVy1BQkNERUYiLHJlZmxlY3RvclJvdG9yczpbIlVLVy1CLXRoaW4iLCJVS1ctQy10aGluIl0scmVmbGVjdG9yVGh1bWJ3aGVlbDohMSxzbG90czpbe3JvdG9yczpbImJldGEiLCJnYW1tYSJdLHJvdGF0aW5nOiExfSx7cm90b3JzOlsiSSIsIklJIiwiSUlJIiwiSVYiLCJWIiwiVkkiLCJWSUkiLCJWSUlJIl19LHtyb3RvcnM6WyJJIiwiSUkiLCJJSUkiLCJJViIsIlYiLCJWSSIsIlZJSSIsIlZJSUkiXX0se3JvdG9yczpbIkkiLCJJSSIsIklJSSIsIklWIiwiViIsIlZJIiwiVklJIiwiVklJSSJdfV19LHtuYW1lOiJEIixsYWJlbDoiRW5pZ21hIEQgLyBLIixkZXNjcmlwdGlvbjoiQ29tbWVyY2lhbCBFbmlnbWEiLGNoYXJhY3Rlckdyb3VwU2l6ZTo1LHBsdWdib2FyZDohMSxlbnRyeVJvdG9yOiJFVFctUVdFUlRaIixyZWZsZWN0b3JSb3RvcnM6WyJVS1ctQ09NIl0scmVmbGVjdG9yVGh1bWJ3aGVlbDohMCxzbG90czpbe3JvdG9yczpbIkktRCIsIklJLUQiLCJJSUktRCJdfSx7cm90b3JzOlsiSS1EIiwiSUktRCIsIklJSS1EIl19LHtyb3RvcnM6WyJJLUQiLCJJSS1EIiwiSUlJLUQiXX1dfSx7bmFtZToiVCIsbGFiZWw6J0VuaWdtYSBUICJUaXJwaXR6IicsZGVzY3JpcHRpb246IkphcGFuZXNlIEFybXkiLGNoYXJhY3Rlckdyb3VwU2l6ZTo1LHBsdWdib2FyZDohMSxlbnRyeVJvdG9yOiJFVFctVCIscmVmbGVjdG9yUm90b3JzOlsiVUtXLVQiXSxyZWZsZWN0b3JUaHVtYndoZWVsOiEwLHNsb3RzOlt7cm90b3JzOlsiSS1UIiwiSUktVCIsIklJSS1UIiwiSVYtVCIsIlYtVCIsIlZJLVQiLCJWSUktVCIsIlZJSUktVCJdfSx7cm90b3JzOlsiSS1UIiwiSUktVCIsIklJSS1UIiwiSVYtVCIsIlYtVCIsIlZJLVQiLCJWSUktVCIsIlZJSUktVCJdfSx7cm90b3JzOlsiSS1UIiwiSUktVCIsIklJSS1UIiwiSVYtVCIsIlYtVCIsIlZJLVQiLCJWSUktVCIsIlZJSUktVCJdfV19LHtuYW1lOiJLUyIsbGFiZWw6IlN3aXNzLUsiLGRlc2NyaXB0aW9uOiJTd2lzcyBBcm15ICYgQWlyIEZvcmNlIixjaGFyYWN0ZXJHcm91cFNpemU6NSxwbHVnYm9hcmQ6ITEsZW50cnlSb3RvcjoiRVRXLVFXRVJUWiIscmVmbGVjdG9yUm90b3JzOlsiVUtXLUNPTSJdLHJlZmxlY3RvclRodW1id2hlZWw6ITAsc2xvdHM6W3tyb3RvcnM6WyJJLUtTIiwiSUktS1MiLCJJSUktS1MiXX0se3JvdG9yczpbIkktS1MiLCJJSS1LUyIsIklJSS1LUyJdfSx7cm90b3JzOlsiSS1LUyIsIklJLUtTIiwiSUlJLUtTIl19XX0se25hbWU6IktSIixsYWJlbDonUmFpbHdheSBFbmlnbWEgIlJvY2tldCBJIicsZGVzY3JpcHRpb246Ikdlcm1hbiBSYWlsd2F5IixjaGFyYWN0ZXJHcm91cFNpemU6NSxwbHVnYm9hcmQ6ITEsZW50cnlSb3RvcjoiRVRXLVFXRVJUWiIscmVmbGVjdG9yUm90b3JzOlsiVUtXLUtSIl0scmVmbGVjdG9yVGh1bWJ3aGVlbDohMCxzbG90czpbe3JvdG9yczpbIkktS1IiLCJJSS1LUiIsIklJSS1LUiJdfSx7cm90b3JzOlsiSS1LUiIsIklJLUtSIiwiSUlJLUtSIl19LHtyb3RvcnM6WyJJLUtSIiwiSUktS1IiLCJJSUktS1IiXX1dfSx7bmFtZToiWiIsbGFiZWw6IlrDpGhsd2VyayBFbmlnbWEgQS04NjUiLGRlc2NyaXB0aW9uOm51bGwsY2hhcmFjdGVyR3JvdXBTaXplOjUscGx1Z2JvYXJkOiExLGVudHJ5Um90b3I6IkVUVy1RV0VSVFoiLHJlZmxlY3RvclJvdG9yczpbIlVLVy1DT00iXSxyZWZsZWN0b3JUaHVtYndoZWVsOiEwLHJlZmxlY3RvclJvdGF0aW5nOiEwLHR1cm5vdmVyTWVjaGFuaXNtOiJjb2ciLHNsb3RzOlt7cm90b3JzOlsiSS1aIiwiSUktWiIsIklJSS1aIl19LHtyb3RvcnM6WyJJLVoiLCJJSS1aIiwiSUlJLVoiXX0se3JvdG9yczpbIkktWiIsIklJLVoiLCJJSUktWiJdfV19LHtuYW1lOiJHMTExIixsYWJlbDoiQWJ3ZWhyIEVuaWdtYSBHLTExMSIsZGVzY3JpcHRpb246bnVsbCxjaGFyYWN0ZXJHcm91cFNpemU6NSxwbHVnYm9hcmQ6ITEsZW50cnlSb3RvcjoiRVRXLVFXRVJUWiIscmVmbGVjdG9yUm90b3JzOlsiVUtXLUNPTSJdLHJlZmxlY3RvclRodW1id2hlZWw6ITAscmVmbGVjdG9yUm90YXRpbmc6ITAsdHVybm92ZXJNZWNoYW5pc206ImNvZyIsc2xvdHM6W3tyb3RvcnM6WyJJLUcxMTEiLCJJSS1HMTExIiwiVi1HMTExIl19LHtyb3RvcnM6WyJJLUcxMTEiLCJJSS1HMTExIiwiVi1HMTExIl19LHtyb3RvcnM6WyJJLUcxMTEiLCJJSS1HMTExIiwiVi1HMTExIl19XX0se25hbWU6IkczMTIiLGxhYmVsOiJBYndlaHIgRW5pZ21hIEctMzEyIixkZXNjcmlwdGlvbjoiR2VybWFuIFNlcmV0IFNlcnZpY2UiLGNoYXJhY3Rlckdyb3VwU2l6ZTo1LHBsdWdib2FyZDohMSxlbnRyeVJvdG9yOiJFVFctUVdFUlRaIixyZWZsZWN0b3JSb3RvcnM6WyJVS1ctRzMxMiJdLHJlZmxlY3RvclRodW1id2hlZWw6ITAscmVmbGVjdG9yUm90YXRpbmc6ITAsdHVybm92ZXJNZWNoYW5pc206ImNvZyIsc2xvdHM6W3tyb3RvcnM6WyJJLUczMTIiLCJJSS1HMzEyIiwiSUlJLUczMTIiXX0se3JvdG9yczpbIkktRzMxMiIsIklJLUczMTIiLCJJSUktRzMxMiJdfSx7cm90b3JzOlsiSS1HMzEyIiwiSUktRzMxMiIsIklJSS1HMzEyIl19XX0se25hbWU6IkcyNjAiLGxhYmVsOiJBYndlaHIgRW5pZ21hIEctMjYwIixkZXNjcmlwdGlvbjoiR2VybWFuIFNlcmV0IFNlcnZpY2UgaW4gQXJnZW50aW5hIixjaGFyYWN0ZXJHcm91cFNpemU6NSxwbHVnYm9hcmQ6ITEsZW50cnlSb3RvcjoiRVRXLVFXRVJUWiIscmVmbGVjdG9yUm90b3JzOlsiVUtXLUNPTSJdLHJlZmxlY3RvclRodW1id2hlZWw6ITAscmVmbGVjdG9yUm90YXRpbmc6ITAsdHVybm92ZXJNZWNoYW5pc206ImNvZyIsc2xvdHM6W3tyb3RvcnM6WyJJLUcyNjAiLCJJSS1HMjYwIiwiSUlJLUcyNjAiXX0se3JvdG9yczpbIkktRzI2MCIsIklJLUcyNjAiLCJJSUktRzI2MCJdfSx7cm90b3JzOlsiSS1HMjYwIiwiSUktRzI2MCIsIklJSS1HMjYwIl19XX1dLFNkPVsibmFtZSIsImxhYmVsIiwid2lyaW5nIiwidHVybm92ZXJzIl0seGQ9WyJFVFctQUJDREVGIiwiQWxwaGFiZXQiLCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIsIiIsIkVUVy1RV0VSVFoiLCJLZXlib2FyZCIsImp3dWxjbW5vaHBxenl4aXJhZGtlZ3ZidHNmIiwiIiwiSSIsIkkiLCJla21mbGdkcXZ6bnRvd3loeHVzcGFpYnJjaiIsInEiLCJJSSIsIklJIiwiYWpka3NpcnV4Ymxod3RtY3Fnem5weWZ2b2UiLCJlIiwiSUlJIiwiSUlJIiwiYmRmaGpsY3BydHh2em55ZWl3Z2FrbXVzcW8iLCJ2IiwiSVYiLCJJViIsImVzb3ZwempheXF1aXJoeGxuZnRna2RjbXdiIiwiaiIsIlYiLCJWIiwidnpicmdpdHl1cHNkbmhseGF3bWpxb2ZlY2siLCJ6IiwiVkkiLCJWSSIsImpwZ3ZvdW1meXFiZW5oenJka2FzeGxpY3R3Iiwiem0iLCJWSUkiLCJWSUkiLCJuempoZ3JjeG15c3dib3VmYWl2bHBla3FkdCIsInptIiwiVklJSSIsIlZJSUkiLCJma3FodGx4b2NianNwZHpyYW1ld25pdXlndiIsInptIiwiYmV0YSIsIkJldGEiLCJsZXlqdmNuaXh3cGJxbWRydGFremdmdWhvcyIsIiIsImdhbW1hIiwiR2FtbWEiLCJmc29rYW51ZXJobWJ0aXljd2xxcHp4dmdqZCIsIiIsIlVLVy1BIiwiVUtXIEEiLCJlam16YWx5eHZid2ZjcnF1b250c3Bpa2hnZCIsIiIsIlVLVy1CIiwiVUtXIEIiLCJ5cnVocXNsZHB4bmdva21pZWJmemN3dmphdCIsIiIsIlVLVy1DIiwiVUtXIEMiLCJmdnBqaWFveWVkcnp4d2djdGt1cXNibm1obCIsIiIsIlVLVy1CLXRoaW4iLCJVS1cgQiB0aGluIiwiZW5rcWF1eXdqaWNvcGJsbWR4enZmdGhyZ3MiLCIiLCJVS1ctQy10aGluIiwiVUtXIEMgdGhpbiIsInJkb2JqbnRrdmVobWxmY3d6YXhneWlwc3VxIiwiIiwiSS1OIiwiSSIsInd0b2thc3V5dnJieGpocWNwemVmbWRpbmxnIiwicSIsIklJLU4iLCJJSSIsImdqbHB1YnN3ZW1jdHF2aHhhb2Z6ZHJreW5pIiwiZSIsIklJSS1OIiwiSUlJIiwiandmbWhuYnB1c2R5dGl4dnpncnFsYW9la2MiLCJ2IiwiSVYtTiIsIklWIiwiZXNvdnB6amF5cXVpcmh4bG5mdGdrZGNtd2IiLCJqIiwiVi1OIiwiViIsImhlanhxb3R6YnZmZGFzY2lsd3BneW5tdXJrIiwieiIsIlVLVy1OIiwiVUtXIiwibW93anlwdXhuZHNyYWliZnZsa3pncWNoZXQiLCIiLCJJLVMiLCJJIiwidmVvc2lyenVqZHFja2d3eXBueGFmbHRobWIiLCJxIiwiSUktUyIsIklJIiwidWVtb2F0cWxzaHBrY3lmd2p6Ymd2eGluZHIiLCJlIiwiSUlJLVMiLCJJSUkiLCJ0emh4bWJzaXBudXJqZmRrZXF2Y3dnbGFveSIsInYiLCJVS1ctUyIsIlVLVyIsImNpYWdzbmRyYnl0cHpmdWx2aGVrb3F4d2ptIiwiIiwiSS1EIiwiSSIsImxwZ3N6bWhhZW9xa3Z4cmZ5YnV0bmljamR3IiwieSIsIklJLUQiLCJJSSIsInNsdmdidGZ4anFvaGV3aXJ6eWFta3BjbmR1IiwiZSIsIklJSS1EIiwiSUlJIiwiY2pnZHBzaGt0dXJhd3p4Zm15bnFvYnZsaWUiLCJuIiwiVUtXLUNPTSIsIlVLVyIsImltZXRjZ2ZyYXlzcWJ6eHdsaGtkdnVwb2puIiwiIiwiRVRXLVQiLCJFVFciLCJpbHhyenRrZ2p5YW13dmR1ZmNwcWVvbnNoYiIsIiIsIkktVCIsIkkiLCJrcHR5dWVsb2N2Z3JmcWRhbmptYnN3aHp4aSIsInd6ZWtxIiwiSUktVCIsIklJIiwidXBoemx3ZXFtdGRqeGNha3NvaWd2YnlmbnIiLCJ3emZsciIsIklJSS1UIiwiSUlJIiwicXVkbHlyZmVrb252emF4d2htZ3BqYnNpY3QiLCJ3emVrcSIsIklWLVQiLCJJViIsImNpd3Ria3hucmVzcGZseWRhZ3ZocXVvanptIiwid3pmbHIiLCJWLVQiLCJWIiwidWF4Z2lzbmpidmVyZHlsZnp3dHBja29obXEiLCJ5Y2ZrciIsIlZJLVQiLCJWSSIsInhmdXpnYWx2aGNueXNld3F0ZG1yYmtwaW9qIiwieGVpbXEiLCJWSUktVCIsIlZJSSIsImJqdmZ0eHBsbmF5b3ppa3dnZHFlcnVjaHNtIiwieWNma3IiLCJWSUlJLVQiLCJWSUlJIiwieW10cG56aHdrb2RhanhlbHVxdmdjYmlzZnIiLCJ4ZWltcSIsIlVLVy1UIiwiVUtXIiwiZ2VrcGJ0YXVtb2NuaWxqZHh6eWZod3Zxc3IiLCIiLCJJLUtTIiwiSSIsInBlenVvaHhzY3ZmbXRiZ2xyaW5xandheWRrIiwieSIsIklJLUtTIiwiSUkiLCJ6b3Vlc3lka2Z3cGNpcXhobXZibGduanJhdCIsImUiLCJJSUktS1MiLCJJSUkiLCJlaHJ2eGdhb2JxdXNpbXpmbHlud2t0cGRqYyIsIm4iLCJJLUtSIiwiSSIsImpnZHFveHVzY2FtaWZydnRwbmV3a2JsenloIiwibiIsIklJLUtSIiwiSUkiLCJudHpwc2Zib2ttd3JjamRpdmxhZXl1eGhncSIsImUiLCJJSUktS1IiLCJJSUkiLCJqdml1Ymh0Y2R5YWtlcXpwb3NneG5ybXdmbCIsInkiLCJVS1ctS1IiLCJVS1ciLCJxeWhvZ25lY3ZwdXp0ZmRqYXh3bWtpc3JibCIsIiIsIkktWiIsIkkiLCJscGdzem1oYWVvcWt2eHJmeWJ1dG5pY2pkdyIsInN1dnd6YWJjZWZnaWtsb3BxIiwiSUktWiIsIklJIiwic2x2Z2J0ZnhqcW9oZXdpcnp5YW1rcGNuZHUiLCJzdHZ5emFjZGZnaGttbnEiLCJJSUktWiIsIklJSSIsImNqZ2Rwc2hrdHVyYXd6eGZteW5xb2J2bGllIiwidXd4YWVmaGttbnIiLCJJLUcxMTEiLCJJIiwid2xyaGJxdW5ka2pjenNleG90bWFneWZwdmkiLCJzdXZ3emFiY2VmZ2lrbG9wcSIsIklJLUcxMTEiLCJJSSIsInRmanFhendtaGxjdWl4cmR5Z29ldmJuc2twIiwic3R2eXphY2RmZ2hrbW5xIiwiVi1HMTExIiwiViIsInF0cGl4d3ZkZnJtdXNsam9oY2FuZXpreWJnIiwic3d6ZmhtcSIsIkktRzMxMiIsIkkiLCJkbXR3c2lscnV5cW5rZmVqY2F6YnBneG9odiIsInN1dnd6YWJjZWZnaWtsb3BxIiwiSUktRzMxMiIsIklJIiwiaHF6Z3BqdG1vYmxuY2lmZHlhd3ZldXNya3giLCJzdHZ5emFjZGZnaGttbnEiLCJJSUktRzMxMiIsIklJSSIsInVxbnRsc3pmbXJlaGRweGtpYnZ5Z2pjd29hIiwidXd4YWVmaGttbnIiLCJVS1ctRzMxMiIsIlVLVyIsInJ1bHFtempzeWdvY2V0a3dkYWhuYnhwdmlmIiwiIiwiSS1HMjYwIiwiSSIsInJjc3BibGtxYXVtaHd5dGlmenZnb2puZXhkIiwic3V2d3phYmNlZmdpa2xvcHEiLCJJSS1HMjYwIiwiSUkiLCJ3Y21pYnZwanhhcm9zZ25kbHprZXlodWZxdCIsInN0dnl6YWNkZmdoa21ucSIsIklJSS1HMjYwIiwiSUlJIiwiZnZkaHplbHNxbWF4b2t5aXdwZ2NidWp0bnIiLCJ1d3hhZWZoa21uciJdLElkPW51bGwsQ2Q9bnVsbCxWZD1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTt5dCh0aGlzLG4pLGU9dC5jYWxsKHRoaXMpO3ZhciByPW4uZ2V0TW9kZWwoIk0zIiksaT1uLmdldFJvdG9ycyhyLnNsb3RzWzBdLnJvdG9ycyksYT1pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZX0pKSxvPWkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sYWJlbH0pKSxzPW4uZ2V0Um90b3JzKHIucmVmbGVjdG9yUm90b3JzKTtlLmFkZFNldHRpbmcoe25hbWU6Im1vZGVsIix0eXBlOiJlbnVtIix2YWx1ZTpyLm5hbWUsZWxlbWVudHM6X2QubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSkpLGxhYmVsczpfZC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxhYmVsfSkpLGRlc2NyaXB0aW9uczpfZC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlc2NyaXB0aW9ufSkpLHJhbmRvbWl6YWJsZTohMX0pLGUuYWRkU2V0dGluZyh7bmFtZToicmVmbGVjdG9yIix0eXBlOiJlbnVtIix2YWx1ZTpzWzBdLm5hbWUsZWxlbWVudHM6cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWV9KSksbGFiZWxzOnMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sYWJlbH0pKSx3aWR0aDo0fSksZS5hZGRTZXR0aW5nKHtuYW1lOiJwb3NpdGlvblJlZmxlY3RvciIsbGFiZWw6IlBvc2l0aW9uIix0eXBlOiJudW1iZXIiLHZhbHVlOjEsaW50ZWdlcjohMCxtaW46MSxtYXg6MjcsZGVzY3JpYmVWYWx1ZTplLmRlc2NyaWJlUG9zaXRpb25WYWx1ZS5iaW5kKEN0KGUpKSx3aWR0aDo0fSksZS5hZGRTZXR0aW5nKHtuYW1lOiJyaW5nUmVmbGVjdG9yIixsYWJlbDoiUmluZyIsdHlwZToibnVtYmVyIix2YWx1ZToxLGludGVnZXI6ITAsbWluOjEsbWF4OjI3LGRlc2NyaWJlVmFsdWU6ZS5kZXNjcmliZVBvc2l0aW9uVmFsdWUuYmluZChDdChlKSksd2lkdGg6NH0pO2Zvcih2YXIgbD0wO2w8bi5nZXRNYXhTbG90Q291bnQoKTtsKyspZS5hZGRTZXR0aW5nKHtuYW1lOiJyb3RvciIuY29uY2F0KGwrMSksbGFiZWw6IlJvdG9yICIuY29uY2F0KGwrMSksdHlwZToiZW51bSIsdmFsdWU6YVswXSxlbGVtZW50czphLGxhYmVsczpvLHJhbmRvbWl6YWJsZTohMSx3aWR0aDo0fSksZS5hZGRTZXR0aW5nKHtuYW1lOiJwb3NpdGlvbiIuY29uY2F0KGwrMSksbGFiZWw6IlBvc2l0aW9uIix0eXBlOiJudW1iZXIiLHZhbHVlOjEsaW50ZWdlcjohMCxtaW46MSxtYXg6MjcsZGVzY3JpYmVWYWx1ZTplLmRlc2NyaWJlUG9zaXRpb25WYWx1ZS5iaW5kKEN0KGUpKSx3aWR0aDo0fSksZS5hZGRTZXR0aW5nKHtuYW1lOiJyaW5nIi5jb25jYXQobCsxKSxsYWJlbDoiUmluZyIsdHlwZToibnVtYmVyIix2YWx1ZToxLGludGVnZXI6ITAsbWluOjEsbWF4OjI3LGRlc2NyaWJlVmFsdWU6ZS5kZXNjcmliZVBvc2l0aW9uVmFsdWUuYmluZChDdChlKSksd2lkdGg6NH0pO3JldHVybiBlLmFkZFNldHRpbmcoe25hbWU6InBsdWdib2FyZCIsdHlwZToidGV4dCIsdmFsdWU6IiIsY2FzZVNlbnNpdGl2aXR5OiExLHZhbGlkYXRlVmFsdWU6ZS52YWxpZGF0ZVBsdWdib2FyZFZhbHVlLmJpbmQoQ3QoZSkpLGZpbHRlclZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFN0cmluZygpLnRyaW0oKS50b0xvd2VyQ2FzZSgpfSxyYW5kb21pemVWYWx1ZTplLnJhbmRvbWl6ZVBsdWdib2FyZFZhbHVlLmJpbmQoQ3QoZSkpfSksZS5hZGRTZXR0aW5nKHtuYW1lOiJpbmNsdWRlRm9yZWlnbkNoYXJzIix0eXBlOiJib29sZWFuIixsYWJlbDoiRm9yZWlnbiBDaGFycyIsdmFsdWU6ITEsdHJ1ZUxhYmVsOiJJbmNsdWRlIixmYWxzZUxhYmVsOiJJZ25vcmUiLHJhbmRvbWl6YWJsZTohMX0pLGUuYXBwbHlNb2RlbChyLm5hbWUpLGV9cmV0dXJuIGJ0KG4sbnVsbCxbe2tleToiZ2V0TWV0YSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4ga2R9fV0pLGJ0KG4sW3trZXk6InNldHRpbmdWYWx1ZURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtBdCh3dChuLnByb3RvdHlwZSksInNldHRpbmdWYWx1ZURpZENoYW5nZSIsdGhpcykuY2FsbCh0aGlzLGUsdCksIm1vZGVsIj09PWUuZ2V0TmFtZSgpJiZ0aGlzLmFwcGx5TW9kZWwodCl9fSx7a2V5OiJhcHBseU1vZGVsIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9bi5nZXRNb2RlbChlKSxyPW4uZ2V0TWF4U2xvdENvdW50KCksaT0wO2k8cjtpKyspe3ZhciBhPWk8dC5zbG90cy5sZW5ndGg/dC5zbG90c1tpXTpudWxsLG89bnVsbCE9PWEscz10aGlzLmdldFNldHRpbmcoInJvdG9yIi5jb25jYXQoaSsxKSksbD10aGlzLmdldFNldHRpbmcoInJpbmciLmNvbmNhdChpKzEpKSx1PXRoaXMuZ2V0U2V0dGluZygicG9zaXRpb24iLmNvbmNhdChpKzEpKTtpZihzLnNldFZpc2libGUobyksbC5zZXRWaXNpYmxlKG8pLHUuc2V0VmlzaWJsZShvKSxvKXt2YXIgYz1uLmdldFJvdG9ycyhhLnJvdG9ycyk7cy5zZXRFbGVtZW50cyhjLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZX0pKSxjLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubGFiZWx9KSksbnVsbCwhMSksITAhPT1zLnZhbGlkYXRlVmFsdWUocy5nZXRWYWx1ZSgpKSYmcy5zZXRWYWx1ZShjWzBdLm5hbWUpfX12YXIgaD1uLmdldFJvdG9ycyh0LnJlZmxlY3RvclJvdG9ycyksZD10aGlzLmdldFNldHRpbmcoInJlZmxlY3RvciIpO2Quc2V0RWxlbWVudHMoaC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWV9KSksaC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxhYmVsfSkpLG51bGwsITEpLCEwIT09ZC52YWxpZGF0ZVZhbHVlKGQuZ2V0VmFsdWUoKSkmJmQuc2V0VmFsdWUoaFswXS5uYW1lKSxkLnNldFdpZHRoKHQucmVmbGVjdG9yVGh1bWJ3aGVlbD80OjEyKSxkLnNldFZpc2libGUodC5yZWZsZWN0b3JUaHVtYndoZWVsfHxoLmxlbmd0aD4xKSx0aGlzLmdldFNldHRpbmcoInBvc2l0aW9uUmVmbGVjdG9yIikuc2V0VmlzaWJsZSh0LnJlZmxlY3RvclRodW1id2hlZWwpLHRoaXMuZ2V0U2V0dGluZygicmluZ1JlZmxlY3RvciIpLnNldFZpc2libGUodC5yZWZsZWN0b3JUaHVtYndoZWVsKSx0aGlzLmdldFNldHRpbmcoInBsdWdib2FyZCIpLnNldFZpc2libGUodC5wbHVnYm9hcmQpfX0se2tleToicGVyZm9ybVRyYW5zbGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmdldFNldHRpbmdWYWx1ZSgiaW5jbHVkZUZvcmVpZ25DaGFycyIpLGk9bi5nZXRNb2RlbCh0aGlzLmdldFNldHRpbmdWYWx1ZSgibW9kZWwiKSksYT0wLG89aS5zbG90cyxzPW8ubGVuZ3RoLGw9by5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiExIT09ZS5yb3RhdGluZ30pKSx1PVtdLGM9W10saD1bXSxkPW5ldyBBcnJheShzKTtmb3IoYT0wO2E8czthKyspe3ZhciBmPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJyb3RvciIuY29uY2F0KGErMSkpO3UucHVzaChuLmdldFJvdG9yKGYpKSxjLnB1c2godGhpcy5nZXRTZXR0aW5nVmFsdWUoInBvc2l0aW9uIi5jb25jYXQoYSsxKSktMSksaC5wdXNoKHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJyaW5nIi5jb25jYXQoYSsxKSktMSl9dmFyIGcscD1uLmdldFJvdG9yKGkuZW50cnlSb3Rvciksdj0hMD09PWkucmVmbGVjdG9yUm90YXRpbmcseT1uLmdldFJvdG9yKHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJyZWZsZWN0b3IiKSksbT1pLnJlZmxlY3RvclRodW1id2hlZWw/dGhpcy5nZXRTZXR0aW5nVmFsdWUoInBvc2l0aW9uUmVmbGVjdG9yIik6MCxiPWkucmVmbGVjdG9yVGh1bWJ3aGVlbD90aGlzLmdldFNldHRpbmdWYWx1ZSgicmluZ1JlZmxlY3RvciIpOjAsaz1udWxsO2lmKGkucGx1Z2JvYXJkKXt2YXIgdz10aGlzLmdldFNldHRpbmdWYWx1ZSgicGx1Z2JvYXJkIik7az10aGlzLndpcmluZ0Zyb21QbHVnYm9hcmRWYWx1ZSh3LnRvU3RyaW5nKCkpfXZhciBfPW4ucm90b3JNYXBDaGFyLFM9ZS5nZXRDb2RlUG9pbnRzKCkubWFwKChmdW5jdGlvbihlLHQpe3ZhciBvPW51bGw7aWYoZT49NjUmJmU8PTkwKW89ZS02NTtlbHNle2lmKCEoZT49OTcmJmU8PTEyMikpcmV0dXJuISFyJiZlO289ZS05N31pZihkLmZpbGwoITEpLGc9ITEsImNvZyI9PT1pLnR1cm5vdmVyTWVjaGFuaXNtKXt2YXIgZj0hMDtmb3IoYT1zO2YmJi0tYT49MDspbFthXT8oZj1uLnJvdG9yQXRUdXJub3Zlcih1W2FdLGNbYV0pLGRbYV09ITApOmY9ITE7Zz12JiZmfWVsc2V7Zm9yKGE9MDthPHM7YSsrKWxbYV0mJih2JiYwPT09YXx8bFthLTFdKSYmbi5yb3RvckF0VHVybm92ZXIodVthXSxjW2FdKSYmKGRbYV09ITAsYT4wP2RbYS0xXT0hMDpnPSEwKTtkW3MtMV09bFtzLTFdfWZvcihhPTA7YTxzO2ErKylkW2FdJiZjW2FdKys7Zm9yKGcmJm0rKyxudWxsIT09ayYmKG89XyhvLGssMCwwLCExKSksbz1fKG8scCwwLDAsITEpLGE9dS5sZW5ndGgtMTthPj0wO2EtLSlvPV8obyx1W2FdLGNbYV0saFthXSwhMSk7Zm9yKG89XyhvLHksbSxiLCExKSxhPTA7YTx1Lmxlbmd0aDthKyspbz1fKG8sdVthXSxjW2FdLGhbYV0sITApO3JldHVybiBvPV8obyxwLDAsMCwhMCksbnVsbCE9PWsmJihvPV8obyxrLDAsMCwhMCkpLG8rOTd9KSk7aWYoIXIpe3ZhciB4PVtdO1MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ITEhPT1lJiYoKHgubGVuZ3RoKzEpJShpLmNoYXJhY3Rlckdyb3VwU2l6ZSsxKT09MCYmeC5wdXNoKDMyKSx4LnB1c2goZSkpfSkpLFM9eH1yZXR1cm4gU319LHtrZXk6ImRlc2NyaWJlUG9zaXRpb25WYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gd2RbZS0xXS50b1VwcGVyQ2FzZSgpfX0se2tleToidmFsaWRhdGVQbHVnYm9hcmRWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldFN0cmluZygpO3JldHVybiIiPT09bnx8KG51bGw9PT1uLm1hdGNoKC9eKFthLXpdezJ9XHMpKihbYS16XXsyfSkkLyk/e2tleToiZW5pZ21hUGx1Z2JvYXJkSW52YWxpZEZvcm1hdCIsbWVzc2FnZToiSW52YWxpZCBwbHVnYm9hcmQgZm9ybWF0OiBwYWlycyBvZiBsZXR0ZXJzIHRvIGJlIHN3YXBwZWQgZXhwZWN0ZWQgKGUuZy4gJ2FiIGNkIGVmJykifTohIWFsLmlzVW5pcXVlKG4ucmVwbGFjZSgvXHMvZywiIikuc3BsaXQoIiIpKXx8e2tleToiZW5pZ21hUGx1Z2JvYXJkUGFpcnNOb3RVbmlxdWUiLG1lc3NhZ2U6IlBhaXJzIG9mIGxldHRlcnMgdG8gYmUgc3dhcHBlZCBuZWVkIHRvIGJlIHVuaXF1ZSJ9KX19LHtrZXk6IndpcmluZ0Zyb21QbHVnYm9hcmRWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9d2Quc3BsaXQoIiIpO3JldHVybiBlLnNwbGl0KCIgIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlLmNoYXJDb2RlQXQoMCktOTddPWVbMV0sdFtlLmNoYXJDb2RlQXQoMSktOTddPWVbMF19KSksdC5qb2luKCIiKX19LHtrZXk6ImlzUmFuZG9taXphYmxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEwfX0se2tleToicmFuZG9taXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQscixpPW4uZ2V0TW9kZWwodGhpcy5nZXRTZXR0aW5nVmFsdWUoIm1vZGVsIikpLGE9aS5yZWZsZWN0b3JSb3RvcnM7Zm9yKGU9MDtlPGkuc2xvdHMubGVuZ3RoO2UrKylhPWEuY29uY2F0KGkuc2xvdHNbZV0ucm90b3JzKTtmb3IoYT1hbC51bmlxdWUoYSksLTEhPT0odD0oYT1hbC5zaHVmZmxlKGEpKS5maW5kSW5kZXgoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09aS5yZWZsZWN0b3JSb3RvcnMuaW5kZXhPZihlKX0pKSkmJihyPWEuc3BsaWNlKHQsMSlbMF0sdGhpcy5zZXRTZXR0aW5nVmFsdWUoInJlZmxlY3RvciIscikpLGU9MDtlPGkuc2xvdHMubGVuZ3RoO2UrKyktMSE9PSh0PWEuZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4tMSE9PWkuc2xvdHNbZV0ucm90b3JzLmluZGV4T2YodCl9KSkpJiYocj1hLnNwbGljZSh0LDEpWzBdLHRoaXMuc2V0U2V0dGluZ1ZhbHVlKCJyb3RvciIuY29uY2F0KGUrMSkscikpO3JldHVybiBBdCh3dChuLnByb3RvdHlwZSksInJhbmRvbWl6ZSIsdGhpcykuY2FsbCh0aGlzKSx0aGlzfX0se2tleToicmFuZG9taXplUGx1Z2JvYXJkVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49YWwuc2h1ZmZsZSh3ZC5zcGxpdCgiIiksZSkuam9pbigiIikuc3Vic3RyKDAsMjApO3JldHVybiBCbC5jaHVuayhuLDIpLmpvaW4oIiAiKX19XSxbe2tleToicm90b3JBdFR1cm5vdmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUudHVybm92ZXJzKXJldHVybiExO3ZhciBuPVN0cmluZy5mcm9tQ2hhckNvZGUoOTcrJHUubW9kKHQsMjYpKTtyZXR1cm4tMSE9PWUudHVybm92ZXJzLmluZGV4T2Yobil9fSx7a2V5OiJyb3Rvck1hcENoYXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIGE9InN0cmluZyI9PXR5cGVvZiB0P3Q6dC53aXJpbmc7cmV0dXJuIG49JHUubW9kKG4tciwyNiksZT0kdS5tb2QoZStuLDI2KSxlPWk/YS5pbmRleE9mKFN0cmluZy5mcm9tQ2hhckNvZGUoOTcrZSkpOmEuY2hhckNvZGVBdChlKS05NyxlPSR1Lm1vZChlLW4sMjYpfX0se2tleToiZ2V0TW9kZWwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09SWQmJihJZD17fSxfZC5mb3JFYWNoKChmdW5jdGlvbihlKXtJZFtlLm5hbWVdPWV9KSkpLElkW2VdfHxudWxsfX0se2tleToiZ2V0TWF4U2xvdENvdW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBfZC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGgubWF4KGUsdC5zbG90cy5sZW5ndGgpfSksMCl9fSx7a2V5OiJnZXRSb3RvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsbixyO2lmKG51bGw9PT1DZClmb3IoQ2Q9e30sdD0wO3Q8eGQubGVuZ3RoO3QrPVNkLmxlbmd0aCl7Zm9yKHI9e30sbj0wO248U2QubGVuZ3RoO24rKylyW1NkW25dXT14ZFt0K25dO0NkW3IubmFtZV09cn1yZXR1cm4gQ2RbZV18fG51bGx9fSx7a2V5OiJnZXRSb3RvcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uZ2V0Um90b3IoZSl9KSl9fV0pLG59KHF1KTtmdW5jdGlvbiBFZChlLHQpe3ZhciBuPU10KGUsNCkscj1uWzBdLGk9blsxXSxhPW5bMl0sbz1uWzNdO3I9VGQocixpLGEsbyx0WzBdLDcsMzYxNDA5MDM2MCksbz1UZChvLHIsaSxhLHRbMV0sMTIsMzkwNTQwMjcxMCksYT1UZChhLG8scixpLHRbMl0sMTcsNjA2MTA1ODE5KSxpPVRkKGksYSxvLHIsdFszXSwyMiwzMjUwNDQxOTY2KSxyPVRkKHIsaSxhLG8sdFs0XSw3LDQxMTg1NDgzOTkpLG89VGQobyxyLGksYSx0WzVdLDEyLDEyMDAwODA0MjYpLGE9VGQoYSxvLHIsaSx0WzZdLDE3LDI4MjE3MzU5NTUpLGk9VGQoaSxhLG8scix0WzddLDIyLDQyNDkyNjEzMTMpLHI9VGQocixpLGEsbyx0WzhdLDcsMTc3MDAzNTQxNiksbz1UZChvLHIsaSxhLHRbOV0sMTIsMjMzNjU1Mjg3OSksYT1UZChhLG8scixpLHRbMTBdLDE3LDQyOTQ5MjUyMzMpLGk9VGQoaSxhLG8scix0WzExXSwyMiwyMzA0NTYzMTM0KSxyPVRkKHIsaSxhLG8sdFsxMl0sNywxODA0NjAzNjgyKSxvPVRkKG8scixpLGEsdFsxM10sMTIsNDI1NDYyNjE5NSksYT1UZChhLG8scixpLHRbMTRdLDE3LDI3OTI5NjUwMDYpLHI9TGQocixpPVRkKGksYSxvLHIsdFsxNV0sMjIsMTIzNjUzNTMyOSksYSxvLHRbMV0sNSw0MTI5MTcwNzg2KSxvPUxkKG8scixpLGEsdFs2XSw5LDMyMjU0NjU2NjQpLGE9TGQoYSxvLHIsaSx0WzExXSwxNCw2NDM3MTc3MTMpLGk9TGQoaSxhLG8scix0WzBdLDIwLDM5MjEwNjk5OTQpLHI9TGQocixpLGEsbyx0WzVdLDUsMzU5MzQwODYwNSksbz1MZChvLHIsaSxhLHRbMTBdLDksMzgwMTYwODMpLGE9TGQoYSxvLHIsaSx0WzE1XSwxNCwzNjM0NDg4OTYxKSxpPUxkKGksYSxvLHIsdFs0XSwyMCwzODg5NDI5NDQ4KSxyPUxkKHIsaSxhLG8sdFs5XSw1LDU2ODQ0NjQzOCksbz1MZChvLHIsaSxhLHRbMTRdLDksMzI3NTE2MzYwNiksYT1MZChhLG8scixpLHRbM10sMTQsNDEwNzYwMzMzNSksaT1MZChpLGEsbyxyLHRbOF0sMjAsMTE2MzUzMTUwMSkscj1MZChyLGksYSxvLHRbMTNdLDUsMjg1MDI4NTgyOSksbz1MZChvLHIsaSxhLHRbMl0sOSw0MjQzNTYzNTEyKSxhPUxkKGEsbyxyLGksdFs3XSwxNCwxNzM1MzI4NDczKSxyPVBkKHIsaT1MZChpLGEsbyxyLHRbMTJdLDIwLDIzNjgzNTk1NjIpLGEsbyx0WzVdLDQsNDI5NDU4ODczOCksbz1QZChvLHIsaSxhLHRbOF0sMTEsMjI3MjM5MjgzMyksYT1QZChhLG8scixpLHRbMTFdLDE2LDE4MzkwMzA1NjIpLGk9UGQoaSxhLG8scix0WzE0XSwyMyw0MjU5NjU3NzQwKSxyPVBkKHIsaSxhLG8sdFsxXSw0LDI3NjM5NzUyMzYpLG89UGQobyxyLGksYSx0WzRdLDExLDEyNzI4OTMzNTMpLGE9UGQoYSxvLHIsaSx0WzddLDE2LDQxMzk0Njk2NjQpLGk9UGQoaSxhLG8scix0WzEwXSwyMywzMjAwMjM2NjU2KSxyPVBkKHIsaSxhLG8sdFsxM10sNCw2ODEyNzkxNzQpLG89UGQobyxyLGksYSx0WzBdLDExLDM5MzY0MzAwNzQpLGE9UGQoYSxvLHIsaSx0WzNdLDE2LDM1NzI0NDUzMTcpLGk9UGQoaSxhLG8scix0WzZdLDIzLDc2MDI5MTg5KSxyPVBkKHIsaSxhLG8sdFs5XSw0LDM2NTQ2MDI4MDkpLG89UGQobyxyLGksYSx0WzEyXSwxMSwzODczMTUxNDYxKSxhPVBkKGEsbyxyLGksdFsxNV0sMTYsNTMwNzQyNTIwKSxyPUJkKHIsaT1QZChpLGEsbyxyLHRbMl0sMjMsMzI5OTYyODY0NSksYSxvLHRbMF0sNiw0MDk2MzM2NDUyKSxvPUJkKG8scixpLGEsdFs3XSwxMCwxMTI2ODkxNDE1KSxhPUJkKGEsbyxyLGksdFsxNF0sMTUsMjg3ODYxMjM5MSksaT1CZChpLGEsbyxyLHRbNV0sMjEsNDIzNzUzMzI0MSkscj1CZChyLGksYSxvLHRbMTJdLDYsMTcwMDQ4NTU3MSksbz1CZChvLHIsaSxhLHRbM10sMTAsMjM5OTk4MDY5MCksYT1CZChhLG8scixpLHRbMTBdLDE1LDQyOTM5MTU3NzMpLGk9QmQoaSxhLG8scix0WzFdLDIxLDIyNDAwNDQ0OTcpLHI9QmQocixpLGEsbyx0WzhdLDYsMTg3MzMxMzM1OSksbz1CZChvLHIsaSxhLHRbMTVdLDEwLDQyNjQzNTU1NTIpLGE9QmQoYSxvLHIsaSx0WzZdLDE1LDI3MzQ3Njg5MTYpLGk9QmQoaSxhLG8scix0WzEzXSwyMSwxMzA5MTUxNjQ5KSxyPUJkKHIsaSxhLG8sdFs0XSw2LDQxNDk0NDQyMjYpLG89QmQobyxyLGksYSx0WzExXSwxMCwzMTc0NzU2OTE3KSxhPUJkKGEsbyxyLGksdFsyXSwxNSw3MTg3ODcyNTkpLGk9QmQoaSxhLG8scix0WzldLDIxLDM5NTE0ODE3NDUpLGVbMF09QWQocixlWzBdKSxlWzFdPUFkKGksZVsxXSksZVsyXT1BZChhLGVbMl0pLGVbM109QWQobyxlWzNdKX1mdW5jdGlvbiBBZChlLHQpe3JldHVybiBlK3QmNDI5NDk2NzI5NX1mdW5jdGlvbiBNZChlLHQsbixyLGksYSl7cmV0dXJuIHQ9QWQoQWQodCxlKSxBZChyLGEpKSxBZCh0PDxpfHQ+Pj4zMi1pLG4pfWZ1bmN0aW9uIFRkKGUsdCxuLHIsaSxhLG8pe3JldHVybiBNZCh0Jm58fnQmcixlLHQsaSxhLG8pfWZ1bmN0aW9uIExkKGUsdCxuLHIsaSxhLG8pe3JldHVybiBNZCh0JnJ8biZ+cixlLHQsaSxhLG8pfWZ1bmN0aW9uIFBkKGUsdCxuLHIsaSxhLG8pe3JldHVybiBNZCh0Xm5ecixlLHQsaSxhLG8pfWZ1bmN0aW9uIEJkKGUsdCxuLHIsaSxhLG8pe3JldHVybiBNZChuXih0fH5yKSxlLHQsaSxhLG8pfXZhciBPZD17bmFtZToiaGFzaCIsdGl0bGU6Ikhhc2ggZnVuY3Rpb24iLGNhdGVnb3J5OiJNb2Rlcm4gY3J5cHRvZ3JhcGh5Iix0eXBlOiJlbmNvZGVyIn0sUmQ9W3tuYW1lOiJtZDUiLGxhYmVsOiJNRDUiLGJsb2NrU2l6ZTo2NCxhdmFpbGFibGU6ITB9LHtuYW1lOiJzaGExIixsYWJlbDoiU0hBLTEiLGJsb2NrU2l6ZTo2NCxicm93c2VyQWxnb3JpdGhtOiJTSEEtMSIsYnJvd3NlckV4Y2VwdGlvbnM6WyJpZT0xMSIsImVkZ2UiXSxub2RlQWxnb3JpdGhtOiJzaGExIn0se25hbWU6InNoYTI1NiIsbGFiZWw6IlNIQS0yNTYiLGJsb2NrU2l6ZTo2NCxicm93c2VyQWxnb3JpdGhtOiJTSEEtMjU2Iixub2RlQWxnb3JpdGhtOiJzaGEyNTYifSx7bmFtZToic2hhMzg0IixsYWJlbDoiU0hBLTM4NCIsYmxvY2tTaXplOjEyOCxicm93c2VyQWxnb3JpdGhtOiJTSEEtMzg0Iixub2RlQWxnb3JpdGhtOiJzaGEzODQifSx7bmFtZToic2hhNTEyIixsYWJlbDoiU0hBLTUxMiIsYmxvY2tTaXplOjEyOCxicm93c2VyQWxnb3JpdGhtOiJTSEEtNTEyIixicm93c2VyRXhjZXB0aW9uczpbImllPTExIl0sbm9kZUFsZ29yaXRobToic2hhNTEyIn1dLHpkPWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3ZhciBlO3l0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5zZXRFbmNvZGVPbmx5KCEwKTt2YXIgcj1uLmZpbHRlckF2YWlsYWJsZUFsZ29yaXRobXMoKTtyZXR1cm4gZS5hZGRTZXR0aW5nKHtuYW1lOiJhbGdvcml0aG0iLHR5cGU6ImVudW0iLHZhbHVlOiJzaGEyNTYiLGVsZW1lbnRzOnIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSkpLGxhYmVsczpyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubGFiZWx9KSkscmFuZG9taXphYmxlOiExLHN0eWxlOiJyYWRpbyJ9KSxlfXJldHVybiBidChuLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE9kfX1dKSxidChuLFt7a2V5OiJwZXJmb3JtRW5jb2RlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFNldHRpbmdWYWx1ZSgiYWxnb3JpdGhtIik7cmV0dXJuIHRoaXMuY3JlYXRlRGlnZXN0KHQsZS5nZXRCeXRlcygpKX19LHtrZXk6ImNyZWF0ZURpZ2VzdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9UmQuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWV9KSk7c3dpdGNoKGUpe2Nhc2UibWQ1IjpyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3JldHVybiBlKGZ1bmN0aW9uKGUpe3ZhciB0LG49KGU9QXJyYXkuZnJvbShlKSkubGVuZ3RoO2ZvcihlLnB1c2goMTI4KTtlLmxlbmd0aCU2NCE9NTY7KWUucHVzaCgwKTtmb3IodmFyIHI9MDtyPDg7cisrKTA9PT1yP2UucHVzaCgoMzEmbik8PDMpOih0PTgqci0zLGUucHVzaCh0PDMyP24+PnQmMjU1OjApKTtmb3IodmFyIGk9ZS5sZW5ndGgvNCxhPW5ldyBBcnJheShpKSxvPTA7bzxpO28rKylhW29dPShlWzQqbyszXTw8MjQpKyhlWzQqbysyXTw8MTYpKyhlWzQqbysxXTw8OCkrZVs0Km9dO2Zvcih2YXIgcz1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSxsPTA7bDxpO2wrPTE2KUVkKHMsYS5zbGljZShsLGwrMTYpKTtmb3IodmFyIHU9bmV3IEFycmF5KDE2KSxjPTAsaD0wO2g8MTY7YysrLGgrPTQpdVtoXT0yNTUmc1tjXSx1W2grMV09c1tjXT4+OCYyNTUsdVtoKzJdPXNbY10+PjE2JjI1NSx1W2grM109c1tjXT4+MjQmMjU1O3JldHVybiBuZXcgVWludDhBcnJheSh1KX0odCkpfSkpfWlmKFFoLmlzTm9kZSgpKXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXt2YXIgYT1yLmRlZmF1bHQuY3JlYXRlSGFzaChpLm5vZGVBbGdvcml0aG0pLnVwZGF0ZShnbG9iYWwuQnVmZmVyLmZyb20odCkpLmRpZ2VzdCgpO2UobmV3IFVpbnQ4QXJyYXkoYSkpfSkpO3ZhciBhPXdpbmRvdy5jcnlwdG98fHdpbmRvdy5tc0NyeXB0byxvPShhLnN1YnRsZXx8YS53ZWJraXRTdWJ0bGUpLmRpZ2VzdChpLmJyb3dzZXJBbGdvcml0aG0sdCk7cmV0dXJuIHZvaWQgMCE9PW8ub25jb21wbGV0ZSYmKG89bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7by5vbmNvbXBsZXRlPWUuYmluZChuLG8ucmVzdWx0KSxvLm9uZXJyb3I9dH0pKSksby50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSl9KSl9fV0sW3trZXk6ImZpbHRlckF2YWlsYWJsZUFsZ29yaXRobXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9UWguaXNOb2RlKCk7cmV0dXJuIFJkLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuITA9PT10LmF2YWlsYWJsZXx8KGV8fHZvaWQgMD09PXQuYnJvd3NlckFsZ29yaXRobT8hKCFlfHx2b2lkIDA9PT10Lm5vZGVBbGdvcml0aG0pOnZvaWQgMD09PXQuYnJvd3NlckV4Y2VwdGlvbnN8fCFRaC5tYXRjaC5hcHBseShRaCx0LmJyb3dzZXJFeGNlcHRpb25zKSl9KSl9fSx7a2V5OiJnZXRBbGdvcml0aG1CbG9ja1NpemUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVJkLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lfSkpO3JldHVybiB2b2lkIDAhPT10P3QuYmxvY2tTaXplOm51bGx9fV0pLG59KHF1KSxOZD17bmFtZToiaG1hYyIsdGl0bGU6IkhNQUMiLGNhdGVnb3J5OiJNb2Rlcm4gY3J5cHRvZ3JhcGh5Iix0eXBlOiJlbmNvZGVyIn0sRmQ9ZnVuY3Rpb24oZSl7a3QoaSxlKTt2YXIgdCxuLHI9RXQoaSk7ZnVuY3Rpb24gaSgpe3ZhciBlO3l0KHRoaXMsaSksKGU9ci5jYWxsKHRoaXMpKS5zZXRFbmNvZGVPbmx5KCEwKSxlLl9oYXNoRW5jb2Rlcj1uZXcgemQ7dmFyIHQ9ZS5faGFzaEVuY29kZXIuZ2V0U2V0dGluZygiYWxnb3JpdGhtIik7cmV0dXJuIGUuYWRkU2V0dGluZ3MoW3tuYW1lOiJrZXkiLHR5cGU6ImJ5dGVzIix2YWx1ZTpuZXcgVWludDhBcnJheShbOTksMTE0LDEyMSwxMTIsMTE2LDEwNSwxMDVdKX0se25hbWU6ImFsZ29yaXRobSIsdHlwZToiZW51bSIsdmFsdWU6dC5nZXRWYWx1ZSgpLGVsZW1lbnRzOnQuZ2V0RWxlbWVudHMoKSxsYWJlbHM6dC5nZXRFbGVtZW50TGFiZWxzKCkscmFuZG9taXphYmxlOiExLHN0eWxlOiJyYWRpbyJ9XSksZX1yZXR1cm4gYnQoaSxudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBOZH19XSksYnQoaSxbe2tleToicGVyZm9ybUVuY29kZSIsdmFsdWU6KG49dnQocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIG4scixpLGEsbyxzLGwsdSxjO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYobj10LmdldEJ5dGVzKCkscj10aGlzLmdldFNldHRpbmdWYWx1ZSgiYWxnb3JpdGhtIiksaT16ZC5nZXRBbGdvcml0aG1CbG9ja1NpemUociksISgoYT10aGlzLmdldFNldHRpbmdWYWx1ZSgia2V5IikpLmxlbmd0aD5pKSl7ZS5uZXh0PTg7YnJlYWt9cmV0dXJuIGUubmV4dD03LHRoaXMuY3JlYXRlRGlnZXN0KHIsYSk7Y2FzZSA3OmE9ZS5zZW50O2Nhc2UgODpmb3IoKG89bmV3IFVpbnQ4QXJyYXkoaSkpLnNldChhLDApLChzPW5ldyBVaW50OEFycmF5KGkrbi5sZW5ndGgpKS5zZXQobywwKSxzLnNldChuLGkpLGw9MDtsPGk7bCsrKXNbbF1ePTU0LG9bbF1ePTkyO3JldHVybiBlLm5leHQ9MTYsdGhpcy5jcmVhdGVEaWdlc3QocixzKTtjYXNlIDE2OnJldHVybiB1PWUuc2VudCwoYz1uZXcgVWludDhBcnJheShpK3UubGVuZ3RoKSkuc2V0KG8sMCksYy5zZXQodSxpKSxlLmFicnVwdCgicmV0dXJuIix0aGlzLmNyZWF0ZURpZ2VzdChyLGMpKTtjYXNlIDIxOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImNyZWF0ZURpZ2VzdCIsdmFsdWU6KHQ9dnQocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCxuKXt2YXIgcjtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBudWxsPT09dGhpcy5faGFzaEVuY29kZXImJih0aGlzLl9oYXNoRW5jb2Rlcj1uZXcgemQpLHRoaXMuX2hhc2hFbmNvZGVyLnNldFNldHRpbmdWYWx1ZSgiYWxnb3JpdGhtIix0KSxlLm5leHQ9NCx0aGlzLl9oYXNoRW5jb2Rlci5lbmNvZGUobik7Y2FzZSA0OnJldHVybiByPWUuc2VudCxlLmFicnVwdCgicmV0dXJuIixyLmdldEJ5dGVzKCkpO2Nhc2UgNjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSksaX0ocXUpO19vKCJJbnQ4IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gZSh0aGlzLHQsbixyKX19KSksX28oIkludDE2IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gZSh0aGlzLHQsbixyKX19KSksX28oIkludDMyIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gZSh0aGlzLHQsbixyKX19KSksX28oIlVpbnQxNiIsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIGUodGhpcyx0LG4scil9fSkpO3ZhciBEZD17bmFtZToiaW50ZWdlciIsdGl0bGU6IkludGVnZXIiLGNhdGVnb3J5OiJFbmNvZGluZyIsdHlwZToiZW5jb2RlciJ9LGpkPVsiVTgiLCJJOCIsIlUxNiIsIkkxNiIsIlUzMiIsIkkzMiJdLCRkPVsxLDEsMiwyLDQsNF0scWQ9WyI4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIChVOCkiLCI4LWJpdCBzaWduZWQgaW50ZWdlciAoSTgpIiwiMTYtYml0IHVuc2lnbmVkIGludGVnZXIgKFUxNikiLCIxNi1iaXQgc2lnbmVkIGludGVnZXIgKEkxNikiLCIzMi1iaXQgdW5zaWduZWQgaW50ZWdlciAoVTMyKSIsIjMyLWJpdCBzaWduZWQgaW50ZWdlciAoSTMyKSJdLFVkPWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3ZhciBlO3JldHVybiB5dCh0aGlzLG4pLChlPXQuY2FsbCh0aGlzKSkuYWRkU2V0dGluZ3MoW3tuYW1lOiJmb3JtYXQiLHR5cGU6ImVudW0iLHZhbHVlOiJkZWNpbWFsIixlbGVtZW50czpbImJpbmFyeSIsIm9jdGFsIiwiZGVjaW1hbCIsImhleGFkZWNpbWFsIl0sbGFiZWxzOlsiQmluYXJ5IiwiT2N0YWwiLCJEZWNpbWFsIiwiSGV4YWRlY2ltYWwiXSxyYW5kb21pemFibGU6ITEscHJpb3JpdHk6MzB9LHtuYW1lOiJ0eXBlIix0eXBlOiJlbnVtIix2YWx1ZToiVTgiLGVsZW1lbnRzOmpkLGxhYmVsczpxZCxyYW5kb21pemFibGU6ITEsc3R5bGU6InJhZGlvIixwcmlvcml0eToyMH0se25hbWU6ImJ5dGVPcmRlciIsdHlwZToiZW51bSIsdmFsdWU6ImJpZy1lbmRpYW4iLGVsZW1lbnRzOlsibGl0dGxlLWVuZGlhbiIsImJpZy1lbmRpYW4iXSxsYWJlbHM6WyJMaXR0bGUtZW5kaWFuIiwiQmlnLWVuZGlhbiJdLHJhbmRvbWl6YWJsZTohMSx2aXNpYmxlOiExLHByaW9yaXR5OjEwfV0pLGV9cmV0dXJuIGJ0KG4sbnVsbCxbe2tleToiZ2V0TWV0YSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gRGR9fV0pLGJ0KG4sW3trZXk6InBlcmZvcm1FbmNvZGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJ0eXBlIiksbj1qZC5pbmRleE9mKHQpLHI9JGRbbl0saT0iYmlnLWVuZGlhbiI9PT10aGlzLmdldFNldHRpbmdWYWx1ZSgiYnl0ZU9yZGVyIiksYT1lLmdldFNpemUoKTthJXIhPTAmJihhKz1yLWElcik7dmFyIG89bmV3IFVpbnQ4QXJyYXkoYSk7by5zZXQoZS5nZXRCeXRlcygpKTtmb3IodmFyIHM9dGhpcy5jcmVhdGVJbnRlZ2VyVHlwZUFycmF5KGEvcix0KSxsPTAsdT0wO3U8by5sZW5ndGg7KWk/bD1sPDw4fG9bdV06bHw9b1t1XTw8dSVyKjgsKyt1JXI9PTAmJihzW3Uvci0xXT1sLGw9MCk7dmFyIGM9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImZvcm1hdCIpLGg9W107Zm9yKHU9MDt1PHMubGVuZ3RoO3UrKylzd2l0Y2goYyl7Y2FzZSJiaW5hcnkiOmgucHVzaChzW3VdLnRvU3RyaW5nKDIpKTticmVhaztjYXNlIm9jdGFsIjpoLnB1c2goc1t1XS50b1N0cmluZyg4KSk7YnJlYWs7Y2FzZSJkZWNpbWFsIjpoLnB1c2goc1t1XS50b1N0cmluZygxMCkpO2JyZWFrO2RlZmF1bHQ6aC5wdXNoKHNbdV0udG9TdHJpbmcoMTYpKX1yZXR1cm4gaC5qb2luKCIgIil9fSx7a2V5OiJwZXJmb3JtRGVjb2RlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT10aGlzLmdldFNldHRpbmdWYWx1ZSgidHlwZSIpLGE9amQuaW5kZXhPZihpKSxvPSRkW2FdLHM9ImJpZy1lbmRpYW4iPT09dGhpcy5nZXRTZXR0aW5nVmFsdWUoImJ5dGVPcmRlciIpLGw9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImZvcm1hdCIpLHU9ZS5nZXRTdHJpbmcoKS5zcGxpdCgvXHMrLyksYz10aGlzLmNyZWF0ZUludGVnZXJUeXBlQXJyYXkodS5sZW5ndGgsaSk7Zm9yKHQ9MDt0PHUubGVuZ3RoO3QrKyl7c3dpdGNoKCIiPT09KHI9dVt0XSkmJihyPSIwIiksbCl7Y2FzZSJiaW5hcnkiOm49cGFyc2VJbnQociwyKTticmVhaztjYXNlIm9jdGFsIjpuPXBhcnNlSW50KHIsOCk7YnJlYWs7Y2FzZSJkZWNpbWFsIjpuPXBhcnNlSW50KHIsMTApO2JyZWFrO2RlZmF1bHQ6bj1wYXJzZUludChyLDE2KX1pZihpc05hTihuKSl0aHJvdyBuZXcgUmwoIkludmFsaWQgaW50ZWdlciAnIi5jb25jYXQociwiJyBhdCBpbmRleCAiKS5jb25jYXQodCkpO2NbdF09bn12YXIgaCxkPW5ldyBVaW50OEFycmF5KGMubGVuZ3RoKm8pO2Zvcih0PTA7dDxkLmxlbmd0aDt0Kyspbj1jW3BhcnNlSW50KHQvbyldLGg9cz9vLXQlby0xOnQlbyxkW3RdPW4+PjgqaCYyNTU7cmV0dXJuIGR9fSx7a2V5OiJjcmVhdGVJbnRlZ2VyVHlwZUFycmF5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3N3aXRjaCh0KXtjYXNlIkk4IjpyZXR1cm4gbmV3IEludDhBcnJheShlKTtjYXNlIlU4IjpyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSk7Y2FzZSJJMTYiOnJldHVybiBuZXcgSW50MTZBcnJheShlKTtjYXNlIlUxNiI6cmV0dXJuIG5ldyBVaW50MTZBcnJheShlKTtjYXNlIkkzMiI6cmV0dXJuIG5ldyBJbnQzMkFycmF5KGUpO2RlZmF1bHQ6cmV0dXJuIG5ldyBVaW50MzJBcnJheShlKX19fSx7a2V5OiJzZXR0aW5nVmFsdWVEaWRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUuZ2V0TmFtZSgpKXtjYXNlInR5cGUiOnZhciBuPWpkLmluZGV4T2YodGhpcy5nZXRTZXR0aW5nVmFsdWUoInR5cGUiKSk7dGhpcy5nZXRTZXR0aW5nKCJieXRlT3JkZXIiKS5zZXRWaXNpYmxlKCRkW25dPjEpfX19XSksbn0ocXUpO09lKHt0YXJnZXQ6IlN0cmluZyIscHJvdG86ITB9LHtyZXBlYXQ6bGx9KTt2YXIgV2Q9e25hbWU6Im1vcnNlLWNvZGUiLHRpdGxlOiJNb3JzZSBjb2RlIixjYXRlZ29yeToiQWxwaGFiZXRzIix0eXBlOiJlbmNvZGVyIn0sR2Q9ImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS4sPychLygpJjo7PSstX1wiJEAiLEhkPVsiLi0iLCItLi4uIiwiLS4tLiIsIi0uLiIsIi4iLCIuLi0uIiwiLS0uIiwiLi4uLiIsIi4uIiwiLi0tLSIsIi0uLSIsIi4tLi4iLCItLSIsIi0uIiwiLS0tIiwiLi0tLiIsIi0tLi0iLCIuLS4iLCIuLi4iLCItIiwiLi4tIiwiLi4uLSIsIi4tLSIsIi0uLi0iLCItLi0tIiwiLS0uLiIsIi0tLS0tIiwiLi0tLS0iLCIuLi0tLSIsIi4uLi0tIiwiLi4uLi0iLCIuLi4uLiIsIi0uLi4uIiwiLS0uLi4iLCItLS0uLiIsIi0tLS0uIiwiLi0uLS4tIiwiLS0uLi0tIiwiLi4tLS4uIiwiLi0tLS0uIiwiLS4tLi0tIiwiLS4uLS4iLCItLi0tLiIsIi0uLS0uLSIsIi4tLi4uIiwiLS0tLi4uIiwiLS4tLi0uIiwiLS4uLi0iLCIuLS4tLiIsIi0uLi4uLSIsIi4uLS0uLSIsIi4tLi4tLiIsIi4uLl8uLl8iLCIuLS0uLS4iXSxLZD1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLmFkZFNldHRpbmdzKFt7bmFtZToidmFyaWFudCIsdHlwZToiZW51bSIsdmFsdWU6ImVuZ2xpc2giLGVsZW1lbnRzOlsiZW5nbGlzaCJdLGxhYmVsczpbIkVuZ2xpc2giXSxyYW5kb21pemFibGU6ITF9LHtuYW1lOiJyZXByZXNlbnRhdGlvbiIsdHlwZToiZW51bSIsdmFsdWU6ImNvZGUiLGVsZW1lbnRzOlsiY29kZSIsInRpbWluZyJdLGxhYmVsczpbIkNvZGUiLCJUaW1pbmciXSxyYW5kb21pemFibGU6ITF9LHtuYW1lOiJzaG9ydE1hcmsiLGxhYmVsOiJTaG9ydCIsdHlwZToidGV4dCIsd2lkdGg6NCx2YWx1ZToiLiIsbWluTGVuZ3RoOjEscmFuZG9taXphYmxlOiExLHZhbGlkYXRlVmFsdWU6ZS52YWxpZGF0ZUNvZGVNYXJrU2V0dGluZ1ZhbHVlLmJpbmQoQ3QoZSkpfSx7bmFtZToibG9uZ2VyTWFyayIsbGFiZWw6IkxvbmciLHR5cGU6InRleHQiLHdpZHRoOjQsdmFsdWU6Ii0iLG1pbkxlbmd0aDoxLHJhbmRvbWl6YWJsZTohMSx2YWxpZGF0ZVZhbHVlOmUudmFsaWRhdGVDb2RlTWFya1NldHRpbmdWYWx1ZS5iaW5kKEN0KGUpKX0se25hbWU6InNwYWNlTWFyayIsbGFiZWw6IlNwYWNlIix0eXBlOiJ0ZXh0Iix3aWR0aDo0LHZhbHVlOiIvIixtaW5MZW5ndGg6MSxyYW5kb21pemFibGU6ITEsdmFsaWRhdGVWYWx1ZTplLnZhbGlkYXRlQ29kZU1hcmtTZXR0aW5nVmFsdWUuYmluZChDdChlKSl9LHtuYW1lOiJzaWduYWxPbk1hcmsiLGxhYmVsOiJTaWduYWwgT24iLHR5cGU6InRleHQiLHdpZHRoOjYsdmlzaWJsZTohMSx2YWx1ZToiPSIsbWluTGVuZ3RoOjEscmFuZG9taXphYmxlOiExLHZhbGlkYXRlVmFsdWU6ZS52YWxpZGF0ZVRpbWluZ01hcmtTZXR0aW5nVmFsdWUuYmluZChDdChlKSl9LHtuYW1lOiJzaWduYWxPZmZNYXJrIixsYWJlbDoiU2lnbmFsIE9mZiIsdHlwZToidGV4dCIsd2lkdGg6Nix2aXNpYmxlOiExLHZhbHVlOiIuIixtaW5MZW5ndGg6MSxyYW5kb21pemFibGU6ITEsdmFsaWRhdGVWYWx1ZTplLnZhbGlkYXRlVGltaW5nTWFya1NldHRpbmdWYWx1ZS5iaW5kKEN0KGUpKX1dKSxlfXJldHVybiBidChuLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIFdkfX1dKSxidChuLFt7a2V5OiJwZXJmb3JtRW5jb2RlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFNldHRpbmdWYWx1ZSgicmVwcmVzZW50YXRpb24iKSxyPSIuIixpPSItIixhPSIvIjsiY29kZSI9PT10JiYocj10aGlzLmdldFNldHRpbmdWYWx1ZSgic2hvcnRNYXJrIikuZ2V0U3RyaW5nKCksaT10aGlzLmdldFNldHRpbmdWYWx1ZSgibG9uZ2VyTWFyayIpLmdldFN0cmluZygpLGE9dGhpcy5nZXRTZXR0aW5nVmFsdWUoInNwYWNlTWFyayIpLmdldFN0cmluZygpKTt2YXIgbz1lLnRvTG93ZXJDYXNlKCkuZ2V0Q2hhcnMoKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PW4uZW5jb2RlQ2hhcmFjdGVyKGUscixpLGEpO2lmKG51bGw9PT10KXRocm93IG5ldyBSbCgiQ2hhciAnIi5jb25jYXQoZSwiJyBpcyBub3QgZGVmaW5lZCBpbiBtb3JzZSBjb2RlIikpO3JldHVybiB0fSkpLmpvaW4oIiAiKTtpZigidGltaW5nIj09PXQpe3ZhciBzPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJzaWduYWxPbk1hcmsiKS5nZXRTdHJpbmcoKSxsPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJzaWduYWxPZmZNYXJrIikuZ2V0U3RyaW5nKCk7bz1vLnNwbGl0KCIiKS5tYXAoKGZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIi4iOnJldHVybiBzO2Nhc2UiLSI6cmV0dXJuIHMucmVwZWF0KDMpO2RlZmF1bHQ6cmV0dXJuIGx9fSkpLmpvaW4obCl9cmV0dXJuIG99fSx7a2V5OiJwZXJmb3JtRGVjb2RlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFNldHRpbmdWYWx1ZSgicmVwcmVzZW50YXRpb24iKSxyPWUuZ2V0U3RyaW5nKCksaT0iLiIsYT0iLSIsbz0iLyI7aWYoImNvZGUiPT09dCYmKGk9dGhpcy5nZXRTZXR0aW5nVmFsdWUoInNob3J0TWFyayIpLmdldFN0cmluZygpLGE9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImxvbmdlck1hcmsiKS5nZXRTdHJpbmcoKSxvPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJzcGFjZU1hcmsiKS5nZXRTdHJpbmcoKSksInRpbWluZyI9PT10KXt2YXIgcz1bdGhpcy5nZXRTZXR0aW5nVmFsdWUoInNpZ25hbE9uTWFyayIpLmdldFN0cmluZygpLHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJzaWduYWxPZmZNYXJrIikuZ2V0U3RyaW5nKCldO3I9KHI9bi50cmFuc2xhdGVNYXJrcyhyLHMsWyI9IiwiLiJdKSkucmVwbGFjZSgvPT09L2csIi0iKS5yZXBsYWNlKC9cLns3fS9nLCIgLyAiKS5yZXBsYWNlKC9cLnszfS9nLCIgIikucmVwbGFjZSgvXC4vZywiIikucmVwbGFjZSgvPS9nLCIuIil9cmV0dXJuIHI9ci5zcGxpdCgiICIpLm1hcCgoZnVuY3Rpb24oZSl7aWYoIiI9PT1lKXJldHVybiBudWxsO3ZhciB0PW4uZGVjb2RlQ29kZShlLGksYSxvKTtpZihudWxsPT09dCl0aHJvdyBuZXcgUmwoIkNvZGUgJyIuY29uY2F0KGUsIicgaXMgbm90IGRlZmluZWQgaW4gbW9yc2UgY29kZSIpKTtyZXR1cm4gdH0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09ZX0pKS5qb2luKCIiKX19LHtrZXk6InZhbGlkYXRlQ29kZU1hcmtTZXR0aW5nVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXQuZmlsdGVyVmFsdWUoZSk7cmV0dXJuIG51bGwhPT1yLm1hdGNoKC9ccy8pP3trZXk6Im1vcnNlQ29kZU1hcmtXaGl0ZXNwYWNlTm90QWxsb3dlZCIsbWVzc2FnZToiV2hpdGVzcGFjZXMgYXJlIG5vdCBhbGxvd2VkIGluc2lkZSBtb3JzZSBjb2RlIG1hcmtzIn06dm9pZCAwPT09WyJzaG9ydE1hcmsiLCJsb25nZXJNYXJrIiwic3BhY2VNYXJrIl0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXQuZ2V0TmFtZSgpfSkpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiByLmlzRXF1YWxUbyhuLmdldFNldHRpbmdWYWx1ZShlKSl9KSl8fHtrZXk6Im1vcnNlQ29kZU1hcmtOb3RVbmlxdWUiLG1lc3NhZ2U6Ik1vcnNlIGNvZGUgbWFya3MgbmVlZCB0byBiZSBkaWZmZXJlbnQgZnJvbSBlYWNoIG90aGVyIn19fSx7a2V5OiJ2YWxpZGF0ZVRpbWluZ01hcmtTZXR0aW5nVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXQuZmlsdGVyVmFsdWUoZSk7cmV0dXJuIHZvaWQgMD09PVsic2lnbmFsT25NYXJrIiwic2lnbmFsT2ZmTWFyayJdLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10LmdldE5hbWUoKX0pKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gMD09PXIuaW5kZXhPZihuLmdldFNldHRpbmdWYWx1ZShlKSl9KSl8fHtrZXk6Im1vcnNlQ29kZU1hcmtOb3RVbmlxdWUiLG1lc3NhZ2U6IlRpbWluZyBtYXJrcyBuZWVkIHRvIGJlIGRpZmZlcmVudCBmcm9tIGVhY2ggb3RoZXIifX19LHtrZXk6InNldHRpbmdWYWx1ZURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3N3aXRjaChlLmdldE5hbWUoKSl7Y2FzZSJzaG9ydE1hcmsiOmNhc2UibG9uZ2VyTWFyayI6Y2FzZSJzcGFjZU1hcmsiOlsic2hvcnRNYXJrIiwibG9uZ2VyTWFyayIsInNwYWNlTWFyayJdLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1lLmdldE5hbWUoKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbi5nZXRTZXR0aW5nKGUpLnJldmFsaWRhdGVWYWx1ZSgpfSkpO2JyZWFrO2Nhc2Uic2lnbmFsT25NYXJrIjpjYXNlInNpZ25hbE9mZk1hcmsiOlsic2lnbmFsT25NYXJrIiwic2lnbmFsT2ZmTWFyayJdLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1lLmdldE5hbWUoKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbi5nZXRTZXR0aW5nKGUpLnJldmFsaWRhdGVWYWx1ZSgpfSkpO2JyZWFrO2Nhc2UicmVwcmVzZW50YXRpb24iOnRoaXMuZ2V0U2V0dGluZygic2hvcnRNYXJrIikuc2V0VmlzaWJsZSgiY29kZSI9PT10KSx0aGlzLmdldFNldHRpbmcoImxvbmdlck1hcmsiKS5zZXRWaXNpYmxlKCJjb2RlIj09PXQpLHRoaXMuZ2V0U2V0dGluZygic3BhY2VNYXJrIikuc2V0VmlzaWJsZSgiY29kZSI9PT10KSx0aGlzLmdldFNldHRpbmcoInNpZ25hbE9uTWFyayIpLnNldFZpc2libGUoInRpbWluZyI9PT10KSx0aGlzLmdldFNldHRpbmcoInNpZ25hbE9mZk1hcmsiKS5zZXRWaXNpYmxlKCJ0aW1pbmciPT09dCl9fX1dLFt7a2V5OiJlbmNvZGVDaGFyYWN0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLGkpe2lmKEJsLmlzV2hpdGVzcGFjZShlKSlyZXR1cm4gaTt2YXIgYT1HZC5pbmRleE9mKGUpO2lmKC0xPT09YSlyZXR1cm4gbnVsbDt2YXIgbz1IZFthXTtyZXR1cm4gbi50cmFuc2xhdGVNYXJrcyhvLFsiLiIsIi0iXSxbdCxyXSl9fSx7a2V5OiJkZWNvZGVDb2RlIix2YWx1ZTpmdW5jdGlvbihlLHQscixpKXtpZihlPT09aSlyZXR1cm4iICI7dmFyIGE9bi50cmFuc2xhdGVNYXJrcyhlLFt0LHJdLFsiLiIsIi0iXSksbz1IZC5pbmRleE9mKGEpO3JldHVybi0xIT09bz9HZFtvXTpudWxsfX0se2tleToidHJhbnNsYXRlTWFya3MiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsaSxhLG89IiIscz0tMTsrK3M8ZS5sZW5ndGg7KWZvcihhPSExLHI9LTE7IWEmJisrcjx0Lmxlbmd0aDspaT10W3JdLChhPWUuc3Vic3RyKHMsaS5sZW5ndGgpPT09aSkmJihvKz1uW3JdLHMrPWkubGVuZ3RoLTEpO3JldHVybiBvfX1dKSxufShxdSksWGQ9e25hbWU6Im5paGlsaXN0LWNpcGhlciIsdGl0bGU6Ik5paGlsaXN0IGNpcGhlciIsY2F0ZWdvcnk6IlBvbHliaXVzIHNxdWFyZSBjaXBoZXJzIix0eXBlOiJlbmNvZGVyIn0sWmQ9ImFiY2RlZmdoaWtsbW5vcHFyc3R1dnd4eXoiLFlkPWZ1bmN0aW9uKGUpe2t0KGksZSk7dmFyIHQsbixyPUV0KGkpO2Z1bmN0aW9uIGkoKXt2YXIgZTtyZXR1cm4geXQodGhpcyxpKSwoZT1yLmNhbGwodGhpcykpLmFkZFNldHRpbmdzKFt7bmFtZToiYWxwaGFiZXQiLHR5cGU6InRleHQiLHZhbHVlOlpkLHVuaXF1ZUNoYXJzOiEwLG1pbkxlbmd0aDowLG1heExlbmd0aDoyNSxjYXNlU2Vuc2l0aXZpdHk6ITF9LHtuYW1lOiJrZXkiLHR5cGU6InRleHQiLHZhbHVlOiJjcnlwdGlpIix3aGl0ZWxpc3RDaGFyczpaZCxtaW5MZW5ndGg6MixjYXNlU2Vuc2l0aXZpdHk6ITF9LHtuYW1lOiJzZXBhcmF0b3IiLHR5cGU6InRleHQiLHZhbHVlOiIgIixyYW5kb21pemFibGU6ITEsYmxhY2tsaXN0Q2hhcnM6IjAxMjM0NTY3ODkiLG1pbkxlbmd0aDoxLGNhc2VTZW5zaXRpdml0eTohMX1dKSxlLl9wb2x5Yml1c1NxdWFyZT1uZXcgS3UsZS5fcG9seWJpdXNTcXVhcmUuc2V0U2V0dGluZ1ZhbHVlcyh7YWxwaGFiZXQ6WmQscm93czoiMTIzNDUiLGNvbHVtbnM6IjEyMzQ1IixzZXBhcmF0b3I6IiIsY2FzZVNlbnNpdGl2aXR5OiExLGluY2x1ZGVGb3JlaWduQ2hhcnM6ITF9KSxlfXJldHVybiBidChpLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIFhkfX1dKSxidChpLFt7a2V5OiJwZXJmb3JtRW5jb2RlIix2YWx1ZToobj12dChyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGksYSxvLHMsbCx1LGMsaCxkO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIG49dGhpcy5nZXRTZXR0aW5nVmFsdWUoImtleSIpLHI9dGhpcy5nZXRTZXR0aW5nVmFsdWUoInNlcGFyYXRvciIpLGUubmV4dD00LHRoaXMuX3BvbHliaXVzU3F1YXJlLmVuY29kZSh0LmdldFN0cmluZygpLnJlcGxhY2UoL2ovZ2ksImkiKSk7Y2FzZSA0OnJldHVybiBpPWUuc2VudCxlLm5leHQ9Nyx0aGlzLl9wb2x5Yml1c1NxdWFyZS5lbmNvZGUobik7Y2FzZSA3OmZvcihhPWUuc2VudCxvPWkuZ2V0TGVuZ3RoKCkvMixzPW4uZ2V0TGVuZ3RoKCksbD1uZXcgQXJyYXkobyksZD0wO2Q8bztkKyspdT1wYXJzZUludChpLmdldENoYXJBdCgyKmQpK2kuZ2V0Q2hhckF0KDIqZCsxKSksYz0yKiR1Lm1vZChkLHMpLGg9cGFyc2VJbnQoYS5nZXRDaGFyQXQoYykrYS5nZXRDaGFyQXQoYysxKSksbFtkXT11K2g7cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHFsLmpvaW4obCxyKSk7Y2FzZSAxMzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJwZXJmb3JtRGVjb2RlIix2YWx1ZToodD12dChyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGksYSxvLHMsbCx1LGMsaCxkLGY7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gbj10aGlzLmdldFNldHRpbmdWYWx1ZSgia2V5Iikscj10aGlzLmdldFNldHRpbmdWYWx1ZSgic2VwYXJhdG9yIiksaT10LmdldFN0cmluZygpLnNwbGl0KHIpLGE9aS5sZW5ndGgsbz1uLmdldExlbmd0aCgpLGUubmV4dD03LHRoaXMuX3BvbHliaXVzU3F1YXJlLmVuY29kZShuKTtjYXNlIDc6cz1lLnNlbnQsZD0iIixmPTA7Y2FzZSAxMDppZighKGY8YSkpe2UubmV4dD0yMzticmVha31pZihsPXBhcnNlSW50KGlbZl0pLCFpc05hTihsKSl7ZS5uZXh0PTE0O2JyZWFrfXRocm93IG5ldyBSbCgiQmxvY2sgYXQgaW5kZXggIi5jb25jYXQoZisxLCIgaXMgbm90IGEgbnVtYmVyLiIpKTtjYXNlIDE0OmlmKGM9MiokdS5tb2QoZixvKSxoPXBhcnNlSW50KHMuZ2V0Q2hhckF0KGMpK3MuZ2V0Q2hhckF0KGMrMSkpLCh1PWwtaCkudG9TdHJpbmcoKS5tYXRjaCgvXlsxLTVdezJ9JC8pKXtlLm5leHQ9MTk7YnJlYWt9dGhyb3cgbmV3IFJsKCJCbG9jayBhdCBpbmRleCAiLmNvbmNhdChmKzEsIiByZXN1bHRzIGluIGludmFsaWQgIikrIlBvbHliaXVzIHNxdWFyZSBjb29yZGluYXRlcyAnIi5jb25jYXQodSwiJy4iKSk7Y2FzZSAxOTpkKz11LnRvU3RyaW5nKCk7Y2FzZSAyMDpmKyssZS5uZXh0PTEwO2JyZWFrO2Nhc2UgMjM6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHRoaXMuX3BvbHliaXVzU3F1YXJlLmRlY29kZShkKSk7Y2FzZSAyNDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJzZXR0aW5nVmFsdWVEaWRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUuZ2V0TmFtZSgpKXtjYXNlImFscGhhYmV0Ijp2YXIgbj10LmV4dGVuZChaZCk7dGhpcy5fcG9seWJpdXNTcXVhcmUuc2V0U2V0dGluZ1ZhbHVlKCJhbHBoYWJldCIsbiksdGhpcy5nZXRTZXR0aW5nKCJrZXkiKS5zZXRXaGl0ZWxpc3RDaGFycyhuKX19fV0pLGl9KHF1KSxKZD1NYXRoLmZsb29yLFFkPWZ1bmN0aW9uKGUpe3JldHVybiF3KGUpJiZpc0Zpbml0ZShlKSYmSmQoZSk9PT1lfTtPZSh7dGFyZ2V0OiJOdW1iZXIiLHN0YXQ6ITB9LHtpc0ludGVnZXI6UWR9KTt2YXIgZWY9TWF0aC5hYnM7T2Uoe3RhcmdldDoiTnVtYmVyIixzdGF0OiEwfSx7aXNTYWZlSW50ZWdlcjpmdW5jdGlvbihlKXtyZXR1cm4gUWQoZSkmJmVmKGUpPD05MDA3MTk5MjU0NzQwOTkxfX0pO3ZhciB0Zj17bmFtZToibnVtZXJhbC1zeXN0ZW0iLHRpdGxlOiJOdW1lcmFsIHN5c3RlbSIsY2F0ZWdvcnk6IlRyYW5zZm9ybSIsdHlwZToiZW5jb2RlciJ9LG5mPVsiYmluYXJ5Iiwib2N0YWwiLCJkZWNpbWFsIiwiaGV4YWRlY2ltYWwiLCJyb21hbi1udW1lcmFscyJdLHJmPVsiQmluYXJ5ICgyKSIsIk9jdGFsICg4KSIsIkRlY2ltYWwgKDEwKSIsIkhleGFkZWNpbWFsICgxNikiLCJSb21hbiBudW1lcmFscyJdLGFmPVsvKFswMV0rKS9nLC8oWzAtN10rKS9nLC8oXGQrKS9nLC8oWzAtOWEtZl0rKS9naSwvKFtJVlhMQ0RNXSspL2dpXSxvZj1bIk0iLCJDTSIsIkQiLCJDRCIsIkMiLCJYQyIsIkwiLCJYTCIsIlgiLCJJWCIsIlYiLCJJViIsIkkiXSxzZj1bMWUzLDkwMCw1MDAsNDAwLDEwMCw5MCw1MCw0MCwxMCw5LDUsNCwxXSxsZj1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLmFkZFNldHRpbmdzKFt7bmFtZToiZnJvbSIsbGFiZWw6IlJlYWQiLHR5cGU6ImVudW0iLHZhbHVlOiJkZWNpbWFsIixlbGVtZW50czpuZixsYWJlbHM6cmYscmFuZG9taXphYmxlOiExLHN0eWxlOiJyYWRpbyJ9LHtuYW1lOiJ0byIsbGFiZWw6IkNvbnZlcnQgdG8iLHR5cGU6ImVudW0iLHZhbHVlOiJoZXhhZGVjaW1hbCIsZWxlbWVudHM6bmYsbGFiZWxzOnJmLHJhbmRvbWl6YWJsZTohMSxzdHlsZToicmFkaW8ifV0pLGV9cmV0dXJuIGJ0KG4sbnVsbCxbe2tleToiZ2V0TWV0YSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGZ9fV0pLGJ0KG4sW3trZXk6InBlcmZvcm1UcmFuc2xhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS50b1N0cmluZygpLGk9dGhpcy5nZXRTZXR0aW5nVmFsdWUodD8iZnJvbSI6InRvIiksYT10aGlzLmdldFNldHRpbmdWYWx1ZSh0PyJ0byI6ImZyb20iKSxvPWFmW25mLmluZGV4T2YoaSldO3JldHVybiByLnJlcGxhY2UobywoZnVuY3Rpb24oZSx0LG8pe2lmKCEoKDA9PT1vfHxCbC5pc1doaXRlc3BhY2UocixvLTEpKSYmKHIubGVuZ3RoPT09byt0Lmxlbmd0aHx8QmwuaXNXaGl0ZXNwYWNlKHIsbyt0Lmxlbmd0aCkpKSlyZXR1cm4gdDt2YXIgcz1uLmRlY29kZU51bWJlcihpLHQpO3JldHVybihudWxsIT09cz9uLmVuY29kZU51bWJlcihhLHMpOm51bGwpfHx0fSkpfX1dLFt7a2V5OiJkZWNvZGVOdW1iZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBCaWdJbnQpc3dpdGNoKGUpe2Nhc2UiYmluYXJ5IjpyZXR1cm4gQmlnSW50KCIwYiIuY29uY2F0KHQpKTtjYXNlIm9jdGFsIjpyZXR1cm4gQmlnSW50KCIwbyIuY29uY2F0KHQpKTtjYXNlImRlY2ltYWwiOnJldHVybiBCaWdJbnQodCk7Y2FzZSJoZXhhZGVjaW1hbCI6cmV0dXJuIEJpZ0ludCgiMHgiLmNvbmNhdCh0KSl9dmFyIHI9bnVsbDtzd2l0Y2goZSl7Y2FzZSJiaW5hcnkiOnI9cGFyc2VJbnQodCwyKTticmVhaztjYXNlIm9jdGFsIjpyPXBhcnNlSW50KHQsOCk7YnJlYWs7Y2FzZSJkZWNpbWFsIjpyPXBhcnNlSW50KHQsMTApO2JyZWFrO2Nhc2UiaGV4YWRlY2ltYWwiOnI9cGFyc2VJbnQodCwxNik7YnJlYWs7Y2FzZSJyb21hbi1udW1lcmFscyI6cj1uLnJvbWFuTnVtZXJhbHNUb0RlY2ltYWwodCl9aWYobnVsbD09PXJ8fGlzTmFOKHIpKXJldHVybiBudWxsO2lmKCFuLmlzU2FmZUludGVnZXIocikpdGhyb3cgbmV3IFJsKCJDYW4ndCByZWFkICciLmNvbmNhdCh0LCInIGJlY2F1c2UgdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3QgIikrInN1cHBvcnQgYXJiaXRyYXJpbHkgbGFyZ2UgaW50ZWdlcnMuIik7cmV0dXJuIHJ9fSx7a2V5OiJlbmNvZGVOdW1iZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2UiYmluYXJ5IjpyZXR1cm4gdC50b1N0cmluZygyKTtjYXNlIm9jdGFsIjpyZXR1cm4gdC50b1N0cmluZyg4KTtjYXNlImRlY2ltYWwiOnJldHVybiB0LnRvU3RyaW5nKDEwKTtjYXNlImhleGFkZWNpbWFsIjpyZXR1cm4gdC50b1N0cmluZygxNik7Y2FzZSJyb21hbi1udW1lcmFscyI6cmV0dXJuIG4uZGVjaW1hbFRvUm9tYW5OdW1lcmFscyh0KTtkZWZhdWx0OnJldHVybiBudWxsfX19LHtrZXk6ImlzU2FmZUludGVnZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PU51bWJlci5pc1NhZmVJbnRlZ2VyKXt2YXIgdD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUnx8OTAwNzE5OTI1NDc0MDk5MTtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihlKSYmTWF0aC5hYnMoZSk8PXR9cmV0dXJuIE51bWJlci5pc1NhZmVJbnRlZ2VyKGUpfX0se2tleToiZGVjaW1hbFRvUm9tYW5OdW1lcmFscyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZTw9MHx8ZT49NGUzKXJldHVybiBudWxsO2Zvcih2YXIgdCxuPU51bWJlcihlKSxyPSIiO24+MDspdD1zZi5maW5kSW5kZXgoKGZ1bmN0aW9uKGUpe3JldHVybiBuPj1lfSkpLHIrPW9mW3RdLG4tPXNmW3RdO3JldHVybiByfX0se2tleToicm9tYW5OdW1lcmFsc1RvRGVjaW1hbCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZT1lLnRvU3RyaW5nKCkudG9VcHBlckNhc2UoKTtmb3IodmFyIHQsbj0wLHI9MCxpPSExLGE9MDshaSYmbjxlLmxlbmd0aDspLTEhPT0odD1vZi5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnN1YnN0cihuLHQubGVuZ3RoKT09PXR9KSkpJiZ0Pj1hPyhyKz1zZlt0XSxuKz1vZlt0XS5sZW5ndGgsYT10KTppPSEwO3JldHVybiBpP251bGw6cn19XSksbn0ocXUpLHVmPTE2LGNmPTEzLGhmPWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbigpe3ZhciBlO3JldHVybiB5dCh0aGlzLG4pLChlPXQuY2FsbCh0aGlzKSkuX3RhcGU9W10sZS5fcm93cz04LGUuXyRjYW52YXM9bnVsbCxlLl8kdGFwZXM9bnVsbCxlLl8kbWFya3M9bnVsbCxlLl8kaG9sZXM9bnVsbCxlfXJldHVybiBidChuLFt7a2V5OiJzZXRUYXBlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl90YXBlPWUsdGhpcy5fcm93cz10LHRoaXMuc2V0TmVlZHNVcGRhdGUoKX19LHtrZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1BdCh3dChuLnByb3RvdHlwZSksInJlbmRlciIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gZS5jbGFzc0xpc3QuYWRkKCJ2aWV3ZXItcGFwZXItdGFwZSIpLGV9fSx7a2V5OiJyZW5kZXJDb250ZW50Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuXyR0YXBlcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwicGF0aCIpLHRoaXMuXyR0YXBlcy5jbGFzc0xpc3QuYWRkKCJ2aWV3ZXItcHVuY2hlZC10YXBlX190YXBlIiksdGhpcy5fJG1hcmtzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJwYXRoIiksdGhpcy5fJG1hcmtzLmNsYXNzTGlzdC5hZGQoInZpZXdlci1wdW5jaGVkLXRhcGVfX21hcmsiKSx0aGlzLl8kaG9sZXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInBhdGgiKSx0aGlzLl8kaG9sZXMuY2xhc3NMaXN0LmFkZCgidmlld2VyLXB1bmNoZWQtdGFwZV9faG9sZSIpLHRoaXMuXyRjYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInN2ZyIpLHRoaXMuXyRjYW52YXMuY2xhc3NMaXN0LmFkZCgidmlld2VyLXB1bmNoZWQtdGFwZV9fY2FudmFzIiksdGhpcy5fJGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLl8kdGFwZXMpLHRoaXMuXyRjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5fJG1hcmtzKSx0aGlzLl8kY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuXyRob2xlcyksdGhpcy5zZXROZWVkc1VwZGF0ZSgpO3ZhciBlPUF0KHd0KG4ucHJvdG90eXBlKSwicmVuZGVyQ29udGVudCIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gZS5hcHBlbmRDaGlsZCh0aGlzLl8kY2FudmFzKSxlfX0se2tleToibGF5b3V0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldE5lZWRzVXBkYXRlKCksQXQod3Qobi5wcm90b3R5cGUpLCJsYXlvdXQiLHRoaXMpLmNhbGwodGhpcyl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdGFwZSx0PXRoaXMuX3RhcGUubGVuZ3RoLG49dGhpcy5fcm93cyxyPU1hdGguZmxvb3IoKG4tMSkvMik7bisrO3ZhciBpLGEsbyxzLGwsdT0xLjUsYz10aGlzLl8kY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLTMyLGg9TWF0aC5mbG9vcigoYy0yMikvY2YpKzEsZD0oYy0oaC0xKSpjZikvMixmPU1hdGguY2VpbCh0L2gpLGc9Y2YqKG4tMSkrMjIscD1nKzE2LHY9ZiooZyt1ZikrdWYsbT1bXSxiPVtdO2ZvcihzPTA7czx0O3MrKyl7Zm9yKGk9ZVtzXSxhPXVmK2QrcyVoKmNmLG89MjcrTWF0aC5mbG9vcihzL2gpKnAsbD0wO2w8bjtsKyspbD09PXI/KGIucHVzaCgiTSAiLmNvbmNhdChhLXUsIiAiKS5jb25jYXQobytsKmNmKSksYi5wdXNoKCJhICIuY29uY2F0KHUsIiwiKS5jb25jYXQodSwiIDAgMSwwICIpLmNvbmNhdCgzLCIsMCIpKSxiLnB1c2goImEgIi5jb25jYXQodSwiLCIpLmNvbmNhdCh1LCIgMCAxLDAgIikuY29uY2F0KC0zLCIsMCIpKSk6KDAhPSgxJmkpJiYoYi5wdXNoKCJNICIuY29uY2F0KGEtMywiICIpLmNvbmNhdChvK2wqY2YpKSxiLnB1c2goImEgIi5jb25jYXQoMywiLCIpLmNvbmNhdCgzLCIgMCAxLDAgIikuY29uY2F0KDYsIiwwIikpLGIucHVzaCgiYSAiLmNvbmNhdCgzLCIsIikuY29uY2F0KDMsIiAwIDEsMCAiKS5jb25jYXQoLTYsIiwwIikpKSxpPj49MSk7cyVuPT0wJiZuPj01JiYobS5wdXNoKCJNICIuY29uY2F0KGEtdSwiLCIpLmNvbmNhdChvLTExK2crOCkpLG0ucHVzaCgiYSAiLmNvbmNhdCh1LCIsIikuY29uY2F0KHUsIiAwIDEsMCAiKS5jb25jYXQoMywiLDAiKSksbS5wdXNoKCJhICIuY29uY2F0KHUsIiwiKS5jb25jYXQodSwiIDAgMSwwICIpLmNvbmNhdCgtMywiLDAiKSkpfXZhciBrLHcsXz1bXTtmb3IoeT0wO3k8Zjt5KyspdWYsaz11Zit5KnAsdz15PGYtMXx8dCVoPT0wP2M6dCVoKmNmKzIqZCxfLnB1c2goIk0gIi5jb25jYXQoMTYsIiwiKS5jb25jYXQoayszKSksXy5wdXNoKCJhICIuY29uY2F0KDMsIiwiKS5jb25jYXQoMywiIDAgMCAxICIpLmNvbmNhdCgzLCIsIikuY29uY2F0KC0zKSksXy5wdXNoKCJMICIuY29uY2F0KDE2K3ctMywiLCIpLmNvbmNhdChrKSksXy5wdXNoKCJhICIuY29uY2F0KDMsIiwiKS5jb25jYXQoMywiIDAgMCAxICIpLmNvbmNhdCgzLCIsIikuY29uY2F0KDMpKSxfLnB1c2goIkwgIi5jb25jYXQoMTYrdywiLCIpLmNvbmNhdChrK2ctMykpLF8ucHVzaCgiYSAiLmNvbmNhdCgzLCIsIikuY29uY2F0KDMsIiAwIDAgMSAiKS5jb25jYXQoLTMsIiwiKS5jb25jYXQoMykpLF8ucHVzaCgiTCAiLmNvbmNhdCgxOSwiLCIpLmNvbmNhdChrK2cpKSxfLnB1c2goImEgIi5jb25jYXQoMywiLCIpLmNvbmNhdCgzLCIgMCAwIDEgIikuY29uY2F0KC0zLCIsIikuY29uY2F0KC0zKSksXy5wdXNoKCJaIik7dGhpcy5fJGNhbnZhcy5zdHlsZS5oZWlnaHQ9IiIuY29uY2F0KHYsInB4IiksdGhpcy5fJHRhcGVzLnNldEF0dHJpYnV0ZSgiZCIsXy5qb2luKCIgIikpLHRoaXMuXyRtYXJrcy5zZXRBdHRyaWJ1dGUoImQiLG0uam9pbigiICIpKSx0aGlzLl8kaG9sZXMuc2V0QXR0cmlidXRlKCJkIixiLmpvaW4oIiAiKSl9fV0pLG59KHNkKSxkZj17bmFtZToicHVuY2hlZC10YXBlIix0aXRsZToiUHVuY2hlZCB0YXBlIixjYXRlZ29yeToiVmlldyIsdHlwZToidmlld2VyIn0sZmY9ZnVuY3Rpb24oZSl7a3QocixlKTt2YXIgdCxuPUV0KHIpO2Z1bmN0aW9uIHIoKXt2YXIgZTtyZXR1cm4geXQodGhpcyxyKSwoZT1uLmNhbGwodGhpcykpLl92aWV3UHJvdG90eXBlPWhmLGUuYWRkU2V0dGluZyh7bmFtZToicm93cyIsdHlwZToibnVtYmVyIix2YWx1ZTo4LG1pbjozLG1heDoyNSxyYW5kb21pemFibGU6ITF9KSxlfXJldHVybiBidChyLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGRmfX1dKSxidChyLFt7a2V5OiJwZXJmb3JtVmlldyIsdmFsdWU6KHQ9dnQocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIG4scixpO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6bj10aGlzLmdldFNldHRpbmdWYWx1ZSgicm93cyIpLHI9dC5nZXRCeXRlcygpLGk9YWwucmVzaXplQml0U2l6ZWRBcnJheShyLDgsbiwhMCksdGhpcy5nZXRWaWV3KCkuc2V0VGFwZShpLG4pO2Nhc2UgNDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfV0pLHJ9KHVkKSxnZj17bmFtZToicHVueWNvZGUiLHRpdGxlOiJQdW55Y29kZSIsY2F0ZWdvcnk6IkVuY29kaW5nIix0eXBlOiJlbmNvZGVyIn0scGY9e2Jhc2ljUmFuZ2VTdGFydDowLGJhc2ljUmFuZ2VFbmQ6MTI3LGRpZ2l0TWFwcGluZzoiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5IixkZWxpbWl0ZXI6Ii0iLGNhc2VTZW5zaXRpdml0eTohMSxpbml0aWFsQmlhczo3Mixpbml0aWFsTjoxMjgsdG1pbjoxLHRtYXg6MjYsc2tldzozOCxkYW1wOjcwMH0sdmY9InhuLS0iLHlmPWZ1bmN0aW9uKGUpe2t0KGksZSk7dmFyIHQsbixyPUV0KGkpO2Z1bmN0aW9uIGkoKXt2YXIgZTtyZXR1cm4geXQodGhpcyxpKSwoZT1yLmNhbGwodGhpcykpLl9ib290c3RyaW5nRW5jb2Rlcj1uZXcgb2QsZS5fYm9vdHN0cmluZ0VuY29kZXIuc2V0U2V0dGluZ1ZhbHVlcyhwZiksZX1yZXR1cm4gYnQoaSxudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBnZn19XSksYnQoaSxbe2tleToicGVyZm9ybUVuY29kZSIsdmFsdWU6KG49dnQocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIG4scixpLGE7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDp0PXQudG9Mb3dlckNhc2UoKSxuPXQuc3BsaXQoIi4iKSxyPW5ldyBBcnJheShuLmxlbmd0aCksaT0wO2Nhc2UgNDppZighKGk8bi5sZW5ndGgpKXtlLm5leHQ9MTY7YnJlYWt9aWYoLTEhPT10aGlzLl9ub25CYXNpY0NvZGVQb2ludEluZGV4KG5baV0uZ2V0Q29kZVBvaW50cygpKSl7ZS5uZXh0PTk7YnJlYWt9cltpXT1uW2ldLGUubmV4dD0xMzticmVhaztjYXNlIDk6cmV0dXJuIGUubmV4dD0xMSx0aGlzLl9ib290c3RyaW5nRW5jb2Rlci5lbmNvZGUobltpXSk7Y2FzZSAxMTphPWUuc2VudCxyW2ldPXZmK2EuZ2V0U3RyaW5nKCk7Y2FzZSAxMzppKyssZS5uZXh0PTQ7YnJlYWs7Y2FzZSAxNjpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIscWwuam9pbihyLCIuIikpO2Nhc2UgMTc6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToicGVyZm9ybURlY29kZSIsdmFsdWU6KHQ9dnQocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIG4scixpLGEsbztyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKC0xPT09KG49dGhpcy5fbm9uQmFzaWNDb2RlUG9pbnRJbmRleCh0LmdldENvZGVQb2ludHMoKSkpKXtlLm5leHQ9MzticmVha310aHJvdyBuZXcgUmwoIkludmFsaWQgUHVueWNvZGUgY2hhcmFjdGVyIGF0IGluZGV4ICIuY29uY2F0KG4pKTtjYXNlIDM6cj10LnNwbGl0KCIuIiksaT1uZXcgQXJyYXkoci5sZW5ndGgpLGE9MDtjYXNlIDY6aWYoIShhPHIubGVuZ3RoKSl7ZS5uZXh0PTE4O2JyZWFrfWlmKDA9PT1yW2FdLmluZGV4T2YodmYpKXtlLm5leHQ9MTE7YnJlYWt9aVthXT1yW2FdLGUubmV4dD0xNTticmVhaztjYXNlIDExOnJldHVybiBvPXJbYV0uc3Vic3RyKHZmLmxlbmd0aCksZS5uZXh0PTE0LHRoaXMuX2Jvb3RzdHJpbmdFbmNvZGVyLmRlY29kZShvKTtjYXNlIDE0OmlbYV09ZS5zZW50O2Nhc2UgMTU6YSsrLGUubmV4dD02O2JyZWFrO2Nhc2UgMTg6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHFsLmpvaW4oaSwiLiIpKTtjYXNlIDE5OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Il9ub25CYXNpY0NvZGVQb2ludEluZGV4Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5maW5kSW5kZXgoKGZ1bmN0aW9uKGUpe3JldHVybiBlPj0xMjh9KSl9fV0pLGl9KHF1KSxtZj17bmFtZToicmFpbC1mZW5jZS1jaXBoZXIiLHRpdGxlOiJSYWlsIGZlbmNlIGNpcGhlciIsY2F0ZWdvcnk6IkNpcGhlcnMiLHR5cGU6ImVuY29kZXIifSxiZj1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLmFkZFNldHRpbmdzKFt7bmFtZToia2V5Iix0eXBlOiJudW1iZXIiLHZhbHVlOjIsaW50ZWdlcjohMCxtaW46MixtYXg6OTkscmFuZG9taXplVmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubmV4dEludGVnZXIoMiw4KX19LHtuYW1lOiJvZmZzZXQiLHR5cGU6Im51bWJlciIsdmFsdWU6MCxpbnRlZ2VyOiEwLG1pbjowLHJhbmRvbWl6YWJsZTohMX1dKSxlfXJldHVybiBidChuLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG1mfX1dKSxidChuLFt7a2V5OiJwZXJmb3JtRW5jb2RlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlcygpLHI9bi5rZXksaT1uLm9mZnNldCxhPWUuZ2V0TGVuZ3RoKCksbz0yKnItMixzPW5ldyBBcnJheShyKS5maWxsKCIiKTtmb3IodD0wO3Q8YTt0Kyspc1tyLTEtTWF0aC5hYnMoby8yLSh0K2kpJW8pXSs9ZS5nZXRDaGFyQXQodCk7cmV0dXJuIHMuam9pbigiIil9fSx7a2V5OiJwZXJmb3JtRGVjb2RlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5nZXRTZXR0aW5nVmFsdWVzKCksaT1yLmtleSxhPXIub2Zmc2V0LG89ZS5nZXRMZW5ndGgoKSxzPTIqaS0yLGw9bmV3IEFycmF5KG8pLHU9LTE7Zm9yKG49MDtuPGk7bisrKWZvcih0PTA7dDxvO3QrKykobit0K2EpJXMhPTAmJihuLXQtYSklcyE9MHx8KGxbdF09ZS5nZXRDb2RlUG9pbnRBdCgrK3UpKTtyZXR1cm4gbH19XSksbn0ocXUpLGtmPXtuYW1lOiJyYzQiLHRpdGxlOiJSQzQiLGNhdGVnb3J5OiJNb2Rlcm4gY3J5cHRvZ3JhcGh5Iix0eXBlOiJlbmNvZGVyIn0sd2Y9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5hZGRTZXR0aW5ncyhbe25hbWU6ImtleSIsdHlwZToiYnl0ZXMiLHZhbHVlOm5ldyBVaW50OEFycmF5KFs5OSwxMTQsMTIxLDExMiwxMTYsMTA1LDEwNV0pLG1pblNpemU6MSxtYXhTaXplOjMyLHJhbmRvbWl6ZVNpemU6OH0se25hbWU6ImRyb3AiLHR5cGU6Im51bWJlciIsbGFiZWw6IkRyb3AgYnl0ZXMiLHZhbHVlOjAsaW50ZWdlcjohMCxtaW46MCxyYW5kb21pemFibGU6ITF9XSksZX1yZXR1cm4gYnQobixudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBrZn19XSksYnQobixbe2tleToicGVyZm9ybVRyYW5zbGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy5nZXRTZXR0aW5nVmFsdWUoImtleSIpLHI9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImRyb3AiKSxpPW4ubGVuZ3RoLGE9ZS5nZXRCeXRlcygpLG89YS5sZW5ndGgscz1uZXcgVWludDhBcnJheShvKSxsPW5ldyBVaW50OEFycmF5KDI1NiksdT0wO3U8MjU2O3UrKylsW3VdPXU7Zm9yKHZhciBjPTAsaD0wO2g8MjU2O2grKyl7dmFyIGQ9W2xbYz0oYytsW2hdK25baCVpXSklMjU2XSxsW2hdXTtsW2hdPWRbMF0sbFtjXT1kWzFdfXZhciBmLGc9MDtjPTA7Zm9yKHZhciBwPTA7cDxyK287cCsrKXt2YXIgdj1bbFtjPShjK2xbZz0oZysxKSUyNTZdKSUyNTZdLGxbZ11dO2xbZ109dlswXSxsW2NdPXZbMV0sZj1sWyhsW2ddK2xbY10pJTI1Nl0scD49ciYmKHNbcC1yXT1hW3Atcl1eZil9cmV0dXJuIHN9fV0pLG59KHF1KSxfZj17bmFtZToicmVwbGFjZSIsdGl0bGU6IlJlcGxhY2UiLGNhdGVnb3J5OiJUcmFuc2Zvcm0iLHR5cGU6ImVuY29kZXIifSxTZj1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLmFkZFNldHRpbmdzKFt7bmFtZToiZmluZCIsdHlwZToidGV4dCIsdmFsdWU6IiIscmFuZG9taXphYmxlOiExfSx7bmFtZToicmVwbGFjZSIsdHlwZToidGV4dCIsdmFsdWU6IiIscmFuZG9taXphYmxlOiExfSx7bmFtZToiY2FzZVNlbnNpdGl2aXR5Iix0eXBlOiJib29sZWFuIix2YWx1ZTohMSxyYW5kb21pemFibGU6ITF9XSksZX1yZXR1cm4gYnQobixudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBfZn19XSksYnQobixbe2tleToicGVyZm9ybVRyYW5zbGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldFNldHRpbmdWYWx1ZSgiY2FzZVNlbnNpdGl2aXR5Iikscj10aGlzLmdldFNldHRpbmdWYWx1ZXMoKSxpPXIuZmluZCxhPXIucmVwbGFjZTtpZighdCl7dmFyIG89W2EsaV07aT1vWzBdLGE9b1sxXX12YXIgcz1lO258fChzPXMudG9Mb3dlckNhc2UoKSxpPWkudG9Mb3dlckNhc2UoKSkscz1zLmdldENvZGVQb2ludHMoKSxlPWUuZ2V0Q29kZVBvaW50cygpLGk9aS5nZXRDb2RlUG9pbnRzKCksYT1hLmdldENvZGVQb2ludHMoKTtmb3IodmFyIGw9MCx1PS0xLGM9W107LTEhPT0odT1hbC5pbmRleE9mU2xpY2UocyxpLHUrMSkpOyljPShjPWMuY29uY2F0KGUuc2xpY2UobCx1KSkpLmNvbmNhdChhKSxsPXUraS5sZW5ndGg7cmV0dXJuIGMuY29uY2F0KGUuc2xpY2UobCkpfX1dKSxufShxdSkseGY9e25hbWU6InJldmVyc2UiLHRpdGxlOiJSZXZlcnNlIixjYXRlZ29yeToiVHJhbnNmb3JtIix0eXBlOiJlbmNvZGVyIn0sSWY9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5hZGRTZXR0aW5nKHtuYW1lOiJ0eXBlIixsYWJlbDoiQnkiLHR5cGU6ImVudW0iLHZhbHVlOiJjaGFyYWN0ZXIiLGVsZW1lbnRzOlsiYnl0ZSIsImNoYXJhY3RlciIsImxpbmUiXSxsYWJlbHM6WyJCeXRlIiwiQ2hhcmFjdGVyIiwiTGluZSJdLHJhbmRvbWl6YWJsZTohMSxzdHlsZToicmFkaW8ifSksZX1yZXR1cm4gYnQobixudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB4Zn19XSksYnQobixbe2tleToicGVyZm9ybVRyYW5zbGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtzd2l0Y2godGhpcy5nZXRTZXR0aW5nVmFsdWUoInR5cGUiKSl7Y2FzZSJieXRlIjpyZXR1cm4gZS5nZXRCeXRlcygpLnJldmVyc2UoKTtjYXNlImNoYXJhY3RlciI6cmV0dXJuIHFsLmpvaW4oZS5nZXRDaGFycygpLnJldmVyc2UoKSwiIik7Y2FzZSJsaW5lIjpyZXR1cm4gcWwuam9pbihlLnNwbGl0KC9ccj9cbi8pLnJldmVyc2UoKSwiXG4iKX19fV0pLG59KHF1KSxDZj17bmFtZToicm90MTMiLHRpdGxlOiJST1QxMyIsY2F0ZWdvcnk6IkNpcGhlcnMiLHR5cGU6ImVuY29kZXIifSxWZj1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLmFkZFNldHRpbmcoe25hbWU6InZhcmlhbnQiLHR5cGU6ImVudW0iLHZhbHVlOiJyb3QxMyIsZWxlbWVudHM6WyJyb3Q1Iiwicm90MTMiLCJyb3QxOCIsInJvdDQ3Il0sbGFiZWxzOlsiUk9UNSAoMC05KSIsIlJPVDEzIChBLVosIGEteikiLCJST1QxOCAoMC05LCBBLVosIGEteikiLCJST1Q0NyAoIS1+KSJdLHJhbmRvbWl6YWJsZTohMSxzdHlsZToicmFkaW8ifSksZX1yZXR1cm4gYnQobixudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBDZn19XSksYnQobixbe2tleToicGVyZm9ybVRyYW5zbGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9dGhpcy5nZXRTZXR0aW5nVmFsdWUoInZhcmlhbnQiKTtyZXR1cm4gZS5nZXRDb2RlUG9pbnRzKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4icm90NSIhPT1yJiYicm90MTgiIT09cnx8KGU9bi5fcm90YXRlQ29kZVBvaW50KGUsNDgsNTcpKSwicm90MTMiIT09ciYmInJvdDE4IiE9PXJ8fChlPW4uX3JvdGF0ZUNvZGVQb2ludChlLDk3LDEyMiksZT1uLl9yb3RhdGVDb2RlUG9pbnQoZSw2NSw5MCkpLCJyb3Q0NyI9PT1yJiYoZT1uLl9yb3RhdGVDb2RlUG9pbnQoZSwzMywxMjYpKSxlfSkpfX0se2tleToiX3JvdGF0ZUNvZGVQb2ludCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe2lmKGU+PXQmJmU8PW4pe3ZhciByPW4tdCsxOyhlKz1yLzIpPm4mJihlLT1yKX1yZXR1cm4gZX19XSksbn0ocXUpLEVmPXtuYW1lOiJzcGVsbGluZy1hbHBoYWJldCIsdGl0bGU6IlNwZWxsaW5nIGFscGhhYmV0IixjYXRlZ29yeToiQWxwaGFiZXRzIix0eXBlOiJlbmNvZGVyIn0sQWY9W3tuYW1lOiJuYXRvIixsYWJlbDoiTkFUTy9JQ0FPIHBob25ldGljIGFscGhhYmV0IixjaGFyYWN0ZXJzOiJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h4eXowMTIzNDU2Nzg5LiIsd29yZHM6WyJBbGZhIiwiQnJhdm8iLCJDaGFybGllIiwiRGVsdGEiLCJFY2hvIiwiRm94dHJvdCIsIkdvbGYiLCJIb3RlbCIsIkluZGlhIiwiSnVsaWV0dCIsIktpbG8iLCJMaW1hIiwiTWlrZSIsIk5vdmVtYmVyIiwiT3NjYXIiLCJQYXBhIiwiUXVlYmVjIiwiUm9tZW8iLCJTaWVycmEiLCJUYW5nbyIsIlVuaWZvcm0iLCJWaWN0b3IiLCJXaGlza2V5IiwiWC1yYXkiLCJYcmF5IiwiWWFua2VlIiwiWnVsdSIsIlplcm8iLCJPbmUiLCJUd28iLCJUaHJlZSIsIkZvdXIiLCJGaXZlIiwiU2l4IiwiU2V2ZW4iLCJFaWdodCIsIk5pbmUiLCJTdG9wIl0sc3BhY2VXb3JkOiIoc3BhY2UpIn0se25hbWU6ImR1dGNoIixsYWJlbDoiRHV0Y2ggc3BlbGxpbmcgYWxwaGFiZXQiLGNoYXJhY3RlcnM6WyJhIiwiYiIsImMiLCJkIiwiZSIsImYiLCJnIiwiaCIsImlqIiwiaWoiLCJpIiwiaiIsImoiLCJrIiwibCIsImwiLCJtIiwibiIsIm8iLCJwIiwicSIsInEiLCJyIiwiciIsInMiLCJ0IiwidSIsInYiLCJ3IiwieCIsInkiLCJ6IiwiMCIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCI4IiwiOSJdLHdvcmRzOlsiQW50b24iLCJCZXJuaGFyZCIsIkNvcm5lbGlzIiwiRGlyayIsIkVkdWFyZCIsIkZlcmRpbmFuZCIsIkdlcmFyZCIsIkhlbmRyaWsiLCJJSm11aWRlbiIsIklKc2JyYW5kIiwiSXphYWsiLCJKb2hhbiIsIkphY29iIiwiS2FyZWwiLCJMb2Rld2lqayIsIkxlbyIsIk1hcmlhIiwiTmljbyIsIk90dG8iLCJQaWV0ZXIiLCJRdWlyaW5pdXMiLCJRdWludGVuIiwiUmljaGFyZCIsIlJ1ZG9sZiIsIlNpbW9uIiwiVGhlb2Rvb3IiLCJVdHJlY2h0IiwiVmljdG9yIiwiV2lsbGVtIiwiWGFudGlwcGUiLCJZcHNpbG9uIiwiWmFjaGFyaWFzIiwiTnVsIiwiRWVuIiwiVHdlZSIsIkRyaWUiLCJWaWVyIiwiVmlqZiIsIlplcyIsIlpldmVuIiwiQWNodCIsIk5lZ2VuIl0sc3BhY2VXb3JkOiIoc3BhdGllYmFsaykifSx7bmFtZToiZ2VybWFuIixsYWJlbDoiR2VybWFuIHNwZWxsaW5nIGFscGhhYmV0IixjaGFyYWN0ZXJzOiJhYmNkZWZnaGlqa2tsbW5vcHFyc3N0dXZ3eHh5enrDpMO2w7bDvMO8w5/DnzAxMjM0NTY3ODkiLHdvcmRzOlsiQW50b24iLCJCZXJ0YSIsIkPDpHNhciIsIkRvcmEiLCJFbWlsIiwiRnJpZWRyaWNoIiwiR3VzdGF2IiwiSGVpbnJpY2giLCJJZGEiLCJKdWxpdXMiLCJLYXVmbWFubiIsIktvbnJhZCIsIkx1ZHdpZyIsIk1hcnRoYSIsIk5vcmRwb2wiLCJPdHRvIiwiUGF1bGEiLCJRdWVsbGUiLCJSaWNoYXJkIiwiU2FtdWVsIiwiU2llZ2ZyaWVkIiwiVGhlb2RvciIsIlVscmljaCIsIlZpa3RvciIsIldpbGhlbG0iLCJYYW50aGlwcGUiLCJYYXZlciIsIllwc2lsb24iLCJaYWNoYXJpYXMiLCJaw7xyaWNoIiwiw4RyZ2VyIiwiw5Zrb25vbSIsIsOWc3RlcnJlaWNoIiwiw5xiZXJtdXQiLCLDnGJlbCIsIkVzemV0dCIsIlNjaGFyZmVzIFMiLCJOdWxsIiwiRWlucyIsIlp3ZWkiLCJEcmVpIiwiVmllciIsIkbDvG5mIiwiU2VjaHMiLCJTaWViZW4iLCJBY2h0IiwiTmV1biJdLHNwYWNlV29yZDoiKExlZXJ0YXN0ZSkifSx7bmFtZToic3dlZGlzaCIsbGFiZWw6IlN3ZWRpc2ggQXJtZWQgRm9yY2VzJyByYWRpbyBhbHBoYWJldCIsY2hhcmFjdGVyczoiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXrDpcOkw7YwMTIzNDU2Nzg5Iix3b3JkczpbIkFkYW0iLCJCZXJ0aWwiLCJDYWVzYXIiLCJEYXZpZCIsIkVyaWsiLCJGaWxpcCIsIkd1c3RhdiIsIkhlbGdlIiwiSXZhciIsIkpvaGFuIiwiS2FsbGUiLCJMdWR2aWciLCJNYXJ0aW4iLCJOaWtsYXMiLCJPbG9mIiwiUGV0dGVyIiwiUXZpbnR1cyIsIlJ1ZG9sZiIsIlNpZ3VyZCIsIlRvcmUiLCJVcmJhbiIsIlZpa3RvciIsIldpbGhlbG0iLCJYZXJ4ZXMiLCJZbmd2ZSIsIlrDpHRhIiwiw4VrZSIsIsOEcmxpZyIsIsOWc3RlbiIsIk5vbGxhIiwiRXR0IiwiVHbDpWEiLCJUcmVhIiwiRnlyYSIsIkZlbW1hIiwiU2V4YSIsIlNqdSIsIsOFdHRhIiwiTmlhIl0sc3BhY2VXb3JkOiIobWVsbGFuc2xhZykifSx7bmFtZToicnVzc2lhbiIsbGFiZWw6IlJ1c3NpYW4gc3BlbGxpbmcgYWxwaGFiZXQgKG9mZmljaWFsLCBleGNsdWRlcyDQgSkiLGNoYXJhY3RlcnM6ItCw0LHQstCz0LTQtdC20LfQuNC50LrQu9C80L3QvtC/0YDRgdGC0YPRhNGF0YbRh9GI0YnRitGL0YzRjdGO0Y8wMTIzNDU2Nzg5LiIsd29yZHM6WyLQkNC90L3QsCIsItCR0L7RgNC40YEiLCLQktCw0YHQuNC70LjQuSIsItCT0YDQuNCz0L7RgNC40LkiLCLQlNC80LjRgtGA0LjQuSIsItCV0LvQtdC90LAiLCLQltC10L3RjyIsItCX0LjQvdCw0LjQtNCwIiwi0JjQstCw0L0iLCLQmNCy0LDQvSDQutGA0LDRgtC60LjQuSIsItCa0L7QvdGB0YLQsNC90YLQuNC9Iiwi0JvQtdC+0L3QuNC0Iiwi0JzQuNGF0LDQuNC7Iiwi0J3QuNC60L7Qu9Cw0LkiLCLQntC70YzQs9CwIiwi0J/QsNCy0LXQuyIsItCg0L7QvNCw0L0iLCLQodC10LzRkdC9Iiwi0KLQsNGC0YzRj9C90LAiLCLQo9C70YzRj9C90LAiLCLQpNGR0LTQvtGAIiwi0KXQsNGA0LjRgtC+0L0iLCLQptCw0L/Qu9GPIiwi0KfQtdC70L7QstC10LoiLCLQqNGD0YDQsCIsItCp0YPQutCwIiwi0KLQstGR0YDQtNGL0Lkg0LfQvdCw0LoiLCLQldGA0YsiLCLQnNGP0LPQutC40Lkg0LfQvdCw0LoiLCLQrdGF0L4iLCLQrtGA0LjQuSIsItCv0LrQvtCyIiwi0J3QvtC70YwiLCLQntC00LjQvSIsItCU0LLQsCIsItCi0YDQuCIsItCn0LXRgtGL0YDQtSIsItCf0Y/RgtGMIiwi0KjQtdGB0YLRjCIsItCh0LXQvNGMIiwi0JLQvtGB0LXQvNGMIiwi0JTQtdCy0Y/RgtGMIiwi0KLQvtGH0LrQsCJdLHNwYWNlV29yZDoiKNC/0YDQvtCx0LXQuykifSx7bmFtZToicnVzc2lhbi11bm9mZmljaWFsIixsYWJlbDoiUnVzc2lhbiBzcGVsbGluZyBhbHBoYWJldCAodW5vZmZpY2lhbCwgaW5jbHVkZXMg0IEpIixjaGFyYWN0ZXJzOiLQsNCx0LLQs9C00LXRkdC20LfQuNC50LrQu9C80L3QvtC/0YDRgdGC0YPRhNGF0YbRh9GI0YnRitGL0YzRjdGO0Y8wMTIzNDU2Nzg5LiIsd29yZHM6WyLQkNC90YLQvtC9Iiwi0JHQvtGA0LjRgSIsItCS0LDRgdC40LvQuNC5Iiwi0JPQsNC70LjQvdCwIiwi0JTQvNC40YLRgNC40LkiLCLQldC70LXQvdCwIiwi0IHQu9C60LAiLCLQltGD0LoiLCLQl9C+0Y8iLCLQmNCy0LDQvSIsItCZ0L7RgiIsItCa0LjQu9C+0LLQsNGC0YIiLCLQm9C10L7QvdC40LQiLCLQnNCw0YDQuNGPIiwi0J3QuNC60L7Qu9Cw0LkiLCLQntC70YzQs9CwIiwi0J/QsNCy0LXQuyIsItCg0LDQtNC40L4iLCLQodC10YDQs9C10LkiLCLQotCw0LzQsNGA0LAiLCLQo9C70YzRj9C90LAiLCLQpNGR0LTQvtGAIiwi0KXQsNGA0LjRgtC+0L0iLCLQptC10L3RgtGAIiwi0KfQtdC70L7QstC10LoiLCLQqNGD0YDQsCIsItCp0YPQutCwIiwi0KLQstGR0YDQtNGL0Lkg0LfQvdCw0LoiLCLQmNCz0YDQtdC6Iiwi0JzRj9Cz0LrQuNC5INC30L3QsNC6Iiwi0K3QvNC80LAiLCLQrtGA0LjQuSIsItCv0LrQvtCyIiwi0J3QvtC70YwiLCLQntC00LjQvSIsItCU0LLQsCIsItCi0YDQuCIsItCn0LXRgtGL0YDQtSIsItCf0Y/RgtGMIiwi0KjQtdGB0YLRjCIsItCh0LXQvNGMIiwi0JLQvtGB0LXQvNGMIiwi0JTQtdCy0Y/RgtGMIiwi0KLQvtGH0LrQsCJdLHNwYWNlV29yZDoiKNC/0YDQvtCx0LXQuykifV0sTWY9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5fY2hhcmFjdGVyTWFwPXt9LGUuX3dvcmRNYXA9e30sZS5hZGRTZXR0aW5nKHtuYW1lOiJhbHBoYWJldCIsdHlwZToiZW51bSIsZWxlbWVudHM6QWYubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSkpLGxhYmVsczpBZi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxhYmVsfSkpLHJhbmRvbWl6YWJsZTohMSxzdHlsZToicmFkaW8ifSksZS5idWlsZFRyYW5zbGF0aW9uTWFwKCksZX1yZXR1cm4gYnQobixudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBFZn19XSksYnQobixbe2tleToicGVyZm9ybVRyYW5zbGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49Qmwubm9ybWFsaXplV2hpdGVzcGFjZXMoZS5nZXRTdHJpbmcoKSkscj10P3RoaXMuX2NoYXJhY3Rlck1hcDp0aGlzLl93b3JkTWFwLGk9T2JqZWN0LmtleXMocikuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5sZW5ndGgtZS5sZW5ndGh9KSksYT0wLG89W107YTxuLmxlbmd0aDspe3ZhciBzPWkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uc3Vic3RyKGEsZS5sZW5ndGgpLnRvTG93ZXJDYXNlKCk9PT1lLnRvTG93ZXJDYXNlKCl9KSk7aWYodm9pZCAwIT09cylvLnB1c2gocltzXSksYSs9cy5sZW5ndGg7ZWxzZXt2YXIgbD1uLnN1YnN0cihhLDEpOyh0fHwiICIhPT1sKSYmby5wdXNoKGwpLGErK319cmV0dXJuIG8uam9pbih0PyIgIjoiIil9fSx7a2V5OiJzZXR0aW5nVmFsdWVEaWRDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUuZ2V0TmFtZSgpKXtjYXNlImFscGhhYmV0Ijp0aGlzLmJ1aWxkVHJhbnNsYXRpb25NYXAoKX19fSx7a2V5OiJidWlsZFRyYW5zbGF0aW9uTWFwIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJhbHBoYWJldCIpLHQ9QWYuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWV9KSk7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoIkFscGhhYmV0IHdpdGggbmFtZSAnIi5jb25jYXQoZSwiJyBpcyBub3QgZGVmaW5lZCIpKTt2YXIgbj0ic3RyaW5nIj09dHlwZW9mIHQuY2hhcmFjdGVycz90LmNoYXJhY3RlcnMuc3BsaXQoIiIpOnQuY2hhcmFjdGVycyxyPXQud29yZHMsaT17fTtuLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09aVtlXSYmKGlbZV09clt0XSl9KSk7dmFyIGE9e307ci5mb3JFYWNoKChmdW5jdGlvbihlLHQpe2U9ZS50b0xvd2VyQ2FzZSgpLHZvaWQgMD09PWFbZV0mJihhW2VdPW5bdF0pfSkpO3ZhciBvPXQuc3BhY2VXb3JkfHwiKHNwYWNlKSI7cmV0dXJuIGlbIiAiXT1vLGFbb109IiAiLHRoaXMuX2NoYXJhY3Rlck1hcD1pLHRoaXMuX3dvcmRNYXA9YSx0aGlzfX1dKSxufShxdSksVGY9e25hbWU6InRhcC1jb2RlIix0aXRsZToiVGFwIGNvZGUiLGNhdGVnb3J5OiJQb2x5Yml1cyBzcXVhcmUgY2lwaGVycyIsdHlwZToiZW5jb2RlciJ9LExmPWZ1bmN0aW9uKGUpe2t0KHIsZSk7dmFyIHQsbj1FdChyKTtmdW5jdGlvbiByKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsciksKGU9bi5jYWxsKHRoaXMpKS5hZGRTZXR0aW5ncyhbe25hbWU6InRhcE1hcmsiLGxhYmVsOiJUYXAiLHR5cGU6InRleHQiLHdpZHRoOjQsdmFsdWU6Ii4iLG1pbkxlbmd0aDoxLHJhbmRvbWl6YWJsZTohMX0se25hbWU6Imdyb3VwTWFyayIsbGFiZWw6Ikdyb3VwIix0eXBlOiJ0ZXh0Iix3aWR0aDo0LHZhbHVlOiIgIixtaW5MZW5ndGg6MSxyYW5kb21pemFibGU6ITF9LHtuYW1lOiJsZXR0ZXJNYXJrIixsYWJlbDoiTGV0dGVyIix0eXBlOiJ0ZXh0Iix3aWR0aDo0LHZhbHVlOiIgICIsbWluTGVuZ3RoOjEscmFuZG9taXphYmxlOiExfV0pLGUuX3BvbHliaXVzU3F1YXJlPW5ldyBLdSxlLl9wb2x5Yml1c1NxdWFyZS5zZXRTZXR0aW5nVmFsdWVzKHthbHBoYWJldDoiYWJjZGVmZ2hpamxtbm9wcXJzdHV2d3h5eiIscm93czoiMTIzNDUiLGNvbHVtbnM6IjEyMzQ1IixzZXBhcmF0b3I6IiIsY2FzZVNlbnNpdGl2aXR5OiExLGluY2x1ZGVGb3JlaWduQ2hhcnM6ITF9KSxlfXJldHVybiBidChyLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIFRmfX1dKSxidChyLFt7a2V5OiJwZXJmb3JtRW5jb2RlIix2YWx1ZToodD12dChyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGksYSxvLHMsbCx1LGM7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gbj10aGlzLmdldFNldHRpbmdWYWx1ZSgidGFwTWFyayIpLmdldFN0cmluZygpLHI9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImdyb3VwTWFyayIpLmdldFN0cmluZygpLGk9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImxldHRlck1hcmsiKS5nZXRTdHJpbmcoKSxlLm5leHQ9NSx0aGlzLl9wb2x5Yml1c1NxdWFyZS5lbmNvZGUodC5nZXRTdHJpbmcoKS5yZXBsYWNlKC9rL2dpLCJjIikpO2Nhc2UgNTpmb3IoYT1lLnNlbnQsbz1hLmdldExlbmd0aCgpLzIsdT0iIixjPTA7YzxvO2MrKylzPXBhcnNlSW50KGEuZ2V0Q2hhckF0KDIqYykpLGw9cGFyc2VJbnQoYS5nZXRDaGFyQXQoMipjKzEpKSx1Kz0oYz4wP2k6IiIpK24ucmVwZWF0KHMpK3Irbi5yZXBlYXQobCk7cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHUpO2Nhc2UgMTA6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToicGVyZm9ybURlY29kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJ0YXBNYXJrIikuZ2V0Q29kZVBvaW50cygpLG49dC5sZW5ndGgscj1lLmdldENvZGVQb2ludHMoKSxpPSIiLGE9MCxvPS0xLHM9MDstMSE9PShvPWFsLmluZGV4T2ZTbGljZShyLHQsbysxKSk7KTA9PT1hfHxvPT09YStuP3MrKzooaSs9cy50b1N0cmluZygpLHM9MSksYT1vO3JldHVybiBpKz1zLnRvU3RyaW5nKCksdGhpcy5fcG9seWJpdXNTcXVhcmUuZGVjb2RlKGkpfX1dKSxyfShxdSksUGY9e25hbWU6InRleHQiLHRpdGxlOiJUZXh0IixjYXRlZ29yeToiVmlldyIsdHlwZToidmlld2VyIn0sQmY9ZnVuY3Rpb24oZSl7a3QocixlKTt2YXIgdCxuPUV0KHIpO2Z1bmN0aW9uIHIoKXt2YXIgZTtyZXR1cm4geXQodGhpcyxyKSwoZT1uLmNhbGwodGhpcykpLl92aWV3UHJvdG90eXBlPWxkLGV9cmV0dXJuIGJ0KHIsbnVsbCxbe2tleToiZ2V0TWV0YSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gUGZ9fV0pLGJ0KHIsW3trZXk6InBlcmZvcm1WaWV3Iix2YWx1ZToodD12dChyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0KXtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnRoaXMuZ2V0VmlldygpLnNldFRleHQodC5nZXRTdHJpbmcoKSk7Y2FzZSAxOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6InZpZXdUZXh0RGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dGhpcy5kYXJlKChmdW5jdGlvbigpe24uY29udGVudERpZENoYW5nZShxbC53cmFwKHQpKX0pKX19XSkscn0odWQpLE9mPXtuYW1lOiJ0cmlmaWQtY2lwaGVyIix0aXRsZToiVHJpZmlkIGNpcGhlciIsY2F0ZWdvcnk6IlBvbHliaXVzIHNxdWFyZSBjaXBoZXJzIix0eXBlOiJlbmNvZGVyIn0sUmY9ImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6KyIsemY9ZnVuY3Rpb24oZSl7a3QoaSxlKTt2YXIgdCxuLHI9RXQoaSk7ZnVuY3Rpb24gaSgpe3ZhciBlO3JldHVybiB5dCh0aGlzLGkpLChlPXIuY2FsbCh0aGlzKSkuYWRkU2V0dGluZ3MoW3tuYW1lOiJrZXkiLHR5cGU6InRleHQiLHZhbHVlOiIiLHVuaXF1ZUNoYXJzOiEwLG1pbkxlbmd0aDowLG1heExlbmd0aDoyNyxjYXNlU2Vuc2l0aXZpdHk6ITF9LHtuYW1lOiJncm91cFNpemUiLHR5cGU6Im51bWJlciIsdmFsdWU6NSxtaW46Mn1dKSxlfXJldHVybiBidChpLG51bGwsW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE9mfX1dKSxidChpLFt7a2V5OiJwZXJmb3JtRW5jb2RlIix2YWx1ZToobj12dChyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGksYSxvLHMsbCx1LGMsaCxkLGYsZyxwO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6Zm9yKG49dGhpcy5nZXRTZXR0aW5nVmFsdWVzKCkscj1uLmtleSxpPW4uZ3JvdXBTaXplLGE9cWwud3JhcChyKS5leHRlbmQoUmYpLmdldENvZGVQb2ludHMoKSxvPXQudG9Mb3dlckNhc2UoKS5nZXRDb2RlUG9pbnRzKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYS5pbmRleE9mKGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lfSkpLHM9by5sZW5ndGgsbD1uZXcgQXJyYXkoMypzKSx1PTA7dTxzO3UrKylmb3IoZD1NYXRoLmZsb29yKHUvaSksZj11LWQqaSxnPU1hdGgubWluKGkscy1kKmkpLGg9dGhpcy5jYXJ0ZXNpYW5Db29yZGluYXRlc0Zyb21JbmRleChvW3VdKSxjPTA7YzwzO2MrKylsW2YrZCppKjMrZypjXT1oW2NdO2ZvcihwPW5ldyBBcnJheShzKSx1PTA7dTxzO3UrKyloPWwuc2xpY2UoMyp1LDMqKHUrMSkpLGY9dGhpcy5pbmRleEZyb21DYXJ0ZXNpYW5Db29yZGluYXRlcyhoKSxwW3VdPWFbZl07cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHApO2Nhc2UgOTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJwZXJmb3JtRGVjb2RlIix2YWx1ZToodD12dChyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGksYSxvLHMsbCx1LGMsaCxkLGYsZyxwO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6Zm9yKG49dGhpcy5nZXRTZXR0aW5nVmFsdWVzKCkscj1uLmtleSxpPW4uZ3JvdXBTaXplLGE9cWwud3JhcChyKS5leHRlbmQoUmYpLmdldENvZGVQb2ludHMoKSxvPXQudG9Mb3dlckNhc2UoKS5nZXRDb2RlUG9pbnRzKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYS5pbmRleE9mKGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lfSkpLHM9by5sZW5ndGgsbD1uZXcgQXJyYXkoMypzKSx1PTA7dTxzO3UrKylmb3IoaD10aGlzLmNhcnRlc2lhbkNvb3JkaW5hdGVzRnJvbUluZGV4KG9bdV0pLGM9MDtjPDM7YysrKWxbMyp1K2NdPWhbY107Zm9yKGQ9bmV3IEFycmF5KHMpLHU9MDt1PHM7dSsrKXtmb3IoZj1NYXRoLmZsb29yKHUvaSksZz11LWYqaSxwPU1hdGgubWluKGkscy1mKmkpLGM9MDtjPDM7YysrKWhbY109bFtnK2YqaSozK3AqY107Zz10aGlzLmluZGV4RnJvbUNhcnRlc2lhbkNvb3JkaW5hdGVzKGgpLGRbdV09YVtnXX1yZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsZCk7Y2FzZSA5OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImNhcnRlc2lhbkNvb3JkaW5hdGVzRnJvbUluZGV4Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1NYXRoLmZsb29yKGUvOSksbj1NYXRoLmZsb29yKChlLTkqdCkvMyk7cmV0dXJuW3QrMSxuKzEsZS05KnQtMypuKzFdfX0se2tleToiaW5kZXhGcm9tQ2FydGVzaWFuQ29vcmRpbmF0ZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PU10KGUsMyk7cmV0dXJuIDkqKHRbMF0tMSkrMyoodFsxXS0xKSsodFsyXS0xKX19XSksaX0ocXUpLE5mPXtuYW1lOiJ1bmljb2RlLWNvZGUtcG9pbnRzIix0aXRsZToiVW5pY29kZSBjb2RlIHBvaW50cyIsY2F0ZWdvcnk6IkVuY29kaW5nIix0eXBlOiJlbmNvZGVyIn0sRmY9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5zZXRDaGFyYWN0ZXJUb0Jsb2NrTW9kZSgpLGUuYWRkU2V0dGluZyh7bmFtZToiZm9ybWF0Iix0eXBlOiJlbnVtIix2YWx1ZToidW5pY29kZSIsZWxlbWVudHM6WyJ1bmljb2RlIiwiZGVjaW1hbCIsImhleGFkZWNpbWFsIiwiYmluYXJ5Iiwib2N0YWwiLCJuY3ItZGVjaW1hbCIsIm5jci1oZXhhZGVjaW1hbCJdLGxhYmVsczpbIlVuaWNvZGUgbm90YXRpb24iLCJEZWNpbWFsIiwiSGV4YWRlY2ltYWwiLCJCaW5hcnkiLCJPY3RhbCIsIk5DUiAoRGVjaW1hbCkiLCJOQ1IgKEhleGFkZWNpbWFsKSJdLHJhbmRvbWl6YWJsZTohMSxzdHlsZToicmFkaW8ifSksZX1yZXR1cm4gYnQobixudWxsLFt7a2V5OiJnZXRNZXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBOZn19XSksYnQobixbe2tleToicGVyZm9ybUNoYXJFbmNvZGVUb0Jsb2NrIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7c3dpdGNoKHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCJmb3JtYXQiKSl7Y2FzZSJ1bmljb2RlIjpyZXR1cm4iVSsiK2UudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7Y2FzZSJkZWNpbWFsIjpyZXR1cm4gZS50b1N0cmluZygxMCk7Y2FzZSJoZXhhZGVjaW1hbCI6cmV0dXJuIGUudG9TdHJpbmcoMTYpO2Nhc2UiYmluYXJ5IjpyZXR1cm4gZS50b1N0cmluZygyKTtjYXNlIm9jdGFsIjpyZXR1cm4gZS50b1N0cmluZyg4KTtjYXNlIm5jci1kZWNpbWFsIjpyZXR1cm4iJiMiLmNvbmNhdChlLnRvU3RyaW5nKDEwKSwiOyIpO2Nhc2UibmNyLWhleGFkZWNpbWFsIjpyZXR1cm4iJiN4Ii5jb25jYXQoZS50b1N0cmluZygxNiksIjsiKX19fSx7a2V5OiJwZXJmb3JtQmxvY2tEZWNvZGVUb0NoYXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLGE9MDtzd2l0Y2godGhpcy5nZXRTZXR0aW5nVmFsdWUoImZvcm1hdCIpKXtjYXNlInVuaWNvZGUiOm51bGwhPT0oaT1lLm1hdGNoKC9eVVwrKFswLTlBLUZdKykkL2kpKSYmKGE9cGFyc2VJbnQoaVsxXSwxNikpO2JyZWFrO2Nhc2UiZGVjaW1hbCI6YT1wYXJzZUludChlLDEwKTticmVhaztjYXNlImhleGFkZWNpbWFsIjphPXBhcnNlSW50KGUsMTYpO2JyZWFrO2Nhc2UiYmluYXJ5IjphPXBhcnNlSW50KGUsMik7YnJlYWs7Y2FzZSJvY3RhbCI6YT1wYXJzZUludChlLDgpO2JyZWFrO2Nhc2UibmNyLWRlY2ltYWwiOmNhc2UibmNyLWhleGFkZWNpbWFsIjpudWxsIT09KGk9ZS5tYXRjaCgvXiYjeChbMC05QS1GXSspOyQvaSkpP2E9cGFyc2VJbnQoaVsxXSwxNik6bnVsbCE9PShpPWUubWF0Y2goL14mIyhbMC05XSspOyQvKSkmJihhPXBhcnNlSW50KGlbMV0sMTApKX1pZighamwudmFsaWRhdGVDb2RlUG9pbnQoYSkpdGhyb3cgbmV3IFJsKCJJbnZhbGlkIGNvZGUgcG9pbnQgYXQgaW5kZXggIi5jb25jYXQodCkpO3JldHVybiBhfX1dKSxufShVdSksRGY9e25hbWU6InVybC1lbmNvZGluZyIsdGl0bGU6IlVSTCBlbmNvZGluZyIsY2F0ZWdvcnk6IkVuY29kaW5nIix0eXBlOiJlbmNvZGVyIn0samY9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV8ufiIsJGY9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7cmV0dXJuIHl0KHRoaXMsbiksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGJ0KG4sW3trZXk6InBlcmZvcm1FbmNvZGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RyeXtmb3IodmFyIHQsbj1lLmdldENoYXJzKCkscj0iIixpPTA7aTxuLmxlbmd0aDtpKyspdD1uW2ldLHIrPS0xPT09amYuaW5kZXhPZih0KT90aGlzLmVuY29kZUJ5dGVzKGUuZ2V0Q2hhckJ5dGVzQXQoaSkpOnQ7cmV0dXJuIHJ9Y2F0Y2godCl7aWYodCBpbnN0YW5jZW9mIERsKXJldHVybiB0aGlzLmVuY29kZUJ5dGVzKGUuZ2V0Qnl0ZXMoKSk7dGhyb3cgdH19fSx7a2V5OiJlbmNvZGVCeXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSIiLG49MDtuPGUubGVuZ3RoO24rKyl0Kz0iJSIrKCIwIitlW25dLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO3JldHVybiB0fX0se2tleToicGVyZm9ybURlY29kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1lLmdldFN0cmluZygpLGk9W10sYT0wO2E8ci5sZW5ndGg7KWlmKCIlIj09PSh0PXJbYV0pKXtpZihudWxsPT09KG49ci5zdWJzdHIoYSsxLDIpKS5tYXRjaCgvWzAtOWEtZl17Mn0vaSkpdGhyb3cgbmV3IFJsKCJJbnZhbGlkIHBlcmNlbnQtZW5jb2RlZCBieXRlICclIi5jb25jYXQobiwiJyBhdCBpbmRleCAiKS5jb25jYXQoYSkpO2kucHVzaChwYXJzZUludChuLDE2KSksYSs9M31lbHNlIGlmKCIrIj09PXQpaS5wdXNoKDMyKSxhKys7ZWxzZXtpZigtMT09PWpmLmluZGV4T2YodCkpdGhyb3cgbmV3IFJsKCJJbnZhbGlkIGNoYXJhY3RlciAnIi5jb25jYXQodCwiJyBhdCBpbmRleCAiKS5jb25jYXQoYSkpO2kucHVzaCh0LmNoYXJDb2RlQXQoMCkpLGErK31yZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSl9fV0sW3trZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIERmfX1dKSxufShxdSkscWY9e25hbWU6InZpZ2VuZXJlLWNpcGhlciIsdGl0bGU6IlZpZ2Vuw6hyZSBjaXBoZXIiLGNhdGVnb3J5OiJDaXBoZXJzIix0eXBlOiJlbmNvZGVyIn0sVWY9ImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IixXZj1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLmFkZFNldHRpbmdzKFt7bmFtZToidmFyaWFudCIsdHlwZToiZW51bSIsdmFsdWU6InN0YW5kYXJkIixlbGVtZW50czpbInN0YW5kYXJkIiwiYmVhdWZvcnQtY2lwaGVyIiwidmFyaWFudC1iZWF1Zm9ydC1jaXBoZXIiLCJ0cml0aGVtaXVzLWNpcGhlciJdLGxhYmVsczpbIlN0YW5kYXJkIFZpZ2Vuw6hyZSBjaXBoZXIiLCJCZWF1Zm9ydCBjaXBoZXIiLCJWYXJpYW50IEJlYXVmb3J0IGNpcGhlciIsIlRyaXRoZW1pdXMgY2lwaGVyIl0scmFuZG9taXphYmxlOiExfSx7bmFtZToia2V5Iix0eXBlOiJ0ZXh0Iix2YWx1ZToiY3J5cHRpaSIsd2hpdGVsaXN0Q2hhcnM6VWYsbWluTGVuZ3RoOjIsY2FzZVNlbnNpdGl2aXR5OiExfSx7bmFtZToia2V5TW9kZSIsdHlwZToiZW51bSIsdmFsdWU6InJlcGVhdCIsZWxlbWVudHM6WyJyZXBlYXQiLCJhdXRva2V5Il0sbGFiZWxzOlsiUmVwZWF0IiwiQXV0b2tleSJdLHJhbmRvbWl6YWJsZTohMX0se25hbWU6ImFscGhhYmV0Iix0eXBlOiJ0ZXh0Iix2YWx1ZTpVZix1bmlxdWVDaGFyczohMCxtaW5MZW5ndGg6MixjYXNlU2Vuc2l0aXZpdHk6ITEscmFuZG9taXphYmxlOiExfSx7bmFtZToiY2FzZVN0cmF0ZWd5Iix0eXBlOiJlbnVtIix2YWx1ZToibWFpbnRhaW4iLGVsZW1lbnRzOlsibWFpbnRhaW4iLCJpZ25vcmUiLCJzdHJpY3QiXSxsYWJlbHM6WyJNYWludGFpbiBjYXNlIiwiSWdub3JlIGNhc2UiLCJTdHJpY3QgKEEg4omgIGEpIl0sd2lkdGg6NixyYW5kb21pemFibGU6ITF9LHtuYW1lOiJpbmNsdWRlRm9yZWlnbkNoYXJzIix0eXBlOiJib29sZWFuIixsYWJlbDoiRm9yZWlnbiBDaGFycyIsd2lkdGg6Nix2YWx1ZTohMCxyYW5kb21pemFibGU6ITEsdHJ1ZUxhYmVsOiJJbmNsdWRlIixmYWxzZUxhYmVsOiJJZ25vcmUifV0pLGV9cmV0dXJuIGJ0KG4sbnVsbCxbe2tleToiZ2V0TWV0YSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gcWZ9fV0pLGJ0KG4sW3trZXk6InBlcmZvcm1UcmFuc2xhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj10aGlzLmdldFNldHRpbmdWYWx1ZXMoKSxpPXIudmFyaWFudCxhPXIuY2FzZVN0cmF0ZWd5LG89ci5pbmNsdWRlRm9yZWlnbkNoYXJzLHM9dGhpcy5nZXRTZXR0aW5nVmFsdWUoImFscGhhYmV0Iik7InN0cmljdCIhPT1hJiYobj0ocz1zLnRvTG93ZXJDYXNlKCkpLnRvVXBwZXJDYXNlKCkpO3ZhciBsPXRoaXMuZ2V0U2V0dGluZ1ZhbHVlcygpLHU9bC5rZXksYz1sLmtleU1vZGU7InRyaXRoZW1pdXMtY2lwaGVyIj09PWkmJih1PXMsYz0icmVwZWF0Iik7Zm9yKHZhciBoLGQsZixnLHAsdj1lLmdldExlbmd0aCgpLHk9bmV3IEFycmF5KHYpLG09MCxiPTAsaz0wO2s8djtrKyspaWYoZD1lLmdldENvZGVQb2ludEF0KGspLGY9ITEsLTE9PT0oaD1zLmluZGV4T2ZDb2RlUG9pbnQoZCkpJiYic3RyaWN0IiE9PWEmJihoPW4uaW5kZXhPZkNvZGVQb2ludChkKSxmPSEwKSwtMSE9PWgpe3N3aXRjaChnPXUuZ2V0Q29kZVBvaW50QXQoJHUubW9kKGIsdS5nZXRMZW5ndGgoKSkpLHA9cy5pbmRleE9mQ29kZVBvaW50KGcpLGkpe2Nhc2UiYmVhdWZvcnQtY2lwaGVyIjpoPXAtaDticmVhaztjYXNlInZhcmlhbnQtYmVhdWZvcnQtY2lwaGVyIjpoPXQ/aC1wOmgrcDticmVhaztkZWZhdWx0Omg9dD9oK3A6aC1wfWg9JHUubW9kKGgscy5nZXRMZW5ndGgoKSkseVttKytdPSJtYWludGFpbiI9PT1hJiZmP24uZ2V0Q29kZVBvaW50QXQoaCk6cy5nZXRDb2RlUG9pbnRBdChoKSwiYXV0b2tleSI9PT1jJiYoZz10P2Q6cy5nZXRDb2RlUG9pbnRBdChoKSx1PXFsLmpvaW4oW3UscWwud3JhcChbZ10pLnRvTG93ZXJDYXNlKCldLCIiKSksYisrfWVsc2UgbyYmKHlbbSsrXT1kKTtyZXR1cm4geS5zbGljZSgwLG0pfX0se2tleToic2V0dGluZ1ZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3N3aXRjaChlLmdldE5hbWUoKSl7Y2FzZSJ2YXJpYW50Ijp0aGlzLmdldFNldHRpbmcoImtleSIpLnNldFZpc2libGUoInRyaXRoZW1pdXMtY2lwaGVyIiE9PXQpLHRoaXMuZ2V0U2V0dGluZygia2V5TW9kZSIpLnNldFZpc2libGUoInRyaXRoZW1pdXMtY2lwaGVyIiE9PXQpO2JyZWFrO2Nhc2UiYWxwaGFiZXQiOnRoaXMuZ2V0U2V0dGluZygia2V5Iikuc2V0V2hpdGVsaXN0Q2hhcnModCk7YnJlYWs7Y2FzZSJjYXNlU3RyYXRlZ3kiOnRoaXMuZ2V0U2V0dGluZygiYWxwaGFiZXQiKS5zZXRDYXNlU2Vuc2l0aXZpdHkoInN0cmljdCI9PT10KSx0aGlzLmdldFNldHRpbmcoImtleSIpLnNldENhc2VTZW5zaXRpdml0eSgic3RyaWN0Ij09PXQpfX19XSksbn0ocXUpLEdmPW51bGwsSGY9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksZT10LmNhbGwodGhpcyksW0JmLGhkLGZmLFNmLElmLHBkLGxmLEljLEtkLE1mLFZkLGZkLHRjLFZmLEd1LFdmLHVjLHJjLGJmLEt1LFF1LF9jLFlkLExmLHpmLGRjLHZjLG9jLGJjLEZmLCRmLHlmLG9kLFVkLHJkLHdmLHpkLEZkXS5mb3JFYWNoKGUucmVnaXN0ZXIuYmluZChDdChlKSkpLGV9cmV0dXJuIGJ0KG4sW3trZXk6InJlZ2lzdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmdldE1ldGEoKS5uYW1lO3JldHVybiBBdCh3dChuLnByb3RvdHlwZSksInJlZ2lzdGVyIix0aGlzKS5jYWxsKHRoaXMsdCxlKX19LHtrZXk6ImdldE1ldGEiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldEludm9rYWJsZShlKS5nZXRNZXRhKCl9fSx7a2V5OiJnZXRMaWJyYXJ5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuZ2V0SWRlbnRpZmllcnMoKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmdldE1ldGEodCl9KSl9fV0sW3trZXk6ImdldEluc3RhbmNlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT09R2YmJihHZj1uZXcgbiksR2Z9fV0pLG59KEFuKSxLZj1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oZSl7dmFyIHI7cmV0dXJuIHl0KHRoaXMsbiksKHI9dC5jYWxsKHRoaXMpKS5fdGl0bGU9ZSxyLl8kdHJpZ2dlcj1udWxsLHIuX3Zpc2libGU9ITEsci5fdmFsdWU9bnVsbCxyLl9maW5pc2hDYWxsYmFjaz1udWxsLHIuX2NhbmNlbENhbGxiYWNrPW51bGwsci5fa2V5VXBIYW5kbGVyPXIua2V5RGlkUHJlc3MuYmluZChDdChyKSksci5fJG91dGVyPW51bGwsci5fJGRpYWxvZz1udWxsLHJ9cmV0dXJuIGJ0KG4sW3trZXk6ImlzVmlzaWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlzaWJsZX19LHtrZXk6InNldFZpc2libGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0sbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO2lmKHRoaXMuX3Zpc2libGUhPT10KXt0aGlzLl92aXNpYmxlPXQ7dmFyIHI9dGhpcy5nZXRFbGVtZW50KCk7dCYmKGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQociksdGhpcy5fJHRyaWdnZXI9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7dmFyIGk9dGhpcy5fJGRpYWxvZy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7dD90aGlzLl8kZGlhbG9nLnN0eWxlLmhlaWdodD0iMHB4IjoodGhpcy5fJGRpYWxvZy5zdHlsZS5oZWlnaHQ9IiIuY29uY2F0KGksInB4IiksdGhpcy5fJG91dGVyLnN0eWxlLmhlaWdodD0iIi5jb25jYXQoaSwicHgiKSksci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyLmFkZEV2ZW50TGlzdGVuZXIoInRyYW5zaXRpb25lbmQiLChmdW5jdGlvbigpe3NldFRpbWVvdXQoZS52aXNpYmlsaXR5RGlkQ2hhbmdlLmJpbmQoZSx0LG4pLDEwMCl9KSx7b25jZTohMH0pLHQ/KGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgibW9kYWwtdmlzaWJsZSIpLHIuY2xhc3NMaXN0LmFkZCgibW9kYWwtLXZpc2libGUiKSx0aGlzLl8kZGlhbG9nLnN0eWxlLmhlaWdodD0iIi5jb25jYXQoaSwicHgiKSx0aGlzLl9rZXlVcEhhbmRsZXImJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIix0aGlzLl9rZXlVcEhhbmRsZXIpKTooZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCJtb2RhbC12aXNpYmxlIiksci5jbGFzc0xpc3QucmVtb3ZlKCJtb2RhbC0tdmlzaWJsZSIpLHRoaXMuXyRkaWFsb2cuc3R5bGUuaGVpZ2h0PSIwcHgiLHRoaXMuX2tleVVwSGFuZGxlciYmZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5dXAiLHRoaXMuX2tleVVwSGFuZGxlcikpfXJldHVybiB0aGlzfX0se2tleToidmlzaWJpbGl0eURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2U/KHRoaXMuXyRkaWFsb2cucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLHRoaXMuZ2V0RWxlbWVudCgpLmZvY3VzKCkpOihzZXRUaW1lb3V0KChmdW5jdGlvbigpe24uXyRkaWFsb2cucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLG4uXyRvdXRlci5yZW1vdmVBdHRyaWJ1dGUoInN0eWxlIik7dmFyIGU9bi5nZXRFbGVtZW50KCk7bnVsbCE9PWUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfSksMTAwKSwhMT09PXQmJm51bGwhPT10aGlzLl9maW5pc2hDYWxsYmFjaz90aGlzLl9maW5pc2hDYWxsYmFjayh0aGlzLl92YWx1ZSk6ITA9PT10JiZudWxsIT09dGhpcy5fY2FuY2VsQ2FsbGJhY2smJnRoaXMuX2NhbmNlbENhbGxiYWNrKCksdGhpcy5fJHRyaWdnZXImJih0aGlzLl8kdHJpZ2dlci5mb2N1cygpLHRoaXMuXyR0cmlnZ2VyPW51bGwpLHRoaXMuX2ZpbmlzaENhbGxiYWNrPW51bGwsdGhpcy5fY2FuY2VsQ2FsbGJhY2s9bnVsbCl9fSx7a2V5OiJnZXRWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWV9fSx7a2V5OiJzZXRWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3ZhbHVlIT09ZSYmKHRoaXMuX3ZhbHVlPWUsdGhpcy52YWx1ZURpZENoYW5nZShlKSksdGhpc319LHtrZXk6InZhbHVlRGlkQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5OiJwcm9tcHQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp2b2lkIDA7cmV0dXJuIHZvaWQgMCE9PXQmJnRoaXMuc2V0VmFsdWUodCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZS5fZmluaXNoQ2FsbGJhY2s9dCxlLl9jYW5jZWxDYWxsYmFjaz1uLGUub3BlbigpfSkpfX0se2tleToib3BlbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRWaXNpYmxlKCEwKX19LHtrZXk6ImNhbmNlbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRWaXNpYmxlKCExLCEwKX19LHtrZXk6ImZpbmlzaCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dm9pZCAwO3JldHVybiB2b2lkIDAhPT1lJiZ0aGlzLnNldFZhbHVlKGUpLHRoaXMuc2V0VmlzaWJsZSghMSwhMSl9fSx7a2V5OiJyZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fJGRpYWxvZz10aGlzLnJlbmRlckRpYWxvZygpLHRoaXMuXyRvdXRlcj1ibi5jcmVhdGVFbGVtZW50KCJkaXYiLHtjbGFzc05hbWU6Im1vZGFsX19vdXRlciJ9LFt0aGlzLl8kZGlhbG9nXSksYm4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJtb2RhbCIscm9sZToiZGlhbG9nIix0YWJJbmRleDotMX0sW2JuLmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToibW9kYWxfX2JhY2tkcm9wIn0pLGJuLmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToibW9kYWxfX3Njcm9sbGFibGUiLHJvbGU6ImRvY3VtZW50IixvbkNsaWNrOmZ1bmN0aW9uKHQpe3QudGFyZ2V0PT09dC5jdXJyZW50VGFyZ2V0JiYodC5wcmV2ZW50RGVmYXVsdCgpLGUuY2FuY2VsKCkpfX0sW3RoaXMuXyRvdXRlcl0pXSl9fSx7a2V5OiJyZW5kZXJEaWFsb2ciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGJuLmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToibW9kYWxfX2RpYWxvZyJ9LFt0aGlzLnJlbmRlckhlYWRlcigpLHRoaXMucmVuZGVyQ29udGVudCgpXSl9fSx7a2V5OiJyZW5kZXJIZWFkZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWJuLmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIse2NsYXNzTmFtZToibW9kYWxfX2J0bi1jbG9zZSIsb25DbGljazpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksZS5jYW5jZWwoKX19KTtyZXR1cm4gdC5pbm5lckhUTUw9JzxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxwYXRoIGQ9Ik0xNSAyLjQxTDEzLjU5IDEgOCA2LjU5IDIuNDEgMSAxIDIuNDEgNi41OSA4IDEgMTMuNTkgMi40MSAxNSA4IDkuNDEgMTMuNTkgMTUgMTUgMTMuNTkgOS40MSA4eiIvPjwvc3ZnPicsYm4uY3JlYXRlRWxlbWVudCgiaGVhZGVyIix7Y2xhc3NOYW1lOiJtb2RhbF9faGVhZGVyIn0sW2JuLmNyZWF0ZUVsZW1lbnQoInNwYW4iLHtjbGFzc05hbWU6Im1vZGFsX190aXRsZSJ9LHRoaXMuX3RpdGxlKSx0XSl9fSx7a2V5OiJyZW5kZXJDb250ZW50Iix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImtleURpZFByZXNzIix2YWx1ZTpmdW5jdGlvbihlKXsyNz09PWUua2V5Q29kZSYmKGUucHJldmVudERlZmF1bHQoKSx0aGlzLmNhbmNlbCgpKX19XSksbn0oYm4pLFhmPWZ1bmN0aW9uKGUpe2t0KG4sZSk7dmFyIHQ9RXQobik7ZnVuY3Rpb24gbihlKXt2YXIgcjtyZXR1cm4geXQodGhpcyxuKSwocj10LmNhbGwodGhpcywiTGlicmFyeSIpKS5fbGlicmFyeT1lLHIuX2ZpbHRlcmVkTGlicmFyeT1lLHIuX2NhdGVnb3JpZXM9e30scn1yZXR1cm4gYnQobixbe2tleToiY2xlYXJGaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbHRlcmVkTGlicmFyeT10aGlzLl9saWJyYXJ5LHRoaXMucmVmcmVzaCgpLHRoaXN9fSx7a2V5OiJhcHBseUZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ZpbHRlcmVkTGlicmFyeT10aGlzLl9saWJyYXJ5LmZpbHRlcihlKSx0aGlzLnJlZnJlc2goKSx0aGlzfX0se2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPUF0KHd0KG4ucHJvdG90eXBlKSwicmVuZGVyIix0aGlzKS5jYWxsKHRoaXMpO3JldHVybiBlLmNsYXNzTGlzdC5hZGQoIm1vZGFsLWxpYnJhcnkiKSxlfX0se2tleToicmVuZGVyQ29udGVudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYm4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJtb2RhbF9fY29udGVudCJ9LFt0aGlzLnJlbmRlckJyaWNrcygpXSl9fSx7a2V5OiJyZW5kZXJCcmlja3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVtdLG49W107cmV0dXJuIHRoaXMuX2ZpbHRlcmVkTGlicmFyeS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj10LmluZGV4T2YoZS5jYXRlZ29yeSk7LTE9PT1yPyh0LnB1c2goZS5jYXRlZ29yeSksbi5wdXNoKFtlXSkpOm5bcl0ucHVzaChlKX0pKSxibi5jcmVhdGVFbGVtZW50KCJ1bCIse2NsYXNzTmFtZToibW9kYWwtbGlicmFyeV9fY2F0ZWdvcmllcyJ9LHQubWFwKChmdW5jdGlvbih0LHIpe3JldHVybiBibi5jcmVhdGVFbGVtZW50KCJsaSIse2NsYXNzTmFtZToibW9kYWwtbGlicmFyeV9fY2F0ZWdvcnkifSxbYm4uY3JlYXRlRWxlbWVudCgic3BhbiIse2NsYXNzTmFtZToibW9kYWwtbGlicmFyeV9fY2F0ZWdvcnktdGl0bGUifSx0KSxibi5jcmVhdGVFbGVtZW50KCJ1bCIse2NsYXNzTmFtZToibW9kYWwtbGlicmFyeV9fYnJpY2tzIn0sbltyXS5tYXAoZS5yZW5kZXJCcmljay5iaW5kKGUpKSldKX0pKSl9fSx7a2V5OiJyZW5kZXJCcmljayIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gYm4uY3JlYXRlRWxlbWVudCgibGkiLHt9LFtibi5jcmVhdGVFbGVtZW50KCJidXR0b24iLHtjbGFzc05hbWU6Im1vZGFsLWxpYnJhcnlfX2JyaWNrIG1vZGFsLWxpYnJhcnlfX2JyaWNrLS0iK2UudHlwZSxvbkNsaWNrOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKSx0LmZpbmlzaChlLm5hbWUpfX0sW2JuLmNyZWF0ZUVsZW1lbnQoInNwYW4iLHtjbGFzc05hbWU6Im1vZGFsLWxpYnJhcnlfX2JyaWNrLXRpdGxlIn0sZS50aXRsZSldKV0pfX1dKSxufShLZiksWmY9InBpcGVfX3Njcm9sbC1oYW5kbGUtLWRpc2FibGVkIixZZj0iYXBwbGljYXRpb24vdm5kLmNyeXB0aWkuYnJpY2sranNvbiIsSmY9ZnVuY3Rpb24oZSl7a3QobixlKTt2YXIgdD1FdChuKTtmdW5jdGlvbiBuKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMsbiksKGU9dC5jYWxsKHRoaXMpKS5fJHNjcm9sbGFibGU9bnVsbCxlLl8kY29udGVudD1udWxsLGUuX2RyYWdnaW5nQnJpY2tWaWV3PW51bGwsZS5fZHJhZ2dpbmdUYXJnZXRJbmRleD1udWxsLGUuXyRwaXBlUGFydHM9W10sZS5fcGlwZVBhcnRQb3NpdGlvbnM9W10sZS5fcGlwZVBhcnRJbmRleD1bXSxlLl9zY3JvbGxNYXg9MCxlLl9zY3JvbGxQb3NpdGlvbj0wLGUuX3Njcm9sbEhhbmRsZUluZGV4PW51bGwsZS5fc2Nyb2xsSGFuZGxlU3RhcnRQb3NpdGlvbj1udWxsLGUuX3Njcm9sbEhhbmRsZVN0YXJ0VGltZT1udWxsLGV9cmV0dXJuIGJ0KG4sW3trZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl8kY29udGVudD1ibi5jcmVhdGVFbGVtZW50KCJkaXYiLHtjbGFzc05hbWU6InBpcGVfX2NvbnRlbnQifSksdGhpcy5fJHNjcm9sbEhhbmRsZUxlZnQ9Ym4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJwaXBlX19zY3JvbGwtaGFuZGxlIHBpcGVfX3Njcm9sbC1oYW5kbGUtLWxlZnQgcGlwZV9fc2Nyb2xsLWhhbmRsZS0tZGlzYWJsZWQiLG9uTW91c2VFbnRlcjp0aGlzLnNjcm9sbEhhbmRsZURpZFN0YXJ0LmJpbmQodGhpcywwKSxvbkRyYWdFbnRlcjp0aGlzLnNjcm9sbEhhbmRsZURpZFN0YXJ0LmJpbmQodGhpcywwKSxvbk1vdXNlTGVhdmU6dGhpcy5zY3JvbGxIYW5kbGVEaWRTdG9wLmJpbmQodGhpcyksb25EcmFnTGVhdmU6dGhpcy5zY3JvbGxIYW5kbGVEaWRTdG9wLmJpbmQodGhpcyl9KSx0aGlzLl8kc2Nyb2xsSGFuZGxlUmlnaHQ9Ym4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJwaXBlX19zY3JvbGwtaGFuZGxlIHBpcGVfX3Njcm9sbC1oYW5kbGUtLXJpZ2h0Iixvbk1vdXNlRW50ZXI6dGhpcy5zY3JvbGxIYW5kbGVEaWRTdGFydC5iaW5kKHRoaXMsMSksb25EcmFnRW50ZXI6dGhpcy5zY3JvbGxIYW5kbGVEaWRTdGFydC5iaW5kKHRoaXMsMSksb25Nb3VzZUxlYXZlOnRoaXMuc2Nyb2xsSGFuZGxlRGlkU3RvcC5iaW5kKHRoaXMpLG9uRHJhZ0xlYXZlOnRoaXMuc2Nyb2xsSGFuZGxlRGlkU3RvcC5iaW5kKHRoaXMpfSk7dmFyIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnBpcGUiKTtyZXR1cm4gbnVsbD09PWUmJihlPWJuLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5jbGFzc0xpc3QuYWRkKCJwaXBlIiksZS5vbmRyb3A9dGhpcy5kcmFnRGlkRHJvcC5iaW5kKHRoaXMpLGUub25kcmFnZW50ZXI9dGhpcy5kcmFnRGlkRW50ZXJQaXBlLmJpbmQodGhpcyksZS5vbmRyYWdvdmVyPXRoaXMuZHJhZ0RpZE92ZXJQaXBlLmJpbmQodGhpcyksdGhpcy5fJHNjcm9sbGFibGU9ZS5xdWVyeVNlbGVjdG9yKCIucGlwZV9fc2Nyb2xsYWJsZSIpLG51bGw9PT10aGlzLl8kc2Nyb2xsYWJsZSYmKHRoaXMuXyRzY3JvbGxhYmxlPWJuLmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToicGlwZV9fc2Nyb2xsYWJsZSJ9KSksdGhpcy5fJHNjcm9sbGFibGUuYXBwZW5kQ2hpbGQodGhpcy5fJGNvbnRlbnQpLHRoaXMuXyRzY3JvbGxhYmxlLmFwcGVuZENoaWxkKHRoaXMuXyRzY3JvbGxIYW5kbGVMZWZ0KSx0aGlzLl8kc2Nyb2xsYWJsZS5hcHBlbmRDaGlsZCh0aGlzLl8kc2Nyb2xsSGFuZGxlUmlnaHQpLGUuYXBwZW5kQ2hpbGQodGhpcy5fJHNjcm9sbGFibGUpLGUuYWRkRXZlbnRMaXN0ZW5lcigid2hlZWwiLHRoaXMubW91c2VEaWRXaGVlbC5iaW5kKHRoaXMpKSxlfX0se2tleToiYXBwZW5kU3Vidmlld0VsZW1lbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgSmw/KHRoaXMudXBkYXRlKCksdGhpcyk6QXQod3Qobi5wcm90b3R5cGUpLCJhcHBlbmRTdWJ2aWV3RWxlbWVudCIsdGhpcykuY2FsbCh0aGlzLGUpfX0se2tleToicmVtb3ZlU3Vidmlld0VsZW1lbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBBdCh3dChuLnByb3RvdHlwZSksInJlbW92ZVN1YnZpZXdFbGVtZW50Iix0aGlzKS5jYWxsKHRoaXMsZSksZSBpbnN0YW5jZW9mIEpsJiZ0aGlzLnVwZGF0ZSgpLHRoaXN9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgpLmdldEJyaWNrcygpLHQ9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFZpZXcoKX0pKTt0aGlzLmdldEVsZW1lbnQoKTt2YXIgbixyPXRoaXMuXyRjb250ZW50O3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRFbGVtZW50KCk7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9KSksci5pbm5lckhUTUw9IiIsdGhpcy5fJHBpcGVQYXJ0cz1bXSx0aGlzLl9waXBlUGFydEluZGV4PVtdO2Zvcih2YXIgaT1bXSxhPTA7YTxlLmxlbmd0aDthKyspaWYoZVthXS5pc0hpZGRlbigpKXtpZihpLnB1c2goZVthXSksYSsxPT09ZS5sZW5ndGh8fCFlW2ErMV0uaXNIaWRkZW4oKSl7dmFyIG89YS1pLmxlbmd0aCsxO249dGhpcy5fY3JlYXRlUGlwZVBhcnQobyksdGhpcy5fJHBpcGVQYXJ0cy5wdXNoKG4pLHRoaXMuX3BpcGVQYXJ0SW5kZXgucHVzaChvKSxyLmFwcGVuZENoaWxkKG4pLHIuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlQ29sbGFwc2VkUGFydChpKSksaT1bXX19ZWxzZSBuPXRoaXMuX2NyZWF0ZVBpcGVQYXJ0KGEpLHRoaXMuXyRwaXBlUGFydHMucHVzaChuKSx0aGlzLl9waXBlUGFydEluZGV4LnB1c2goYSksci5hcHBlbmRDaGlsZChuKSxyLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZUJyaWNrUGFydCh0W2FdKSk7cmV0dXJuIG49dGhpcy5fY3JlYXRlUGlwZVBhcnQodC5sZW5ndGgpLHRoaXMuXyRwaXBlUGFydHMucHVzaChuKSx0aGlzLl9waXBlUGFydEluZGV4LnB1c2godC5sZW5ndGgpLHIuYXBwZW5kQ2hpbGQobiksdGhpcy5sYXlvdXQoKSx0aGlzfX0se2tleToiX2NyZWF0ZVBpcGVQYXJ0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBibi5jcmVhdGVFbGVtZW50KCJidXR0b24iLHtjbGFzc05hbWU6InBpcGVfX3BhcnQtcGlwZSIsb25DbGljazpmdW5jdGlvbihuKXt0LmdldE1vZGVsKCkudmlld0FkZEJ1dHRvbkRpZENsaWNrKHQsZSksbi5wcmV2ZW50RGVmYXVsdCgpfX0sW2JuLmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToicGlwZV9fYnRuLWFkZCJ9LCJBZGQgZW5jb2RlciBvciB2aWV3ZXIiKSxibi5jcmVhdGVFbGVtZW50KCJkaXYiLHtjbGFzc05hbWU6InBpcGVfX2Ryb3AtaGFuZGxlIn0pXSl9fSx7a2V5OiJfY3JlYXRlQnJpY2tQYXJ0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmdldE1vZGVsKClpbnN0YW5jZW9mIHF1PyJlbmNvZGVyIjoidmlld2VyIjtyZXR1cm4gYm4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJwaXBlX19wYXJ0LWJyaWNrIHBpcGVfX3BhcnQtYnJpY2stLSIuY29uY2F0KHQpLGRyYWdnYWJsZTohMCxvbk1vdXNlRG93bjp0aGlzLmJyaWNrRHJhZ1dpbGxTdGFydC5iaW5kKHRoaXMsZSksb25EcmFnU3RhcnQ6dGhpcy5icmlja0RyYWdEaWRTdGFydC5iaW5kKHRoaXMsZSksb25EcmFnRW5kOnRoaXMuYnJpY2tEcmFnRGlkRW5kLmJpbmQodGhpcyxlKX0sZS5nZXRFbGVtZW50KCkpfX0se2tleToiX2NyZWF0ZUNvbGxhcHNlZFBhcnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGJuLmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIse2NsYXNzTmFtZToicGlwZV9fcGFydC1jb2xsYXBzZWQiLG9uQ2xpY2s6ZnVuY3Rpb24obil7dC5nZXRNb2RlbCgpLnZpZXdIaWRkZW5Ccmlja0dyb3VwRGlkQ2xpY2sodCxlKSxuLnByZXZlbnREZWZhdWx0KCl9fSxlLm1hcCgoZnVuY3Rpb24oKXtyZXR1cm4gYm4uY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJwaXBlX19wYXJ0LWNvbGxhcHNlZC1mb2xkIn0pfSkpKX19LHtrZXk6ImlzQnJpY2tEcmFnRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YVRyYW5zZmVyLnR5cGVzO3JldHVybiB2b2lkIDAhPT10LmNvbnRhaW5zP3QuY29udGFpbnMoWWYpOi0xIT09dC5pbmRleE9mKFlmKX19LHtrZXk6ImlzRmllbGRNb3VzZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybi0xIT09WyJ0ZXh0YXJlYSIsImlucHV0Il0uaW5kZXhPZih0KX19LHtrZXk6ImJyaWNrRHJhZ1dpbGxTdGFydCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmlzRmllbGRNb3VzZUV2ZW50KHQpfHwhZS5nZXRNb2RlbCgpLmlzVmFsaWQoKSl7dmFyIG49ZS5nZXRFbGVtZW50KCkucGFyZW50Tm9kZTtuJiYobi5kcmFnZ2FibGU9ITEsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLmRyYWdnYWJsZT0hMH0pLDUwMCkpfX19LHtrZXk6ImJyaWNrRHJhZ0RpZFN0YXJ0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKCF0aGlzLmlzRmllbGRNb3VzZUV2ZW50KHQpJiZlLmdldE1vZGVsKCkuaXNWYWxpZCgpKXt0aGlzLl9kcmFnZ2luZ0JyaWNrVmlldz1lO3ZhciBuPUpTT04uc3RyaW5naWZ5KGUuZ2V0TW9kZWwoKS5zZXJpYWxpemUoKSk7dC5kYXRhVHJhbnNmZXIuc2V0RGF0YShZZixuKSx0LmRhdGFUcmFuc2Zlci5zZXREYXRhKCJhcHBsaWNhdGlvbi9qc29uIixuKSx0LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkPSJjb3B5TW92ZSJ9fX0se2tleToiYnJpY2tEcmFnRGlkRW5kIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX2RyYWdnaW5nQnJpY2tWaWV3PW51bGwsdGhpcy5zZXREcmFnZ2luZ1BpcGVQYXJ0SW5kZXgobnVsbCl9fSx7a2V5OiJkcmFnRGlkRW50ZXJQaXBlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmlzQnJpY2tEcmFnRXZlbnQoZSkmJmUucHJldmVudERlZmF1bHQoKX19LHtrZXk6ImRyYWdEaWRPdmVyUGlwZSIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5pc0JyaWNrRHJhZ0V2ZW50KGUpKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHQ9ZS5wYWdlWCt0aGlzLl9zY3JvbGxQb3NpdGlvbixuPWUucGFnZVkscj1udWxsLGk9MDt0aGlzLl9waXBlUGFydFBvc2l0aW9ucy5mb3JFYWNoKChmdW5jdGlvbihlLGEpe3ZhciBvPU1hdGguc3FydChNYXRoLnBvdyh0LWUueCwyKStNYXRoLnBvdyhuLWUueSwyKSk7KG51bGw9PT1yfHxvPHIpJiYocj1vLGk9YSl9KSksdGhpcy5zZXREcmFnZ2luZ1BpcGVQYXJ0SW5kZXgoaSl9fX0se2tleToiZHJhZ0RpZERyb3AiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNCcmlja0RyYWdFdmVudChlKSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PSJjb3B5Ij09PWUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQsbj10aGlzLl9waXBlUGFydEluZGV4W3RoaXMuX2RyYWdnaW5nVGFyZ2V0SW5kZXhdO2lmKHRoaXMuc2V0RHJhZ2dpbmdQaXBlUGFydEluZGV4KG51bGwpLG51bGwhPT10aGlzLl9kcmFnZ2luZ0JyaWNrVmlldyl7dmFyIHI9dGhpcy5fZHJhZ2dpbmdCcmlja1ZpZXcuZ2V0TW9kZWwoKTt0aGlzLmdldE1vZGVsKCkudmlld0JyaWNrRGlkRHJvcCh0aGlzLG4scix0KX1lbHNle3ZhciBpPUpTT04ucGFyc2UoZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShZZikpO3RoaXMuZ2V0TW9kZWwoKS52aWV3QnJpY2tEaWREcm9wKHRoaXMsbixpLHQpfX19fSx7a2V5OiJzZXREcmFnZ2luZ1BpcGVQYXJ0SW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2RyYWdnaW5nVGFyZ2V0SW5kZXghPT1lJiYobnVsbCE9PXRoaXMuX2RyYWdnaW5nVGFyZ2V0SW5kZXgmJnRoaXMuXyRwaXBlUGFydHNbdGhpcy5fZHJhZ2dpbmdUYXJnZXRJbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgicGlwZV9fcGFydC1waXBlLS1kcmFnZ2luZyIpLHRoaXMuX2RyYWdnaW5nVGFyZ2V0SW5kZXg9ZSxudWxsIT09ZT8odGhpcy5fJHBpcGVQYXJ0c1t0aGlzLl9kcmFnZ2luZ1RhcmdldEluZGV4XS5jbGFzc0xpc3QuYWRkKCJwaXBlX19wYXJ0LXBpcGUtLWRyYWdnaW5nIiksdGhpcy5nZXRFbGVtZW50KCkuY2xhc3NMaXN0LmFkZCgicGlwZS0tZHJhZ2dpbmciKSk6dGhpcy5nZXRFbGVtZW50KCkuY2xhc3NMaXN0LnJlbW92ZSgicGlwZS0tZHJhZ2dpbmciKSl9fSx7a2V5OiJtb3VzZURpZFdoZWVsIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmRlbHRhWCxuPWUuZGVsdGFZO01hdGguYWJzKHQpPD1NYXRoLmFicyhuKXx8KGUucHJldmVudERlZmF1bHQoKSx0aGlzLnNjcm9sbFRvKHRoaXMuX3Njcm9sbFBvc2l0aW9uK3QpKX19LHtrZXk6InNjcm9sbEhhbmRsZURpZFN0YXJ0Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zY3JvbGxIYW5kbGVJbmRleD1lLHRoaXMuX3Njcm9sbEhhbmRsZVN0YXJ0UG9zaXRpb249dGhpcy5fc2Nyb2xsUG9zaXRpb24sdGhpcy5fc2Nyb2xsSGFuZGxlU3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5zY3JvbGxIYW5kbGVEaWRTY3JvbGwuYmluZCh0aGlzKSl9fSx7a2V5OiJzY3JvbGxIYW5kbGVEaWRTY3JvbGwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMuX3Njcm9sbEhhbmRsZUluZGV4KXt2YXIgZT0wPT09dGhpcy5fc2Nyb2xsSGFuZGxlSW5kZXg/LTE6MSx0PSgobmV3IERhdGUpLmdldFRpbWUoKS10aGlzLl9zY3JvbGxIYW5kbGVTdGFydFRpbWUpLzFlMyxuPWUqTWF0aC5wb3codCwyKSoxZTM7dGhpcy5zY3JvbGxUbyh0aGlzLl9zY3JvbGxIYW5kbGVTdGFydFBvc2l0aW9uK24pLHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5zY3JvbGxIYW5kbGVEaWRTY3JvbGwuYmluZCh0aGlzKSl9fX0se2tleToic2Nyb2xsSGFuZGxlRGlkU3RvcCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9zY3JvbGxIYW5kbGVJbmRleD1udWxsLHRoaXMuX3Njcm9sbEhhbmRsZVN0YXJ0UG9zaXRpb249bnVsbCx0aGlzLl9zY3JvbGxIYW5kbGVTdGFydFRpbWU9bnVsbH19LHtrZXk6ImxheW91dCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO0F0KHd0KG4ucHJvdG90eXBlKSwibGF5b3V0Iix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuX3Njcm9sbE1heD10aGlzLl8kY29udGVudC5vZmZzZXRXaWR0aC10aGlzLl8kc2Nyb2xsYWJsZS5vZmZzZXRXaWR0aCx0aGlzLnNjcm9sbFRvKHRoaXMuX3Njcm9sbFBvc2l0aW9uKSwwPT09dGhpcy5fc2Nyb2xsUG9zaXRpb24/dGhpcy5fJHNjcm9sbEhhbmRsZUxlZnQuY2xhc3NMaXN0LmFkZChaZik6dGhpcy5fJHNjcm9sbEhhbmRsZUxlZnQuY2xhc3NMaXN0LnJlbW92ZShaZiksdGhpcy5fc2Nyb2xsUG9zaXRpb249PT10aGlzLl9zY3JvbGxNYXg/dGhpcy5fJHNjcm9sbEhhbmRsZVJpZ2h0LmNsYXNzTGlzdC5hZGQoWmYpOnRoaXMuXyRzY3JvbGxIYW5kbGVSaWdodC5jbGFzc0xpc3QucmVtb3ZlKFpmKTt2YXIgdD13aW5kb3cuc2Nyb2xsWTt0aGlzLl9waXBlUGFydFBvc2l0aW9ucz10aGlzLl8kcGlwZVBhcnRzLm1hcCgoZnVuY3Rpb24obil7dmFyIHI9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57eDpyLmxlZnQrLjUqci53aWR0aCtlLl9zY3JvbGxQb3NpdGlvbix5OnIudG9wKy41KnIuaGVpZ2h0K3R9fSkpfX0se2tleToic2Nyb2xsVG8iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7cmV0dXJuIGU9cGFyc2VJbnQoZSksZT1NYXRoLm1heChNYXRoLm1pbihlLHRoaXMuX3Njcm9sbE1heCksMCksdGhpcy5fc2Nyb2xsUG9zaXRpb24hPT1lJiYoMD09PWU/KHRoaXMuXyRzY3JvbGxIYW5kbGVMZWZ0LmNsYXNzTGlzdC5hZGQoWmYpLHRoaXMuc2Nyb2xsSGFuZGxlRGlkU3RvcCgpKTowPT09dGhpcy5fc2Nyb2xsUG9zaXRpb24mJnRoaXMuXyRzY3JvbGxIYW5kbGVMZWZ0LmNsYXNzTGlzdC5yZW1vdmUoWmYpLGU9PT10aGlzLl9zY3JvbGxNYXg/KHRoaXMuXyRzY3JvbGxIYW5kbGVSaWdodC5jbGFzc0xpc3QuYWRkKFpmKSx0aGlzLnNjcm9sbEhhbmRsZURpZFN0b3AoKSk6dGhpcy5fc2Nyb2xsUG9zaXRpb249PT10aGlzLl9zY3JvbGxNYXgmJnRoaXMuXyRzY3JvbGxIYW5kbGVSaWdodC5jbGFzc0xpc3QucmVtb3ZlKFpmKSx0aGlzLl8kY29udGVudC5zdHlsZS50cmFuc2Zvcm09ZT4wPyJ0cmFuc2xhdGUoIi5jb25jYXQoLWUsInB4LCAwKSIpOiIiLHRoaXMuX3Njcm9sbFBvc2l0aW9uPWUpLHRoaXN9fV0pLG59KGJuKSxRZj1mdW5jdGlvbihlKXtrdChzLGUpO3ZhciB0LG4scixpLGEsbz1FdChzKTtmdW5jdGlvbiBzKCl7dmFyIGU7cmV0dXJuIHl0KHRoaXMscyksKGU9by5jYWxsKHRoaXMpKS5fdmlld1Byb3RvdHlwZT1KZixlLl9icmlja0ZhY3Rvcnk9bnVsbCxlLl9zZXJ2aWNlPW51bGwsZS5faWQ9bnVsbCxlLl91cmw9bnVsbCxlLl90aXRsZT1udWxsLGUuX2Rlc2NyaXB0aW9uPW51bGwsZS5fYnJpY2tzPVtdLGUuX2JyaWNrU3RhdGU9W10sZS5fYnVja2V0Q29udGVudD1bcWwuZW1wdHkoKV0sZS5fYnVja2V0TGlzdGVuZXJzPVtbXV0sZS5fc2VsZWN0ZWRCdWNrZXQ9MCxlLl9saWJyYXJ5TW9kYWxWaWV3PW51bGwsZX1yZXR1cm4gYnQocyxbe2tleToiZ2V0SWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfX0se2tleToic2V0SWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pZD1lLHRoaXN9fSx7a2V5OiJnZXRVcmwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19LHtrZXk6InNldFVybCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3VybD1lLHRoaXN9fSx7a2V5OiJnZXRUaXRsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGl0bGV9fSx7a2V5OiJzZXRUaXRsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RpdGxlPWUsdGhpc319LHtrZXk6ImdldERlc2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXNjcmlwdGlvbn19LHtrZXk6InNldERlc2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGVzY3JpcHRpb249ZSx0aGlzfX0se2tleToiZ2V0QnJpY2tGYWN0b3J5Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9icmlja0ZhY3Rvcnl9fSx7a2V5OiJzZXRCcmlja0ZhY3RvcnkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9icmlja0ZhY3Rvcnk9ZSx0aGlzfX0se2tleToiZ2V0U2VydmljZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VydmljZX19LHtrZXk6InNldFNlcnZpY2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zZXJ2aWNlPWUsdGhpc319LHtrZXk6ImdldExpYnJhcnlNb2RhbFZpZXciLHZhbHVlOmZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMuX2xpYnJhcnlNb2RhbFZpZXcpe3ZhciBlPXRoaXMuZ2V0QnJpY2tGYWN0b3J5KCkuZ2V0TGlicmFyeSgpO3RoaXMuX2xpYnJhcnlNb2RhbFZpZXc9bmV3IFhmKGUpfXJldHVybiB0aGlzLl9saWJyYXJ5TW9kYWxWaWV3fX0se2tleToiZ2V0TGVuZ3RoIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9icmlja3MubGVuZ3RofX0se2tleToiZ2V0QnJpY2tzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9icmlja3Muc2xpY2UoKX19LHtrZXk6ImdldEJyaWNrIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlPDB8fGU+dGhpcy5fYnJpY2tzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkJyaWNrIGluZGV4IGlzIG91dCBvZiBib3VuZHMuIik7cmV0dXJuIHRoaXMuX2JyaWNrc1tlXX19LHtrZXk6ImNvbnRhaW5zQnJpY2siLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybi0xIT09dGhpcy5fYnJpY2tzLmluZGV4T2YoZSl9fSx7a2V5OiJhZGRCcmljayIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3BsaWNlQnJpY2tzKC0xLDAsW2VdKSx0aGlzfX0se2tleToiYWRkQnJpY2tzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zcGxpY2VCcmlja3MoLTEsMCxlKSx0aGlzfX0se2tleToiZHVwbGljYXRlQnJpY2siLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsO2lmKCF0aGlzLmNvbnRhaW5zQnJpY2soZSkpdGhyb3cgbmV3IEVycm9yKCJCcmljayBpcyBub3QgcGFydCBvZiB0aGUgcGlwZS4iKTtyZXR1cm4gbnVsbD09PXQmJih0PXRoaXMuX2JyaWNrcy5pbmRleE9mKGUpKSx0aGlzLnNwbGljZUJyaWNrcyh0LDAsW2UuY29weSgpXSksdGhpc319LHtrZXk6Im1vdmVCcmljayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9icmlja3MuaW5kZXhPZihlKTtpZigtMT09PW4pdGhyb3cgbmV3IEVycm9yKCJCcmljayBpcyBub3QgcGFydCBvZiB0aGUgcGlwZS4iKTtyZXR1cm4gdD5uJiZ0LS0sdGhpcy5zcGxpY2VCcmlja3MobiwxKSx0aGlzLnNwbGljZUJyaWNrcyh0LDAsW2VdKSx0aGlzfX0se2tleToicmVtb3ZlQnJpY2siLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWU7aWYoZSBpbnN0YW5jZW9mIER1JiYtMT09PSh0PXRoaXMuX2JyaWNrcy5pbmRleE9mKGUpKSl0aHJvdyBuZXcgRXJyb3IoIkJyaWNrIGlzIG5vdCBwYXJ0IG9mIHRoZSBwaXBlIGFuZCB0aHVzIGNhbid0IGJlIHJlbW92ZWQuIik7cmV0dXJuIHRoaXMuc3BsaWNlQnJpY2tzKHQsMSksdGhpc319LHtrZXk6InJlbW92ZUJyaWNrcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBuPWU7aWYoZSBpbnN0YW5jZW9mIER1JiYtMT09PShuPXQuX2JyaWNrcy5pbmRleE9mKGUpKSl0aHJvdyBuZXcgRXJyb3IoIkJyaWNrIGlzIG5vdCBwYXJ0IG9mIHRoZSBwaXBlIGFuZCB0aHVzIGNhbid0IGJlIHJlbW92ZWQuIik7cmV0dXJuIG59KSkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC1lfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNwbGljZUJyaWNrcyhlLDEpfSkpLHRoaXN9fSx7a2V5OiJyZXBsYWNlQnJpY2siLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fYnJpY2tzLmluZGV4T2YoZSk7aWYoLTE9PT1uKXRocm93IG5ldyBFcnJvcigiQ2FuJ3QgcmVwbGFjZSBhIGJyaWNrIG5vdCBiZWluZyBwYXJ0IG9mIHRoZSBwaXBlLiIpO3JldHVybiB0aGlzLnNwbGljZUJyaWNrcyhuLDEsW3RdKSx0aGlzfX0se2tleToic3BsaWNlQnJpY2tzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06W107ZT1lPj0wP2U6TWF0aC5tYXgodGhpcy5fYnJpY2tzLmxlbmd0aCtlKzEsMCksdGhpcy5fYnVja2V0TGlzdGVuZXJzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVqZWN0KCJQaXBlIGJyaWNrcyBoYXZlIGJlZW4gY2hhbmdlZC4iKX0pKSxbXX0pKSxyPXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIER1P2U6RHUuZXh0cmFjdChlLG4uZ2V0QnJpY2tGYWN0b3J5KCkpfSkpO3ZhciBpPXRoaXMuX2JyaWNrcy5zcGxpY2UuYXBwbHkodGhpcy5fYnJpY2tzLFtlLHRdLmNvbmNhdChyKSk7dGhpcy5fYnJpY2tTdGF0ZS5zcGxpY2UuYXBwbHkodGhpcy5fYnJpY2tTdGF0ZSxbZSx0XS5jb25jYXQoci5tYXAoKGZ1bmN0aW9uKCl7cmV0dXJue3NldHRpbmdzVmVyc2lvbjoxLGJ1c3k6ITF9fSkpKSk7dmFyIGE9MCxvPTA7aWYoci5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnNldFBpcGUobiksbi5oYXNWaWV3KCkmJm4uZ2V0VmlldygpLmFkZFN1YnZpZXcoZS5nZXRWaWV3KCkpLGUgaW5zdGFuY2VvZiBxdSYmYSsrLGV1LnRyaWdnZXIoInBpcGVBZGRCcmljayIse3BpcGU6bixicmljazplfSl9KSksaS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmhhc1ZpZXcoKSYmbi5nZXRWaWV3KCkucmVtb3ZlU3VidmlldyhlLmdldFZpZXcoKSksZS5zZXRQaXBlKG51bGwpLGUgaW5zdGFuY2VvZiBxdSYmbysrLGV1LnRyaWdnZXIoInBpcGVSZW1vdmVCcmljayIse3BpcGU6bixicmljazplfSl9KSksYT4wfHxvPjApe3ZhciBzPXRoaXMuX2JyaWNrcy5yZWR1Y2UoKGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdCsobiBpbnN0YW5jZW9mIHF1JiZyPD1lPzE6MCl9KSwwKTswPT09cyYmKHM9MSk7dmFyIGw9bmV3IEFycmF5KGEpLmZpbGwoKS5tYXAoKGZ1bmN0aW9uKCl7cmV0dXJuIHFsLmVtcHR5KCl9KSksdT10aGlzLl9idWNrZXRDb250ZW50LnNwbGljZS5hcHBseSh0aGlzLl9idWNrZXRDb250ZW50LFtzLG9dLmNvbmNhdChsKSk7aWYodGhpcy5fYnVja2V0TGlzdGVuZXJzLnNwbGljZS5hcHBseSh0aGlzLl9idWNrZXRMaXN0ZW5lcnMsW3Msb10uY29uY2F0KGwubWFwKChmdW5jdGlvbihlKXtyZXR1cm5bXX0pKSkpLHRoaXMuX3NlbGVjdGVkQnVja2V0PD1zLTEpdGhpcy5fcHJvcGFnYXRlQ29udGVudChzLTEsITApO2Vsc2UgaWYodGhpcy5fc2VsZWN0ZWRCdWNrZXQ9PT1zJiYxPT09byYmMT09PWEpdGhpcy5fYnVja2V0Q29udGVudFt0aGlzLl9zZWxlY3RlZEJ1Y2tldF09dVswXSx0aGlzLl9wcm9wYWdhdGVDb250ZW50KHRoaXMuX3NlbGVjdGVkQnVja2V0LCExKTtlbHNlIGlmKHRoaXMuX3NlbGVjdGVkQnVja2V0PD1zLTErbyl0aGlzLl9zZWxlY3RlZEJ1Y2tldD1zLTEsdGhpcy5fcHJvcGFnYXRlQ29udGVudCh0aGlzLl9zZWxlY3RlZEJ1Y2tldCwhMCk7ZWxzZXt2YXIgYz1hLW87dGhpcy5fc2VsZWN0ZWRCdWNrZXQrPWMsdGhpcy5fcHJvcGFnYXRlQ29udGVudChzK2EsITEpfX1lbHNlIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uX3RyaWdnZXJWaWV3ZXJWaWV3KGUpfSkpO3JldHVybiB0aGlzLmhhc1ZpZXcoKSYmdGhpcy5nZXRWaWV3KCkubGF5b3V0KCksaX19LHtrZXk6ImdldEJ1Y2tldExlbmd0aCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVja2V0Q29udGVudC5sZW5ndGh9fSx7a2V5OiJnZXRDb250ZW50Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxuPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYodD49dGhpcy5fYnVja2V0Q29udGVudC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJCdWNrZXQgaW5kZXggIi5jb25jYXQodCwiIGlzIG91dCBvZiBib3VuZHMuIikpO3JldHVybiBuJiZ0aGlzLmlzQnVzeSgpP25ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2UuX2J1Y2tldExpc3RlbmVyc1t0XS5wdXNoKHtyZXNvbHZlOm4scmVqZWN0OnJ9KX0pKTp0aGlzLl9idWNrZXRDb250ZW50W3RdfX0se2tleToic2V0Q29udGVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbDtyZXR1cm4gZT1xbC53cmFwKGUpLHRoaXMuZ2V0Q29udGVudCh0LCExKS5pc0VxdWFsVG8oZSl8fCh0aGlzLl9idWNrZXRDb250ZW50W3RdPWUsKG51bGw9PT1ufHxuIGluc3RhbmNlb2YgdWQpJiYodGhpcy5fc2VsZWN0ZWRCdWNrZXQ9dCksdGhpcy5fcHJvcGFnYXRlQ29udGVudCh0LG4pKSx0aGlzfX0se2tleToiX3Byb3BhZ2F0ZUNvbnRlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLG49dGhpcy5nZXRCcmlja3NBdHRhY2hlZFRvQnVja2V0KGUpLHI9bi5sb3dlckVuY29kZXIsaT1uLnVwcGVyRW5jb2RlcixhPW4udmlld2VycztyZXR1cm4gYS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKS5mb3JFYWNoKHRoaXMuX3RyaWdnZXJWaWV3ZXJWaWV3LmJpbmQodGhpcykpLG51bGwhPT1yJiYhMCE9PXQmJnIhPT10JiZ0aGlzLl90cmlnZ2VyRW5jb2RlclRyYW5zbGF0aW9uKHIsITEpLG51bGwhPT1pJiYhMSE9PXQmJmkhPT10JiZ0aGlzLl90cmlnZ2VyRW5jb2RlclRyYW5zbGF0aW9uKGksITApLHRoaXN9fSx7a2V5OiJfdHJpZ2dlclZpZXdlclZpZXciLHZhbHVlOihhPXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciBuLHIsaSxhLG8scztyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKCF0aGlzLl9nZXRCcmlja1N0YXRlKHQsImJ1c3kiKSl7ZS5uZXh0PTI7YnJlYWt9cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHRoaXMpO2Nhc2UgMjpyZXR1cm4gdGhpcy5fc2V0QnJpY2tTdGF0ZSh0LCJidXN5IiwhMCksbj10aGlzLmdldEJ1Y2tldEluZGV4Rm9yQnJpY2sodCkscj10aGlzLmdldENvbnRlbnQobiwhMSksaT10aGlzLl9nZXRCcmlja1N0YXRlKHQsInNldHRpbmdzVmVyc2lvbiIpLGUucHJldj02LGUubmV4dD05LHQudmlldyhyKTtjYXNlIDk6ZS5uZXh0PTE0O2JyZWFrO2Nhc2UgMTE6ZS5wcmV2PTExLGUudDA9ZS5jYXRjaCg2KSxhPWUudDA7Y2FzZSAxNDppZih0aGlzLmNvbnRhaW5zQnJpY2sodCkpe2UubmV4dD0xNjticmVha31yZXR1cm4gZS5hYnJ1cHQoInJldHVybiIpO2Nhc2UgMTY6aWYodGhpcy5fc2V0QnJpY2tTdGF0ZSh0LCJidXN5IiwhMSksbz10aGlzLl9nZXRCcmlja1N0YXRlKHQsInNldHRpbmdzVmVyc2lvbiIpLHM9dGhpcy5nZXRCdWNrZXRJbmRleEZvckJyaWNrKHQpLHRoaXMuZ2V0Q29udGVudChzLCExKS5pc0VxdWFsVG8ocikmJmk9PT1vfHx0aGlzLl90cmlnZ2VyVmlld2VyVmlldyh0KSx0aGlzLmJyaWNrRGlkRmluaXNoKHQsYSksIWF8fGEgaW5zdGFuY2VvZiBSbCl7ZS5uZXh0PTIzO2JyZWFrfXRocm93IGE7Y2FzZSAyMzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyxbWzYsMTFdXSl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJfdHJpZ2dlckVuY29kZXJUcmFuc2xhdGlvbiIsdmFsdWU6KGk9dnQocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCxuKXt2YXIgcixpLGEsbyxzLGwsdSxjLGgsZDtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKCF0aGlzLl9nZXRCcmlja1N0YXRlKHQsImJ1c3kiKSl7ZS5uZXh0PTI7YnJlYWt9cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHRoaXMpO2Nhc2UgMjpyZXR1cm4gdGhpcy5fc2V0QnJpY2tTdGF0ZSh0LCJidXN5IiwhMCkscj10aGlzLmdldEJ1Y2tldEluZGV4Rm9yQnJpY2sodCksaT10aGlzLmdldENvbnRlbnQocisobj8wOjEpLCExKSxhPXRoaXMuX2dldEJyaWNrU3RhdGUodCwic2V0dGluZ3NWZXJzaW9uIiksZS5wcmV2PTYsZS5uZXh0PTksdC50cmFuc2xhdGUoaSxuKTtjYXNlIDk6bz1lLnNlbnQsZS5uZXh0PTE1O2JyZWFrO2Nhc2UgMTI6ZS5wcmV2PTEyLGUudDA9ZS5jYXRjaCg2KSxzPWUudDA7Y2FzZSAxNTppZih0aGlzLmNvbnRhaW5zQnJpY2sodCkpe2UubmV4dD0xNzticmVha31yZXR1cm4gZS5hYnJ1cHQoInJldHVybiIpO2Nhc2UgMTc6aWYodGhpcy5fc2V0QnJpY2tTdGF0ZSh0LCJidXN5IiwhMSksbD10aGlzLl9nZXRCcmlja1N0YXRlKHQsInNldHRpbmdzVmVyc2lvbiIpLHU9dGhpcy5nZXRCdWNrZXRJbmRleEZvckJyaWNrKHQpLGM9dSsobj8wOjEpLGg9dGhpcy5nZXRDb250ZW50KGMsITEpLGQ9dSsobj8xOjApLCEobiYmdGhpcy5fc2VsZWN0ZWRCdWNrZXQ+PWR8fCFuJiZ0aGlzLl9zZWxlY3RlZEJ1Y2tldDw9ZCkpe2UubmV4dD0yNjticmVha31yZXR1cm4gdGhpcy5fdHJpZ2dlckVuY29kZXJUcmFuc2xhdGlvbih0LCFuKSxlLmFicnVwdCgicmV0dXJuIik7Y2FzZSAyNjppZihzfHx0aGlzLnNldENvbnRlbnQobyxkLHQpLGguaXNFcXVhbFRvKGkpJiZhPT09bHx8dGhpcy5fdHJpZ2dlckVuY29kZXJUcmFuc2xhdGlvbih0LG4pLHRoaXMuYnJpY2tEaWRGaW5pc2godCxzKSwhc3x8cyBpbnN0YW5jZW9mIFJsKXtlLm5leHQ9MzE7YnJlYWt9dGhyb3cgcztjYXNlIDMxOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzLFtbNiwxMl1dKX0pKSksZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiX2dldEJyaWNrU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fYnJpY2tzLmluZGV4T2YoZSk7aWYoLTE9PT1uKXRocm93IG5ldyBFcnJvcigiQnJpY2sgaXMgbm90IHBhcnQgb2YgdGhlIHBpcGUgYW5kIHRodXMgaGFzIG5vIHN0YXRlLiIpO3JldHVybiB0aGlzLl9icmlja1N0YXRlW25dW3RdfX0se2tleToiX3NldEJyaWNrU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLl9icmlja3MuaW5kZXhPZihlKTtpZigtMT09PXIpdGhyb3cgbmV3IEVycm9yKCJCcmljayBpcyBub3QgcGFydCBvZiB0aGUgcGlwZSBhbmQgdGh1cyBoYXMgbm8gc3RhdGUuIik7cmV0dXJuIHRoaXMuX2JyaWNrU3RhdGVbcl1bdF09bix0aGlzfX0se2tleToiaXNCdXN5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX2JyaWNrcy5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHR8fGUuX2dldEJyaWNrU3RhdGUobiwiYnVzeSIpfSksITEpfX0se2tleToiZ2V0QnVja2V0SW5kZXhGb3JCcmljayIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSExLG49MCxyPS0xOyF0JiYrK3I8dGhpcy5fYnJpY2tzLmxlbmd0aDspdGhpcy5fYnJpY2tzW3JdPT09ZT90PSEwOnRoaXMuX2JyaWNrc1tyXWluc3RhbmNlb2YgcXUmJm4rKztpZighdCl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IGZpbmQgYnVja2V0IGZvciBicmljay4gQnJpY2sgaXMgbm90IHBhcnQgb2YgUGlwZS4iKTtyZXR1cm4gbn19LHtrZXk6ImdldEJyaWNrc0F0dGFjaGVkVG9CdWNrZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPW51bGwscj1udWxsLGk9W10sYT0wLG89LTE7KytvPHRoaXMuX2JyaWNrcy5sZW5ndGgmJmE8PWU7KSh0PXRoaXMuX2JyaWNrc1tvXSlpbnN0YW5jZW9mIHF1PyhhPT09ZS0xP249dDphPT09ZSYmKHI9dCksYSsrKTphPT09ZSYmaS5wdXNoKHQpO3JldHVybntsb3dlckVuY29kZXI6bix1cHBlckVuY29kZXI6cix2aWV3ZXJzOml9fX0se2tleToidmlld2VyQ29udGVudERpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmNvbnRhaW5zQnJpY2soZSkpe3ZhciBuPXRoaXMuZ2V0QnVja2V0SW5kZXhGb3JCcmljayhlKTt0aGlzLnNldENvbnRlbnQodCxuLGUpfX19LHtrZXk6ImJyaWNrVmlzaWJpbGl0eURpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnVwZGF0ZVZpZXcoKX19LHtrZXk6ImJyaWNrU2V0dGluZ0RpZENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5jb250YWluc0JyaWNrKGUpKWlmKHRoaXMuX3NldEJyaWNrU3RhdGUoZSwic2V0dGluZ3NWZXJzaW9uIix0aGlzLl9nZXRCcmlja1N0YXRlKGUsInNldHRpbmdzVmVyc2lvbiIpKzEpLGUgaW5zdGFuY2VvZiBxdSl7dmFyIHQ9dGhpcy5nZXRCdWNrZXRJbmRleEZvckJyaWNrKGUpLG49dGhpcy5fc2VsZWN0ZWRCdWNrZXQ8PXQ7dGhpcy5fdHJpZ2dlckVuY29kZXJUcmFuc2xhdGlvbihlLG4pfWVsc2UgdGhpcy5fdHJpZ2dlclZpZXdlclZpZXcoZSl9fSx7a2V5OiJlbmNvZGVyRGlkUmV2ZXJzZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZigzPT09dGhpcy5fYnJpY2tzLmxlbmd0aCYmInZpZXdlciI9PT10aGlzLl9icmlja3NbMF0uZ2V0TWV0YSgpLnR5cGUmJiJlbmNvZGVyIj09PXRoaXMuX2JyaWNrc1sxXS5nZXRNZXRhKCkudHlwZSYmInZpZXdlciI9PT10aGlzLl9icmlja3NbMl0uZ2V0TWV0YSgpLnR5cGUpe3ZhciBuPXRoaXMuZ2V0Q29udGVudCgxLCExKSxyPXRoaXMuc3BsaWNlQnJpY2tzKDAsMyk7ci5yZXZlcnNlKCksdGhpcy5zZXRDb250ZW50KG4sMCksdGhpcy5zcGxpY2VCcmlja3MoMCwwLHIpfWVsc2UgdGhpcy5icmlja1NldHRpbmdEaWRDaGFuZ2UoZSl9fSx7a2V5OiJicmlja0RpZEZpbmlzaCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3RoaXMuaXNCdXN5KCl8fHRoaXMuX2J1Y2tldExpc3RlbmVycy5tYXAoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT10P2UucmVzb2x2ZShuLmdldENvbnRlbnQociwhMSkpOmUucmVqZWN0KHQpfSkpLFtdfSkpfX0se2tleToiYnJpY2tSZXBsYWNlQnV0dG9uRGlkQ2xpY2siLHZhbHVlOihyPXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciBuLHIsaTtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKChuPXRoaXMuZ2V0TGlicmFyeU1vZGFsVmlldygpKS5hcHBseUZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PXQuZ2V0TWV0YSgpLnR5cGV9KSksIW4uaXNWaXNpYmxlKCkpe2UubmV4dD00O2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIik7Y2FzZSA0OnJldHVybiByPXQuZ2V0TWV0YSgpLm5hbWUsZS5wcmV2PTUsZS5uZXh0PTgsbi5wcm9tcHQocik7Y2FzZSA4OnI9ZS5zZW50LGUubmV4dD0xNDticmVhaztjYXNlIDExOnJldHVybiBlLnByZXY9MTEsZS50MD1lLmNhdGNoKDUpLGUuYWJydXB0KCJyZXR1cm4iKTtjYXNlIDE0OnIhPT10LmdldE1ldGEoKS5uYW1lJiYoaT10aGlzLmdldEJyaWNrRmFjdG9yeSgpLmNyZWF0ZShyKSx0IGluc3RhbmNlb2YgcXUmJmkgaW5zdGFuY2VvZiBxdSYmaS5zZXRSZXZlcnNlKHQuaXNSZXZlcnNlKCkpLHRoaXMucmVwbGFjZUJyaWNrKHQsaSkpO2Nhc2UgMTU6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMsW1s1LDExXV0pfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToidmlld0FkZEJ1dHRvbkRpZENsaWNrIix2YWx1ZToobj12dChyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0LG4pe3ZhciByLGksYTtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBldS50cmlnZ2VyKCJwaXBlQWRkQnV0dG9uQ2xpY2siLHtwaXBlOnRoaXMsaW5kZXg6bn0pLChyPXRoaXMuZ2V0TGlicmFyeU1vZGFsVmlldygpKS5jbGVhckZpbHRlcigpLGUucHJldj0zLGUubmV4dD02LHIucHJvbXB0KCk7Y2FzZSA2Omk9ZS5zZW50LGUubmV4dD0xMjticmVhaztjYXNlIDk6cmV0dXJuIGUucHJldj05LGUudDA9ZS5jYXRjaCgzKSxlLmFicnVwdCgicmV0dXJuIik7Y2FzZSAxMjphPXRoaXMuZ2V0QnJpY2tGYWN0b3J5KCkuY3JlYXRlKGkpLHRoaXMuc3BsaWNlQnJpY2tzKG4sMCxbYV0pO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMsW1szLDldXSl9KSkpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6InZpZXdCcmlja0RpZERyb3AiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdO24gaW5zdGFuY2VvZiBEdT9yP3RoaXMuZHVwbGljYXRlQnJpY2sobix0KTp0aGlzLm1vdmVCcmljayhuLHQpOnRoaXMuc3BsaWNlQnJpY2tzKHQsMCxbbl0pLGV1LnRyaWdnZXIoInBpcGVCcmlja0Ryb3AiLHtwaXBlOnRoaXMsaW5kZXg6dCxicmljazpuLGNvcHk6cn0pfX0se2tleToidmlld0hpZGRlbkJyaWNrR3JvdXBEaWRDbGljayIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNldEhpZGRlbighMSl9KSksZXUudHJpZ2dlcigicGlwZUhpZGRlbkJyaWNrR3JvdXBDbGljayIse3BpcGU6dGhpcyxicmlja3M6dH0pfX0se2tleToiZGlkQ3JlYXRlVmlldyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fYnJpY2tzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFkZFN1YnZpZXcodC5nZXRWaWV3KCkpfSkpfX0se2tleToic3RvcmUiLHZhbHVlOih0PXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIHQ7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsdGhpcy5nZXRTZXJ2aWNlKCkuc3RvcmVQaXBlKHRoaXMpO2Nhc2UgMjpyZXR1cm4gdD1lLnNlbnQsZS5hYnJ1cHQoInJldHVybiIsdC51cmwpO2Nhc2UgNDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6InNlcmlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17fTtudWxsIT09dGhpcy5faWQmJihlLmlkPXRoaXMuX2lkKSxudWxsIT09dGhpcy5fdXJsJiYoZS51cmw9dGhpcy5fdXJsKSxudWxsIT09dGhpcy5fdGl0bGUmJihlLnRpdGxlPXRoaXMuX3RpdGxlKSxudWxsIT09dGhpcy5fZGVzY3JpcHRpb24mJihlLmRlc2NyaXB0aW9uPXRoaXMuX2Rlc2NyaXB0aW9uKSxlLml0ZW1zPXRoaXMuX2JyaWNrcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlcmlhbGl6ZSgpfSkpO3ZhciB0PXRoaXMuX3NlbGVjdGVkQnVja2V0LG49dGhpcy5fYnVja2V0Q29udGVudFt0XTtpZighbi5pc0VtcHR5KCl8fHQ+MCl7ZS5jb250ZW50PXt9LG4ubmVlZHNUZXh0RW5jb2RpbmcoKT8oZS5jb250ZW50LmRhdGE9RmwuYmFzZTY0U3RyaW5nRnJvbUJ5dGVzKG4uZ2V0Qnl0ZXMoKSksZS5jb250ZW50LmVuY29kaW5nPSJiYXNlNjQiKTplLmNvbnRlbnQuZGF0YT1uLmdldFN0cmluZygpO3ZhciByPXRoaXMuZ2V0QnJpY2tzQXR0YWNoZWRUb0J1Y2tldCh0KS5sb3dlckVuY29kZXI7bnVsbCE9PXImJihlLmNvbnRlbnQuaW5kZXg9dGhpcy5fYnJpY2tzLmluZGV4T2YocikrMSl9cmV0dXJuIGV9fV0sW3trZXk6ImV4dHJhY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZS5pdGVtcyl8fDA9PT1lLml0ZW1zLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlBpcGUgcHJvcGVydHkgJ2l0ZW1zJyBpcyBleHBlY3RlZCB0byBiZSBvZiB0eXBlICdhcnJheScgYW5kIG11c3Qgbm90IGJlIGVtcHR5Iik7dmFyIG49bmV3IHM7aWYobi5zZXRCcmlja0ZhY3RvcnkodCksbi5hZGRCcmlja3MoZS5pdGVtcyksdm9pZCAwIT09ZS5pZCYmbnVsbCE9PWUuaWQpe2lmKCJudW1iZXIiIT10eXBlb2YgZS5pZCl0aHJvdyBuZXcgRXJyb3IoIk9wdGlvbmFsIHBpcGUgcHJvcGVydHkgJ2lkJyBpcyBleHBlY3RlZCB0byBiZSBvZiB0eXBlICdudW1iZXInIik7bi5zZXRJZChlLmlkKX1pZih2b2lkIDAhPT1lLnVybCYmbnVsbCE9PWUudXJsKXtpZigic3RyaW5nIiE9dHlwZW9mIGUudXJsKXRocm93IG5ldyBFcnJvcigiT3B0aW9uYWwgcGlwZSBwcm9wZXJ0eSAndXJsJyBpcyBleHBlY3RlZCB0byBiZSBvZiB0eXBlICdzdHJpbmcnIik7bi5zZXRVcmwoZS51cmwpfWlmKHZvaWQgMCE9PWUudGl0bGUmJm51bGwhPT1lLnRpdGxlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUudGl0bGUpdGhyb3cgbmV3IEVycm9yKCJPcHRpb25hbCBwaXBlIHByb3BlcnR5ICd0aXRsZScgaXMgZXhwZWN0ZWQgdG8gYmUgb2YgdHlwZSAnc3RyaW5nJyIpO24uc2V0VGl0bGUoZS50aXRsZSl9aWYodm9pZCAwIT09ZS5kZXNjcmlwdGlvbiYmbnVsbCE9PWUuZGVzY3JpcHRpb24pe2lmKCJzdHJpbmciIT10eXBlb2YgZS5kZXNjcmlwdGlvbil0aHJvdyBuZXcgRXJyb3IoIk9wdGlvbmFsIHBpcGUgcHJvcGVydHkgJ2Rlc2NyaXB0aW9uJyBpcyBleHBlY3RlZCB0byBiZSBvZiB0eXBlICdzdHJpbmcnIik7bi5zZXREZXNjcmlwdGlvbihlLmRlc2NyaXB0aW9uKX12YXIgcj0iIixpPTA7aWYodm9pZCAwIT09ZS5jb250ZW50JiZudWxsIT09ZS5jb250ZW50KXtpZigib2JqZWN0IiE9PWd0KGUuY29udGVudCkpdGhyb3cgbmV3IEVycm9yKCJPcHRpb25hbCBwaXBlIHByb3BlcnR5ICdjb250ZW50JyBpcyBleHBlY3RlZCB0byBiZSBvZiB0eXBlICdvYmplY3QnIik7aWYodm9pZCAwPT09ZS5jb250ZW50LmRhdGF8fCJzdHJpbmciIT10eXBlb2YgZS5jb250ZW50LmRhdGEpdGhyb3cgbmV3IEVycm9yKCJQaXBlIHByb3BlcnR5ICdjb250ZW50LmRhdGEnIGlzIGV4cGVjdGVkIHRvIGJlIG9mIHR5cGUgJ3N0cmluZyciKTtpZih2b2lkIDAhPT1lLmNvbnRlbnQuZW5jb2RpbmcmJiJzdHJpbmciIT10eXBlb2YgZS5jb250ZW50LmVuY29kaW5nKXRocm93IG5ldyBFcnJvcigiT3B0aW9uYWwgcGlwZSBwcm9wZXJ0eSAnY29udGVudC5lbmNvZGluZycgaXMgZXhwZWN0ZWQgdG8gYmUgb2YgdHlwZSAnc3RyaW5nJyIpO2lmKHZvaWQgMCE9PWUuY29udGVudC5pbmRleCYmIm51bWJlciIhPXR5cGVvZiBlLmNvbnRlbnQuaW5kZXgpdGhyb3cgbmV3IEVycm9yKCJPcHRpb25hbCBwaXBlIHByb3BlcnR5ICdjb250ZW50LmluZGV4JyBpcyBleHBlY3RlZCB0byBiZSBvZiB0eXBlICdudW1iZXInIik7dmFyIGE9ZS5jb250ZW50LmVuY29kaW5nfHwidGV4dCI7c3dpdGNoKGEpe2Nhc2UidGV4dCI6cj1lLmNvbnRlbnQuZGF0YTticmVhaztjYXNlImJhc2U2NCI6cj1GbC5ieXRlc0Zyb21CYXNlNjRTdHJpbmcoZS5jb250ZW50LmRhdGEpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJPcHRpb25hbCBwaXBlIHByb3BlcnR5ICdjb250ZW50LmVuY29kaW5nJyBpcyBzZXQgdG8gYW4gdW5zdXBwb3J0ZWQgIisiZW5jb2RpbmcgJyIuY29uY2F0KGEsIic7IFN1cHBvcnRlZCB2YWx1ZXM6IHRleHQsIGJhc2U2NCIpKX12YXIgbz1lLmNvbnRlbnQuaW5kZXh8fDA7aWYobz09PW4uZ2V0TGVuZ3RoKCkpaT1uLmdldEJ1Y2tldExlbmd0aCgpLTE7ZWxzZXtpZighKG8+PTAmJm88bi5nZXRMZW5ndGgoKSkpdGhyb3cgbmV3IEVycm9yKCJPcHRpb25hbCBwaXBlIHByb3BlcnR5ICdjb250ZW50LmluZGV4JyBpcyBleHBlY3RlZCB0byBiZSBhIG51bWJlciAiKyJyYW5naW5nIGZyb20gMCB0byAiLmNvbmNhdChuLmdldEJ1Y2tldExlbmd0aCgpLTEpKTtpPW4uZ2V0QnVja2V0SW5kZXhGb3JCcmljayhuLmdldEJyaWNrKG8pKX19cmV0dXJuIG4uc2V0Q29udGVudChyLGkpLG59fV0pLHN9KHR1KSxlZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7eXQodGhpcyxlKSx0aGlzLl9yb290RW5kcG9pbnQ9IiIuY29uY2F0KHQsIi8iKS5jb25jYXQoInYxIil9dmFyIHQsbjtyZXR1cm4gYnQoZSxbe2tleToiY3JlYXRlU2Vzc2lvbiIsdmFsdWU6KG49dnQocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdDtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLm5leHQ9Mix3aW5kb3cuZmV0Y2goIiIuY29uY2F0KHRoaXMuX3Jvb3RFbmRwb2ludCwiL3Nlc3Npb24iKSk7Y2FzZSAyOmlmKCh0PWUuc2VudCkub2spe2UubmV4dD01O2JyZWFrfXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBhIHNlc3Npb24iKTtjYXNlIDU6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHQuanNvbigpKTtjYXNlIDY6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJzdG9yZVBpcGUiLHZhbHVlOih0PXZ0KHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciBuLHIsaTtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLm5leHQ9Mix0aGlzLmNyZWF0ZVNlc3Npb24oKTtjYXNlIDI6cmV0dXJuIG49ZS5zZW50LGUubmV4dD01LHdpbmRvdy5mZXRjaCgiIi5jb25jYXQodGhpcy5fcm9vdEVuZHBvaW50LCIvcGlwZXMiKSx7bWV0aG9kOiJQT1NUIixoZWFkZXJzOnsiQ29udGVudC10eXBlIjoiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsQXV0aG9yaXphdGlvbjoiQmVhcmVyICIuY29uY2F0KG4udG9rZW4pfSxib2R5OkpTT04uc3RyaW5naWZ5KHQuc2VyaWFsaXplKCkpfSk7Y2FzZSA1OmlmKChyPWUuc2VudCkub2spe2UubmV4dD04O2JyZWFrfXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIHN0b3JlIHRoaXMgcGlwZSIpO2Nhc2UgODpyZXR1cm4gZS5uZXh0PTEwLHIuanNvbigpO2Nhc2UgMTA6aWYodm9pZCAwPT09KGk9ZS5zZW50KS5lcnJvcil7ZS5uZXh0PTEzO2JyZWFrfXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIHN0b3JlIHRoaXMgcGlwZTogIitpLmVycm9yLm1lc3NhZ2UpO2Nhc2UgMTM6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLGkpO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX1dKSxlfSgpLHRnPXt2ZXJzaW9uOiI0LjAuOCttYXN0ZXIuYjAyOWQ4YyIsc2NvcGU6Ii8iLHNlcnZpY2VFbmRwb2ludDoiaHR0cHM6Ly9jcnlwdGlpLmNvbS9hcGkiLHNlcnZpY2VXb3JrZXJVcmw6bnVsbH0sbmc9bnVsbCxyZz1mdW5jdGlvbihlKXtrdChuLGUpO3ZhciB0PUV0KG4pO2Z1bmN0aW9uIG4oKXt2YXIgZSxyPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4geXQodGhpcyxuKSwoZT10LmNhbGwodGhpcykpLl92aWV3UHJvdG90eXBlPWtuLGUuX3BpcGU9bnVsbCxlLl9jb25maWc9T2JqZWN0LmFzc2lnbih0ZyxyKSxlLl9zZXJ2aWNlPW5ldyBlZyhlLl9jb25maWcuc2VydmljZUVuZHBvaW50KSxuZz1DdChlKSxlfXJldHVybiBidChuLFt7a2V5OiJydW4iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO1FoLnBsYWNlQnJvd3NlckF0dHJpYnV0ZSgpLG51bGwhPT10P3RoaXMuX3BpcGU9UWYuZXh0cmFjdCh0LEhmLmdldEluc3RhbmNlKCkpOih0aGlzLl9waXBlPW5ldyBRZix0aGlzLl9waXBlLnNldEJyaWNrRmFjdG9yeShIZi5nZXRJbnN0YW5jZSgpKSksdGhpcy5fcGlwZS5zZXRTZXJ2aWNlKHRoaXMuX3NlcnZpY2UpO3ZhciBuPXRoaXMuZ2V0VmlldygpO3JldHVybiBuLmxheW91dCgpLHNldFRpbWVvdXQobi5sYXlvdXQuYmluZChuKSwxMDApLCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYic2VydmljZVdvcmtlciJpbiBuYXZpZ2F0b3ImJih0aGlzLl9jb25maWcuc2VydmljZVdvcmtlclVybD9uYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcih0aGlzLl9jb25maWcuc2VydmljZVdvcmtlclVybCx7c2NvcGU6dGhpcy5fY29uZmlnLnNjb3BlfSk6bmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9ucygpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVucmVnaXN0ZXIoKX0pKX0pKSksUWguaXNCcm93c2VyKCkmJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLChmdW5jdGlvbih0KXt0LmN0cmxLZXkmJiJpIj09PXQua2V5JiYodC5wcmV2ZW50RGVmYXVsdCgpLGFsZXJ0KGUuZGVidWcoKSkpfSkpLHRoaXN9fSx7a2V5OiJkZWJ1ZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoe3ZlcnNpb246dGhpcy5fY29uZmlnLnZlcnNpb24sZW52OlFoLmlkZW50aWZ5KCkscGlwZTp0aGlzLmdldFBpcGUoKS5zZXJpYWxpemUoKX0pfX0se2tleToiZ2V0UGlwZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZX19LHtrZXk6ImRpZENyZWF0ZVZpZXciLHZhbHVlOmZ1bmN0aW9uKGUpe2UuYWRkU3Vidmlldyh0aGlzLl9waXBlLmdldFZpZXcoKSl9fV0sW3trZXk6ImdldEluc3RhbmNlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZ319XSksbn0odHUpO2lmKFFoLmlzQnJvd3NlcigpJiZudWxsIT09ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtY3J5cHRpaS1pbml0XSIpKXt2YXIgaWc9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzY3JpcHRbZGF0YS1jcnlwdGlpLXBpcGVdIiksdD1udWxsIT09ZT9KU09OLnBhcnNlKGUuaW5uZXJIVE1MKTpudWxsLG49ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtY3J5cHRpaS1jb25maWddIikscj1udWxsIT09bj9KU09OLnBhcnNlKG4uaW5uZXJIVE1MKTp7fTtuZXcgcmcocikucnVuKHQpfTsibG9hZGluZyIhPT1kb2N1bWVudC5yZWFkeVN0YXRlP2lnKCk6d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGlnKX1lLkFwcD1yZyxlLkFycmF5VXRpbD1hbCxlLkJyaWNrPUR1LGUuQnJpY2tGYWN0b3J5PUhmLGUuQnl0ZUVuY29kZXI9RmwsZS5CeXRlRW5jb2RpbmdFcnJvcj16bCxlLkNoYWluPXFsLGUuRW5jb2Rlcj1xdSxlLkVudlV0aWw9UWgsZS5FdmVudE1hbmFnZXI9ZXUsZS5GYWN0b3J5PUFuLGUuRmllbGQ9bnUsZS5GaWVsZEZhY3Rvcnk9TnUsZS5Gb3JtPUZ1LGUuR2VuZXJpY0Vycm9yPU9sLGUuSW52YWxpZElucHV0RXJyb3I9UmwsZS5MaWJyYXJ5TW9kYWxWaWV3PVhmLGUuTWF0aFV0aWw9JHUsZS5Nb2RhbFZpZXc9S2YsZS5QaXBlPVFmLGUuUmFuZG9tPWlsLGUuU3RyaW5nVXRpbD1CbCxlLlRleHRFbmNvZGVyPWpsLGUuVGV4dEVuY29kaW5nRXJyb3I9RGwsZS5WaWV3PWJuLGUuVmlld2FibGU9dHUsZS5WaWV3ZXI9dWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSkpOwovLyMgc291cmNlTWFwcGluZ1VSTD1jcnlwdGlpLmpzLm1hcAo=" data-cryptii-init></script>
    <script type="application/json" data-cryptii-config>
      {"serviceEndpoint":"https:\/\/cryptii.com\/api"}
    </script>

    <!-- Translation pipe -->
    <script type="application/vnd.cryptii.pipe+json" data-cryptii-pipe>
      {"$schema":"https:\/\/cryptii.com\/schemas\/pipe.json","id":177272168,"url":"https:\/\/cryptii.com\/","title":"Modular conversion, encoding and encryption online","description":"Web app offering modular conversion, encoding and encryption online. Translations are done in the browser without any server interaction. This is an Open Source project, code licensed MIT.","items":[{"name":"text"},{"name":"enigma","settings":{"model":"M3","rotor1":"VI","rotor2":"I","rotor3":"III","position1":1,"position2":17,"position3":12,"reflector":"UKW-B","plugboard":"bq cr di ej kw mt os px uz gh"}},{"name":"text"}],"content":{"data":"The quick brown fox jumps over the lazy dog."},"createdAt":1528034235,"updatedAt":1558258847}
    </script>


  </head>
  <body>

    <div class="app">

      <header class="app__header header">
        <div class="header__inner">
          <div class="header__item">
            <a class="header__brand" href="/">Cryptii</a>
          </div>

                    <div class="header__item">
            <a class="header__badge" href="https://forms.gle/wU11nYMy73EiDFk76" target="_blank">
              Help us build the next cryptii
            </a>
          </div>
          
                    <div class="header__flexible-space"></div>
          <div class="header__featured">
            <script async src="https://cdn.carbonads.com/carbon.js?serve=CKYILKQL&amp;placement=cryptiicom" id="_carbonads_js"></script>
          </div>
          
        </div>
      </header>

      
<article class="app__pipe pipe">

  <header class="pipe__header">
    <div class="container">

      <h1 class="pipe__title">Modular conversion, encoding and encryption online</h1>

            <p class="pipe__description">Web app offering modular conversion, encoding and encryption online. Translations are done in the browser without any server interaction. This is an Open Source project, code licensed MIT.</p>
      
            <ul class="pipe__link-list link-list">
                <li class="link-list__item">
          <a class="link-list__link"
             href="/pipes/enigma-tirpitz"
             title="The Japanese Enigma &quot;Tirpitz&quot;: Simulate and encrypt online">
            Japanese Enigma
          </a>
        </li>
                <li class="link-list__item">
          <a class="link-list__link"
             href="/pipes/punycode"
             title="Punycode converter â€“ Encode domain names online">
            Punycode converter
          </a>
        </li>
                <li class="link-list__item">
          <a class="link-list__link"
             href="/pipes/roman-numerals"
             title="Roman numerals: Convert and translate online">
            Roman numerals
          </a>
        </li>
                <li class="link-list__item">
          <a class="link-list__link"
             href="/pipes/ascii85-encoding"
             title="Ascii85 / base85: Encode, decode and translate text online">
            Ascii85
          </a>
        </li>
                <li class="link-list__item">
          <a class="link-list__link"
             href="/pipes/hex-to-base64"
             title="Hex to Base64: Encode and decode bytes online">
            Hex to Base64
          </a>
        </li>
              </ul>
      
    </div>
  </header>

  <div class="pipe__scrollable"></div>
</article>


      <footer class="app__footer footer">
        <div class="container">
          <div class="footer__inner">
            <h2 class="footer__brand">
              <a href="/">Cryptii</a>
            </h2>
            <p class="footer__description">
              Web app offering modular conversion, encoding and encryption online. Translations are done in the browser without any server interaction. Powered by <a href="https://wierk.lu/" target="_blank" rel="noopener">Wierk Studio</a>. Code licensed <a href="https://github.com/cryptii/cryptii/blob/master/LICENSE.md" target="_blank" rel="noopener">MIT</a>.
            </p>
            <ul class="footer__link-list link-list">

                            <li class="link-list__item">
                <a class="link-list__link"
                   href="/about"
                   target="_blank"
                   rel="noopener">
                  About
                </a>
              </li>
                            <li class="link-list__item">
                <a class="link-list__link"
                   href="https://twitter.com/cryptii"
                   target="_blank"
                   rel="noopener">
                  Twitter
                </a>
              </li>
                            <li class="link-list__item">
                <a class="link-list__link"
                   href="https://github.com/cryptii/cryptii"
                   target="_blank"
                   rel="noopener">
                  GitHub
                </a>
              </li>
                            <li class="link-list__item">
                <a class="link-list__link"
                   href="https://github.com/cryptii/cryptii/issues"
                   target="_blank"
                   rel="noopener">
                  Bug tracker
                </a>
              </li>
                            <li class="link-list__item">
                <a class="link-list__link"
                   href="/legal"
                   target="_blank"
                   rel="noopener">
                  Legal notice
                </a>
              </li>
              
            </ul>
          </div>
        </div>
      </footer>

    </div>

  </body>
</html>
